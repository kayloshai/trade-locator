(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var jp={exports:{}},nu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function zC(){if(n0)return nu;n0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:l}}return nu.Fragment=e,nu.jsx=t,nu.jsxs=t,nu}var i0;function qC(){return i0||(i0=1,jp.exports=zC()),jp.exports}var E=qC(),Vp={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0;function HC(){if(r0)return ke;r0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function b(j){return j===null||typeof j!="object"?null:(j=T&&j[T]||j["@@iterator"],typeof j=="function"?j:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,k={};function I(j,ie,ce){this.props=j,this.context=ie,this.refs=k,this.updater=ce||R}I.prototype.isReactComponent={},I.prototype.setState=function(j,ie){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ie,"setState")},I.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function U(){}U.prototype=I.prototype;function z(j,ie,ce){this.props=j,this.context=ie,this.refs=k,this.updater=ce||R}var K=z.prototype=new U;K.constructor=z,C(K,I.prototype),K.isPureReactComponent=!0;var F=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function M(j,ie,ce,ne,pe,ee){return ce=ee.ref,{$$typeof:n,type:j,key:ie,ref:ce!==void 0?ce:null,props:ee}}function O(j,ie){return M(j.type,ie,void 0,void 0,void 0,j.props)}function A(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function D(j){var ie={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ce){return ie[ce]})}var P=/\/+/g;function B(j,ie){return typeof j=="object"&&j!==null&&j.key!=null?D(""+j.key):ie.toString(36)}function N(){}function we(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(N,N):(j.status="pending",j.then(function(ie){j.status==="pending"&&(j.status="fulfilled",j.value=ie)},function(ie){j.status==="pending"&&(j.status="rejected",j.reason=ie)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function ye(j,ie,ce,ne,pe){var ee=typeof j;(ee==="undefined"||ee==="boolean")&&(j=null);var me=!1;if(j===null)me=!0;else switch(ee){case"bigint":case"string":case"number":me=!0;break;case"object":switch(j.$$typeof){case n:case e:me=!0;break;case _:return me=j._init,ye(me(j._payload),ie,ce,ne,pe)}}if(me)return pe=pe(j),me=ne===""?"."+B(j,0):ne,F(pe)?(ce="",me!=null&&(ce=me.replace(P,"$&/")+"/"),ye(pe,ie,ce,"",function(nt){return nt})):pe!=null&&(A(pe)&&(pe=O(pe,ce+(pe.key==null||j&&j.key===pe.key?"":(""+pe.key).replace(P,"$&/")+"/")+me)),ie.push(pe)),1;me=0;var De=ne===""?".":ne+":";if(F(j))for(var ve=0;ve<j.length;ve++)ne=j[ve],ee=De+B(ne,ve),me+=ye(ne,ie,ce,ee,pe);else if(ve=b(j),typeof ve=="function")for(j=ve.call(j),ve=0;!(ne=j.next()).done;)ne=ne.value,ee=De+B(ne,ve++),me+=ye(ne,ie,ce,ee,pe);else if(ee==="object"){if(typeof j.then=="function")return ye(we(j),ie,ce,ne,pe);throw ie=String(j),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return me}function Z(j,ie,ce){if(j==null)return j;var ne=[],pe=0;return ye(j,ne,"","",function(ee){return ie.call(ce,ee,pe++)}),ne}function ue(j){if(j._status===-1){var ie=j._result;ie=ie(),ie.then(function(ce){(j._status===0||j._status===-1)&&(j._status=1,j._result=ce)},function(ce){(j._status===0||j._status===-1)&&(j._status=2,j._result=ce)}),j._status===-1&&(j._status=0,j._result=ie)}if(j._status===1)return j._result.default;throw j._result}var de=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function be(){}return ke.Children={map:Z,forEach:function(j,ie,ce){Z(j,function(){ie.apply(this,arguments)},ce)},count:function(j){var ie=0;return Z(j,function(){ie++}),ie},toArray:function(j){return Z(j,function(ie){return ie})||[]},only:function(j){if(!A(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},ke.Component=I,ke.Fragment=t,ke.Profiler=a,ke.PureComponent=z,ke.StrictMode=r,ke.Suspense=p,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,ke.__COMPILER_RUNTIME={__proto__:null,c:function(j){return q.H.useMemoCache(j)}},ke.cache=function(j){return function(){return j.apply(null,arguments)}},ke.cloneElement=function(j,ie,ce){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ne=C({},j.props),pe=j.key,ee=void 0;if(ie!=null)for(me in ie.ref!==void 0&&(ee=void 0),ie.key!==void 0&&(pe=""+ie.key),ie)!W.call(ie,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&ie.ref===void 0||(ne[me]=ie[me]);var me=arguments.length-2;if(me===1)ne.children=ce;else if(1<me){for(var De=Array(me),ve=0;ve<me;ve++)De[ve]=arguments[ve+2];ne.children=De}return M(j.type,pe,void 0,void 0,ee,ne)},ke.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},ke.createElement=function(j,ie,ce){var ne,pe={},ee=null;if(ie!=null)for(ne in ie.key!==void 0&&(ee=""+ie.key),ie)W.call(ie,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(pe[ne]=ie[ne]);var me=arguments.length-2;if(me===1)pe.children=ce;else if(1<me){for(var De=Array(me),ve=0;ve<me;ve++)De[ve]=arguments[ve+2];pe.children=De}if(j&&j.defaultProps)for(ne in me=j.defaultProps,me)pe[ne]===void 0&&(pe[ne]=me[ne]);return M(j,ee,void 0,void 0,null,pe)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(j){return{$$typeof:f,render:j}},ke.isValidElement=A,ke.lazy=function(j){return{$$typeof:_,_payload:{_status:-1,_result:j},_init:ue}},ke.memo=function(j,ie){return{$$typeof:g,type:j,compare:ie===void 0?null:ie}},ke.startTransition=function(j){var ie=q.T,ce={};q.T=ce;try{var ne=j(),pe=q.S;pe!==null&&pe(ce,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(be,de)}catch(ee){de(ee)}finally{q.T=ie}},ke.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},ke.use=function(j){return q.H.use(j)},ke.useActionState=function(j,ie,ce){return q.H.useActionState(j,ie,ce)},ke.useCallback=function(j,ie){return q.H.useCallback(j,ie)},ke.useContext=function(j){return q.H.useContext(j)},ke.useDebugValue=function(){},ke.useDeferredValue=function(j,ie){return q.H.useDeferredValue(j,ie)},ke.useEffect=function(j,ie,ce){var ne=q.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(j,ie)},ke.useId=function(){return q.H.useId()},ke.useImperativeHandle=function(j,ie,ce){return q.H.useImperativeHandle(j,ie,ce)},ke.useInsertionEffect=function(j,ie){return q.H.useInsertionEffect(j,ie)},ke.useLayoutEffect=function(j,ie){return q.H.useLayoutEffect(j,ie)},ke.useMemo=function(j,ie){return q.H.useMemo(j,ie)},ke.useOptimistic=function(j,ie){return q.H.useOptimistic(j,ie)},ke.useReducer=function(j,ie,ce){return q.H.useReducer(j,ie,ce)},ke.useRef=function(j){return q.H.useRef(j)},ke.useState=function(j){return q.H.useState(j)},ke.useSyncExternalStore=function(j,ie,ce){return q.H.useSyncExternalStore(j,ie,ce)},ke.useTransition=function(){return q.H.useTransition()},ke.version="19.1.0",ke}var s0;function zm(){return s0||(s0=1,Vp.exports=HC()),Vp.exports}var y=zm(),Up={exports:{}},iu={},Bp={exports:{}},zp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function FC(){return a0||(a0=1,function(n){function e(Z,ue){var de=Z.length;Z.push(ue);e:for(;0<de;){var be=de-1>>>1,j=Z[be];if(0<a(j,ue))Z[be]=ue,Z[de]=j,de=be;else break e}}function t(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ue=Z[0],de=Z.pop();if(de!==ue){Z[0]=de;e:for(var be=0,j=Z.length,ie=j>>>1;be<ie;){var ce=2*(be+1)-1,ne=Z[ce],pe=ce+1,ee=Z[pe];if(0>a(ne,de))pe<j&&0>a(ee,ne)?(Z[be]=ee,Z[pe]=de,be=pe):(Z[be]=ne,Z[ce]=de,be=ce);else if(pe<j&&0>a(ee,de))Z[be]=ee,Z[pe]=de,be=pe;else break e}}return ue}function a(Z,ue){var de=Z.sortIndex-ue.sortIndex;return de!==0?de:Z.id-ue.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var p=[],g=[],_=1,T=null,b=3,R=!1,C=!1,k=!1,I=!1,U=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function F(Z){for(var ue=t(g);ue!==null;){if(ue.callback===null)r(g);else if(ue.startTime<=Z)r(g),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=t(g)}}function q(Z){if(k=!1,F(Z),!C)if(t(p)!==null)C=!0,W||(W=!0,B());else{var ue=t(g);ue!==null&&ye(q,ue.startTime-Z)}}var W=!1,M=-1,O=5,A=-1;function D(){return I?!0:!(n.unstable_now()-A<O)}function P(){if(I=!1,W){var Z=n.unstable_now();A=Z;var ue=!0;try{e:{C=!1,k&&(k=!1,z(M),M=-1),R=!0;var de=b;try{t:{for(F(Z),T=t(p);T!==null&&!(T.expirationTime>Z&&D());){var be=T.callback;if(typeof be=="function"){T.callback=null,b=T.priorityLevel;var j=be(T.expirationTime<=Z);if(Z=n.unstable_now(),typeof j=="function"){T.callback=j,F(Z),ue=!0;break t}T===t(p)&&r(p),F(Z)}else r(p);T=t(p)}if(T!==null)ue=!0;else{var ie=t(g);ie!==null&&ye(q,ie.startTime-Z),ue=!1}}break e}finally{T=null,b=de,R=!1}ue=void 0}}finally{ue?B():W=!1}}}var B;if(typeof K=="function")B=function(){K(P)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,we=N.port2;N.port1.onmessage=P,B=function(){we.postMessage(null)}}else B=function(){U(P,0)};function ye(Z,ue){M=U(function(){Z(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(Z){switch(b){case 1:case 2:case 3:var ue=3;break;default:ue=b}var de=b;b=ue;try{return Z()}finally{b=de}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(Z,ue){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var de=b;b=Z;try{return ue()}finally{b=de}},n.unstable_scheduleCallback=function(Z,ue,de){var be=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?be+de:be):de=be,Z){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=de+j,Z={id:_++,callback:ue,priorityLevel:Z,startTime:de,expirationTime:j,sortIndex:-1},de>be?(Z.sortIndex=de,e(g,Z),t(p)===null&&Z===t(g)&&(k?(z(M),M=-1):k=!0,ye(q,de-be))):(Z.sortIndex=j,e(p,Z),C||R||(C=!0,W||(W=!0,B()))),Z},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(Z){var ue=b;return function(){var de=b;b=ue;try{return Z.apply(this,arguments)}finally{b=de}}}}(zp)),zp}var o0;function GC(){return o0||(o0=1,Bp.exports=FC()),Bp.exports}var qp={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function $C(){if(l0)return pn;l0=1;var n=zm();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:p,containerInfo:g,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,_)},pn.flushSync=function(p){var g=c.T,_=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=_,r.d.f()}},pn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},pn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},pn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,T=f(_,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:R}):_==="script"&&r.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},pn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=f(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},pn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=f(_,g.crossOrigin);r.d.L(p,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},pn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=f(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},pn.requestFormReset=function(p){r.d.r(p)},pn.unstable_batchedUpdates=function(p,g){return p(g)},pn.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},pn.useFormStatus=function(){return c.H.useHostTransitionStatus()},pn.version="19.1.0",pn}var u0;function pw(){if(u0)return qp.exports;u0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),qp.exports=$C(),qp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function KC(){if(c0)return iu;c0=1;var n=GC(),e=zm(),t=pw();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var d=o.return;if(d===null)break;var m=d.alternate;if(m===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===o)return f(d),i;if(m===u)return f(d),s;m=m.sibling}throw Error(r(188))}if(o.return!==u.return)o=d,u=m;else{for(var S=!1,x=d.child;x;){if(x===o){S=!0,o=d,u=m;break}if(x===u){S=!0,u=d,o=m;break}x=x.sibling}if(!S){for(x=m.child;x;){if(x===o){S=!0,o=m,u=d;break}if(x===u){S=!0,u=m,o=d;break}x=x.sibling}if(!S)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function g(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=g(i),s!==null)return s;i=i.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),K=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function we(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case I:return"Profiler";case k:return"StrictMode";case q:return"Suspense";case W:return"SuspenseList";case A:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case R:return"Portal";case K:return(i.displayName||"Context")+".Provider";case z:return(i._context.displayName||"Context")+".Consumer";case F:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case M:return s=i.displayName||null,s!==null?s:we(i.type)||"Memo";case O:s=i._payload,i=i._init;try{return we(i(s))}catch{}}return null}var ye=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},be=[],j=-1;function ie(i){return{current:i}}function ce(i){0>j||(i.current=be[j],be[j]=null,j--)}function ne(i,s){j++,be[j]=i.current,i.current=s}var pe=ie(null),ee=ie(null),me=ie(null),De=ie(null);function ve(i,s){switch(ne(me,s),ne(ee,i),ne(pe,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?I_(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=I_(s),i=O_(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ce(pe),ne(pe,i)}function nt(){ce(pe),ce(ee),ce(me)}function Se(i){i.memoizedState!==null&&ne(De,i);var s=pe.current,o=O_(s,i.type);s!==o&&(ne(ee,i),ne(pe,o))}function Pe(i){ee.current===i&&(ce(pe),ce(ee)),De.current===i&&(ce(De),Zl._currentValue=de)}var jt=Object.prototype.hasOwnProperty,Jt=n.unstable_scheduleCallback,Rn=n.unstable_cancelCallback,Ke=n.unstable_shouldYield,qs=n.unstable_requestPaint,en=n.unstable_now,ja=n.unstable_getCurrentPriorityLevel,wi=n.unstable_ImmediatePriority,sr=n.unstable_UserBlockingPriority,zn=n.unstable_NormalPriority,Va=n.unstable_LowPriority,oi=n.unstable_IdlePriority,Br=n.log,Hs=n.unstable_setDisableYieldValue,mt=null,Qe=null;function hn(i){if(typeof Br=="function"&&Hs(i),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(mt,i)}catch{}}var Ct=Math.clz32?Math.clz32:Ti,Fs=Math.log,zr=Math.LN2;function Ti(i){return i>>>=0,i===0?32:31-(Fs(i)/zr|0)|0}var qn=256,Si=4194304;function dn(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ar(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,m=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var x=u&134217727;return x!==0?(u=x&~m,u!==0?d=dn(u):(S&=x,S!==0?d=dn(S):o||(o=x&~i,o!==0&&(d=dn(o))))):(x=u&~m,x!==0?d=dn(x):S!==0?d=dn(S):o||(o=u&~i,o!==0&&(d=dn(o)))),d===0?0:s!==0&&s!==d&&(s&m)===0&&(m=d&-d,o=s&-s,m>=o||m===32&&(o&4194048)!==0)?s:d}function Hn(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function qr(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ci(){var i=qn;return qn<<=1,(qn&4194048)===0&&(qn=256),i}function Hr(){var i=Si;return Si<<=1,(Si&62914560)===0&&(Si=4194304),i}function Fn(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Gn(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ai(i,s,o,u,d,m){var S=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var x=i.entanglements,V=i.expirationTimes,Y=i.hiddenUpdates;for(o=S&~o;0<o;){var re=31-Ct(o),oe=1<<re;x[re]=0,V[re]=-1;var X=Y[re];if(X!==null)for(Y[re]=null,re=0;re<X.length;re++){var J=X[re];J!==null&&(J.lane&=-536870913)}o&=~oe}u!==0&&Ln(i,u,0),m!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=m&~(S&~s))}function Ln(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Ct(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function xi(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-Ct(o),d=1<<u;d&s|i[u]&s&&(i[u]|=s),o&=~d}}function li(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ui(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ci(){var i=ue.p;return i!==0?i:(i=window.event,i===void 0?32:W_(i.type))}function Ua(i,s){var o=ue.p;try{return ue.p=i,s()}finally{ue.p=o}}var rt=Math.random().toString(36).slice(2),Ee="__reactFiber$"+rt,It="__reactProps$"+rt,$n="__reactContainer$"+rt,nl="__reactEvents$"+rt,Ud="__reactListeners$"+rt,Fr="__reactHandles$"+rt,Qu="__reactResources$"+rt,Gs="__reactMarker$"+rt;function Gr(i){delete i[Ee],delete i[It],delete i[nl],delete i[Ud],delete i[Fr]}function or(i){var s=i[Ee];if(s)return s;for(var o=i.parentNode;o;){if(s=o[$n]||o[Ee]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=P_(i);i!==null;){if(o=i[Ee])return o;i=P_(i)}return s}i=o,o=i.parentNode}return null}function Ri(i){if(i=i[Ee]||i[$n]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Li(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function _n(i){var s=i[Qu];return s||(s=i[Qu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function At(i){i[Gs]=!0}var il=new Set,Ba={};function hi(i,s){lr(i,s),lr(i+"Capture",s)}function lr(i,s){for(Ba[i]=s,i=0;i<s.length;i++)il.add(s[i])}var Yu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wu={},$s={};function Zu(i){return jt.call($s,i)?!0:jt.call(Wu,i)?!1:Yu.test(i)?$s[i]=!0:(Wu[i]=!0,!1)}function $r(i,s,o){if(Zu(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Ii(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function tn(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}var Ks,Xu;function ur(i){if(Ks===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ks=s&&s[1]||"",Xu=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ks+i+Xu}var za=!1;function qa(i,s){if(!i||za)return"";za=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(J){var X=J}Reflect.construct(i,[],oe)}else{try{oe.call()}catch(J){X=J}i.call(oe.prototype)}}else{try{throw Error()}catch(J){X=J}(oe=i())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(J){if(J&&X&&typeof J.stack=="string")return[J.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),S=m[0],x=m[1];if(S&&x){var V=S.split(`
`),Y=x.split(`
`);for(d=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;d<Y.length&&!Y[d].includes("DetermineComponentFrameRoot");)d++;if(u===V.length||d===Y.length)for(u=V.length-1,d=Y.length-1;1<=u&&0<=d&&V[u]!==Y[d];)d--;for(;1<=u&&0<=d;u--,d--)if(V[u]!==Y[d]){if(u!==1||d!==1)do if(u--,d--,0>d||V[u]!==Y[d]){var re=`
`+V[u].replace(" at new "," at ");return i.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",i.displayName)),re}while(1<=u&&0<=d);break}}}finally{za=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?ur(o):""}function rl(i){switch(i.tag){case 26:case 27:case 5:return ur(i.type);case 16:return ur("Lazy");case 13:return ur("Suspense");case 19:return ur("SuspenseList");case 0:case 15:return qa(i.type,!1);case 11:return qa(i.type.render,!1);case 1:return qa(i.type,!0);case 31:return ur("Activity");default:return""}}function Ha(i){try{var s="";do s+=rl(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function En(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function sl(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Bd(i){var s=sl(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,m=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return d.call(this)},set:function(S){u=""+S,m.call(this,S)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Fa(i){i._valueTracker||(i._valueTracker=Bd(i))}function al(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=sl(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function Qs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var zd=/[\n"\\]/g;function Ot(i){return i.replace(zd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function In(i,s,o,u,d,m,S,x){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),s!=null?S==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+En(s)):i.value!==""+En(s)&&(i.value=""+En(s)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),s!=null?Kr(i,S,En(s)):o!=null?Kr(i,S,En(o)):u!=null&&i.removeAttribute("value"),d==null&&m!=null&&(i.defaultChecked=!!m),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.name=""+En(x):i.removeAttribute("name")}function Ys(i,s,o,u,d,m,S,x){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),s!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;o=o!=null?""+En(o):"",s=s!=null?""+En(s):o,x||s===i.value||(i.value=s),i.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=x?i.checked:!!u,i.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S)}function Kr(i,s,o){s==="number"&&Qs(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function cr(i,s,o,u){if(i=i.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=s.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+En(o),s=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}s!==null||i[d].disabled||(s=i[d])}s!==null&&(s.selected=!0)}}function ut(i,s,o){if(s!=null&&(s=""+En(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+En(o):""}function Ws(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(ye(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=En(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Kn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Zs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ju(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||Zs.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function ol(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&Ju(i,d,u)}else for(var m in s)s.hasOwnProperty(m)&&Ju(i,m,s[m])}function ll(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ga(i){return Hd.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var hr=null;function Qn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var dr=null,fr=null;function ul(i){var s=Ri(i);if(s&&(i=s.stateNode)){var o=i[It]||null;e:switch(i=s.stateNode,s.type){case"input":if(In(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ot(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var d=u[It]||null;if(!d)throw Error(r(90));In(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&al(u)}break e;case"textarea":ut(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&cr(i,!!o.multiple,s,!1)}}}var Oi=!1;function ec(i,s,o){if(Oi)return i(s,o);Oi=!0;try{var u=i(s);return u}finally{if(Oi=!1,(dr!==null||fr!==null)&&(Kc(),dr&&(s=dr,i=fr,fr=dr=null,ul(s),i)))for(s=0;s<i.length;s++)ul(i[s])}}function Xs(i,s){var o=i.stateNode;if(o===null)return null;var u=o[It]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yn=!1;if(di)try{var Js={};Object.defineProperty(Js,"passive",{get:function(){Yn=!0}}),window.addEventListener("test",Js,Js),window.removeEventListener("test",Js,Js)}catch{Yn=!1}var Mi=null,Qr=null,pr=null;function cl(){if(pr)return pr;var i,s=Qr,o=s.length,u,d="value"in Mi?Mi.value:Mi.textContent,m=d.length;for(i=0;i<o&&s[i]===d[i];i++);var S=o-i;for(u=1;u<=S&&s[o-u]===d[m-u];u++);return pr=d.slice(i,1<u?1-u:void 0)}function Di(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ni(){return!0}function hl(){return!1}function $t(i){function s(o,u,d,m,S){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=m,this.target=S,this.currentTarget=null;for(var x in i)i.hasOwnProperty(x)&&(o=i[x],this[x]=o?o(m):m[x]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ni:hl,this.isPropagationStopped=hl,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),s}var st={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$a=$t(st),ea=_({},st,{view:0,detail:0}),tc=$t(ea),Ka,Qa,Pi,ta=_({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ra,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Pi&&(Pi&&i.type==="mousemove"?(Ka=i.screenX-Pi.screenX,Qa=i.screenY-Pi.screenY):Qa=Ka=0,Pi=i),Ka)},movementY:function(i){return"movementY"in i?i.movementY:Qa}}),Wn=$t(ta),nc=_({},ta,{dataTransfer:0}),Fd=$t(nc),na=_({},ea,{relatedTarget:0}),Ya=$t(na),dl=_({},st,{animationName:0,elapsedTime:0,pseudoElement:0}),Wa=$t(dl),ic=_({},st,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Za=$t(ic),Gd=_({},st,{data:0}),fl=$t(Gd),ia={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pl(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=sc[i])?!!s[i]:!1}function ra(){return pl}var ac=_({},ea,{key:function(i){if(i.key){var s=ia[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Di(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?rc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ra,charCode:function(i){return i.type==="keypress"?Di(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Di(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Xa=$t(ac),oc=_({},ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ml=$t(oc),mr=_({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ra}),lc=$t(mr),uc=_({},st,{propertyName:0,elapsedTime:0,pseudoElement:0}),cc=$t(uc),hc=_({},ta,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ja=$t(hc),bn=_({},st,{newState:0,oldState:0}),dc=$t(bn),fc=[9,13,27,32],ki=di&&"CompositionEvent"in window,h=null;di&&"documentMode"in document&&(h=document.documentMode);var v=di&&"TextEvent"in window&&!h,w=di&&(!ki||h&&8<h&&11>=h),L=" ",$=!1;function te(i,s){switch(i){case"keyup":return fc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fe(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ye=!1;function Vt(i,s){switch(i){case"compositionend":return fe(s);case"keypress":return s.which!==32?null:($=!0,L);case"textInput":return i=s.data,i===L&&$?null:i;default:return null}}function We(i,s){if(Ye)return i==="compositionend"||!ki&&te(i,s)?(i=cl(),pr=Qr=Mi=null,Ye=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return w&&s.locale!=="ko"?null:s.data;default:return null}}var Kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ut(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Kt[i.type]:s==="textarea"}function gr(i,s,o,u){dr?fr?fr.push(u):fr=[u]:dr=u,s=Jc(s,"onChange"),0<s.length&&(o=new $a("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var nn=null,ji=null;function gl(i){C_(i,0)}function pc(i){var s=Li(i);if(al(s))return i}function $g(i,s){if(i==="change")return s}var Kg=!1;if(di){var $d;if(di){var Kd="oninput"in document;if(!Kd){var Qg=document.createElement("div");Qg.setAttribute("oninput","return;"),Kd=typeof Qg.oninput=="function"}$d=Kd}else $d=!1;Kg=$d&&(!document.documentMode||9<document.documentMode)}function Yg(){nn&&(nn.detachEvent("onpropertychange",Wg),ji=nn=null)}function Wg(i){if(i.propertyName==="value"&&pc(ji)){var s=[];gr(s,ji,i,Qn(i)),ec(gl,s)}}function vS(i,s,o){i==="focusin"?(Yg(),nn=s,ji=o,nn.attachEvent("onpropertychange",Wg)):i==="focusout"&&Yg()}function yS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return pc(ji)}function _S(i,s){if(i==="click")return pc(s)}function ES(i,s){if(i==="input"||i==="change")return pc(s)}function bS(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var On=typeof Object.is=="function"?Object.is:bS;function vl(i,s){if(On(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!jt.call(s,d)||!On(i[d],s[d]))return!1}return!0}function Zg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Xg(i,s){var o=Zg(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Zg(o)}}function Jg(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Jg(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function ev(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Qs(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Qs(i.document)}return s}function Qd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var wS=di&&"documentMode"in document&&11>=document.documentMode,eo=null,Yd=null,yl=null,Wd=!1;function tv(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Wd||eo==null||eo!==Qs(u)||(u=eo,"selectionStart"in u&&Qd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),yl&&vl(yl,u)||(yl=u,u=Jc(Yd,"onSelect"),0<u.length&&(s=new $a("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=eo)))}function sa(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var to={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionrun:sa("Transition","TransitionRun"),transitionstart:sa("Transition","TransitionStart"),transitioncancel:sa("Transition","TransitionCancel"),transitionend:sa("Transition","TransitionEnd")},Zd={},nv={};di&&(nv=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function aa(i){if(Zd[i])return Zd[i];if(!to[i])return i;var s=to[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in nv)return Zd[i]=s[o];return i}var iv=aa("animationend"),rv=aa("animationiteration"),sv=aa("animationstart"),TS=aa("transitionrun"),SS=aa("transitionstart"),CS=aa("transitioncancel"),av=aa("transitionend"),ov=new Map,Xd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xd.push("scrollEnd");function fi(i,s){ov.set(i,s),hi(s,[i])}var lv=new WeakMap;function Zn(i,s){if(typeof i=="object"&&i!==null){var o=lv.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Ha(s)},lv.set(i,s),s)}return{value:i,source:s,stack:Ha(s)}}var Xn=[],no=0,Jd=0;function mc(){for(var i=no,s=Jd=no=0;s<i;){var o=Xn[s];Xn[s++]=null;var u=Xn[s];Xn[s++]=null;var d=Xn[s];Xn[s++]=null;var m=Xn[s];if(Xn[s++]=null,u!==null&&d!==null){var S=u.pending;S===null?d.next=d:(d.next=S.next,S.next=d),u.pending=d}m!==0&&uv(o,d,m)}}function gc(i,s,o,u){Xn[no++]=i,Xn[no++]=s,Xn[no++]=o,Xn[no++]=u,Jd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function ef(i,s,o,u){return gc(i,s,o,u),vc(i)}function io(i,s){return gc(i,null,null,s),vc(i)}function uv(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,m=i.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(d=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,d&&s!==null&&(d=31-Ct(o),i=m.hiddenUpdates,u=i[d],u===null?i[d]=[s]:u.push(s),s.lane=o|536870912),m):null}function vc(i){if(50<Hl)throw Hl=0,op=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var ro={};function AS(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(i,s,o,u){return new AS(i,s,o,u)}function tf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function vr(i,s){var o=i.alternate;return o===null?(o=Mn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function cv(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function yc(i,s,o,u,d,m){var S=0;if(u=i,typeof i=="function")tf(i)&&(S=1);else if(typeof i=="string")S=RC(i,o,pe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case A:return i=Mn(31,o,s,d),i.elementType=A,i.lanes=m,i;case C:return oa(o.children,d,m,s);case k:S=8,d|=24;break;case I:return i=Mn(12,o,s,d|2),i.elementType=I,i.lanes=m,i;case q:return i=Mn(13,o,s,d),i.elementType=q,i.lanes=m,i;case W:return i=Mn(19,o,s,d),i.elementType=W,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case U:case K:S=10;break e;case z:S=9;break e;case F:S=11;break e;case M:S=14;break e;case O:S=16,u=null;break e}S=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=Mn(S,o,s,d),s.elementType=i,s.type=u,s.lanes=m,s}function oa(i,s,o,u){return i=Mn(7,i,u,s),i.lanes=o,i}function nf(i,s,o){return i=Mn(6,i,null,s),i.lanes=o,i}function rf(i,s,o){return s=Mn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var so=[],ao=0,_c=null,Ec=0,Jn=[],ei=0,la=null,yr=1,_r="";function ua(i,s){so[ao++]=Ec,so[ao++]=_c,_c=i,Ec=s}function hv(i,s,o){Jn[ei++]=yr,Jn[ei++]=_r,Jn[ei++]=la,la=i;var u=yr;i=_r;var d=32-Ct(u)-1;u&=~(1<<d),o+=1;var m=32-Ct(s)+d;if(30<m){var S=d-d%5;m=(u&(1<<S)-1).toString(32),u>>=S,d-=S,yr=1<<32-Ct(s)+d|o<<d|u,_r=m+i}else yr=1<<m|o<<d|u,_r=i}function sf(i){i.return!==null&&(ua(i,1),hv(i,1,0))}function af(i){for(;i===_c;)_c=so[--ao],so[ao]=null,Ec=so[--ao],so[ao]=null;for(;i===la;)la=Jn[--ei],Jn[ei]=null,_r=Jn[--ei],Jn[ei]=null,yr=Jn[--ei],Jn[ei]=null}var wn=null,Tt=null,it=!1,ca=null,Vi=!1,of=Error(r(519));function ha(i){var s=Error(r(418,""));throw bl(Zn(s,i)),of}function dv(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[Ee]=i,s[It]=u,o){case"dialog":qe("cancel",s),qe("close",s);break;case"iframe":case"object":case"embed":qe("load",s);break;case"video":case"audio":for(o=0;o<Gl.length;o++)qe(Gl[o],s);break;case"source":qe("error",s);break;case"img":case"image":case"link":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"input":qe("invalid",s),Ys(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Fa(s);break;case"select":qe("invalid",s);break;case"textarea":qe("invalid",s),Ws(s,u.value,u.defaultValue,u.children),Fa(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||L_(s.textContent,o)?(u.popover!=null&&(qe("beforetoggle",s),qe("toggle",s)),u.onScroll!=null&&qe("scroll",s),u.onScrollEnd!=null&&qe("scrollend",s),u.onClick!=null&&(s.onclick=eh),s=!0):s=!1,s||ha(i)}function fv(i){for(wn=i.return;wn;)switch(wn.tag){case 5:case 13:Vi=!1;return;case 27:case 3:Vi=!0;return;default:wn=wn.return}}function _l(i){if(i!==wn)return!1;if(!it)return fv(i),it=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Tp(i.type,i.memoizedProps)),o=!o),o&&Tt&&ha(i),fv(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){Tt=mi(i.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}Tt=null}}else s===27?(s=Tt,cs(i.type)?(i=xp,xp=null,Tt=i):Tt=s):Tt=wn?mi(i.stateNode.nextSibling):null;return!0}function El(){Tt=wn=null,it=!1}function pv(){var i=ca;return i!==null&&(Cn===null?Cn=i:Cn.push.apply(Cn,i),ca=null),i}function bl(i){ca===null?ca=[i]:ca.push(i)}var lf=ie(null),da=null,Er=null;function Yr(i,s,o){ne(lf,s._currentValue),s._currentValue=o}function br(i){i._currentValue=lf.current,ce(lf)}function uf(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function cf(i,s,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var m=d.dependencies;if(m!==null){var S=d.child;m=m.firstContext;e:for(;m!==null;){var x=m;m=d;for(var V=0;V<s.length;V++)if(x.context===s[V]){m.lanes|=o,x=m.alternate,x!==null&&(x.lanes|=o),uf(m.return,o,i),u||(S=null);break e}m=x.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(r(341));S.lanes|=o,m=S.alternate,m!==null&&(m.lanes|=o),uf(S,o,i),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===i){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function wl(i,s,o,u){i=null;for(var d=s,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var x=d.type;On(d.pendingProps.value,S.value)||(i!==null?i.push(x):i=[x])}}else if(d===De.current){if(S=d.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Zl):i=[Zl])}d=d.return}i!==null&&cf(s,i,o,u),s.flags|=262144}function bc(i){for(i=i.firstContext;i!==null;){if(!On(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function fa(i){da=i,Er=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function fn(i){return mv(da,i)}function wc(i,s){return da===null&&fa(i),mv(i,s)}function mv(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Er===null){if(i===null)throw Error(r(308));Er=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Er=Er.next=s;return o}var xS=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},RS=n.unstable_scheduleCallback,LS=n.unstable_NormalPriority,Bt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new xS,data:new Map,refCount:0}}function Tl(i){i.refCount--,i.refCount===0&&RS(LS,function(){i.controller.abort()})}var Sl=null,df=0,oo=0,lo=null;function IS(i,s){if(Sl===null){var o=Sl=[];df=0,oo=pp(),lo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return df++,s.then(gv,gv),s}function gv(){if(--df===0&&Sl!==null){lo!==null&&(lo.status="fulfilled");var i=Sl;Sl=null,oo=0,lo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function OS(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var vv=Z.S;Z.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&IS(i,s),vv!==null&&vv(i,s)};var pa=ie(null);function ff(){var i=pa.current;return i!==null?i:pt.pooledCache}function Tc(i,s){s===null?ne(pa,pa.current):ne(pa,s.pool)}function yv(){var i=ff();return i===null?null:{parent:Bt._currentValue,pool:i}}var Cl=Error(r(460)),_v=Error(r(474)),Sc=Error(r(542)),pf={then:function(){}};function Ev(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Cc(){}function bv(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(Cc,Cc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Tv(i),i;default:if(typeof s.status=="string")s.then(Cc,Cc);else{if(i=pt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Tv(i),i}throw Al=s,Cl}}var Al=null;function wv(){if(Al===null)throw Error(r(459));var i=Al;return Al=null,i}function Tv(i){if(i===Cl||i===Sc)throw Error(r(483))}var Wr=!1;function mf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Zr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Xr(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(ot&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=vc(i),uv(i,null,o),s}return gc(i,u,s,o),vc(i)}function xl(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,xi(i,o)}}function vf(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?d=m=S:m=m.next=S,o=o.next}while(o!==null);m===null?d=m=s:m=m.next=s}else d=m=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var yf=!1;function Rl(){if(yf){var i=lo;if(i!==null)throw i}}function Ll(i,s,o,u){yf=!1;var d=i.updateQueue;Wr=!1;var m=d.firstBaseUpdate,S=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var V=x,Y=V.next;V.next=null,S===null?m=Y:S.next=Y,S=V;var re=i.alternate;re!==null&&(re=re.updateQueue,x=re.lastBaseUpdate,x!==S&&(x===null?re.firstBaseUpdate=Y:x.next=Y,re.lastBaseUpdate=V))}if(m!==null){var oe=d.baseState;S=0,re=Y=V=null,x=m;do{var X=x.lane&-536870913,J=X!==x.lane;if(J?(Ze&X)===X:(u&X)===X){X!==0&&X===oo&&(yf=!0),re!==null&&(re=re.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var Oe=i,xe=x;X=s;var dt=o;switch(xe.tag){case 1:if(Oe=xe.payload,typeof Oe=="function"){oe=Oe.call(dt,oe,X);break e}oe=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=xe.payload,X=typeof Oe=="function"?Oe.call(dt,oe,X):Oe,X==null)break e;oe=_({},oe,X);break e;case 2:Wr=!0}}X=x.callback,X!==null&&(i.flags|=64,J&&(i.flags|=8192),J=d.callbacks,J===null?d.callbacks=[X]:J.push(X))}else J={lane:X,tag:x.tag,payload:x.payload,callback:x.callback,next:null},re===null?(Y=re=J,V=oe):re=re.next=J,S|=X;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;J=x,x=J.next,J.next=null,d.lastBaseUpdate=J,d.shared.pending=null}}while(!0);re===null&&(V=oe),d.baseState=V,d.firstBaseUpdate=Y,d.lastBaseUpdate=re,m===null&&(d.shared.lanes=0),as|=S,i.lanes=S,i.memoizedState=oe}}function Sv(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Cv(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Sv(o[i],s)}var uo=ie(null),Ac=ie(0);function Av(i,s){i=Rr,ne(Ac,i),ne(uo,s),Rr=i|s.baseLanes}function _f(){ne(Ac,Rr),ne(uo,uo.current)}function Ef(){Rr=Ac.current,ce(uo),ce(Ac)}var Jr=0,Ve=null,ct=null,Mt=null,xc=!1,co=!1,ma=!1,Rc=0,Il=0,ho=null,MS=0;function xt(){throw Error(r(321))}function bf(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!On(i[o],s[o]))return!1;return!0}function wf(i,s,o,u,d,m){return Jr=m,Ve=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=i===null||i.memoizedState===null?uy:cy,ma=!1,m=o(u,d),ma=!1,co&&(m=Rv(s,o,u,d)),xv(i),m}function xv(i){Z.H=Nc;var s=ct!==null&&ct.next!==null;if(Jr=0,Mt=ct=Ve=null,xc=!1,Il=0,ho=null,s)throw Error(r(300));i===null||Qt||(i=i.dependencies,i!==null&&bc(i)&&(Qt=!0))}function Rv(i,s,o,u){Ve=i;var d=0;do{if(co&&(ho=null),Il=0,co=!1,25<=d)throw Error(r(301));if(d+=1,Mt=ct=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Z.H=US,m=s(o,u)}while(co);return m}function DS(){var i=Z.H,s=i.useState()[0];return s=typeof s.then=="function"?Ol(s):s,i=i.useState()[0],(ct!==null?ct.memoizedState:null)!==i&&(Ve.flags|=1024),s}function Tf(){var i=Rc!==0;return Rc=0,i}function Sf(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Cf(i){if(xc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}xc=!1}Jr=0,Mt=ct=Ve=null,co=!1,Il=Rc=0,ho=null}function Tn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Ve.memoizedState=Mt=i:Mt=Mt.next=i,Mt}function Dt(){if(ct===null){var i=Ve.alternate;i=i!==null?i.memoizedState:null}else i=ct.next;var s=Mt===null?Ve.memoizedState:Mt.next;if(s!==null)Mt=s,ct=i;else{if(i===null)throw Ve.alternate===null?Error(r(467)):Error(r(310));ct=i,i={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Mt===null?Ve.memoizedState=Mt=i:Mt=Mt.next=i}return Mt}function Af(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ol(i){var s=Il;return Il+=1,ho===null&&(ho=[]),i=bv(ho,i,s),s=Ve,(Mt===null?s.memoizedState:Mt.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?uy:cy),i}function Lc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ol(i);if(i.$$typeof===K)return fn(i)}throw Error(r(438,String(i)))}function xf(i){var s=null,o=Ve.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ve.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Af(),Ve.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=D;return s.index++,o}function wr(i,s){return typeof s=="function"?s(i):s}function Ic(i){var s=Dt();return Rf(s,ct,i)}function Rf(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var d=i.baseQueue,m=u.pending;if(m!==null){if(d!==null){var S=d.next;d.next=m.next,m.next=S}s.baseQueue=d=m,u.pending=null}if(m=i.baseState,d===null)i.memoizedState=m;else{s=d.next;var x=S=null,V=null,Y=s,re=!1;do{var oe=Y.lane&-536870913;if(oe!==Y.lane?(Ze&oe)===oe:(Jr&oe)===oe){var X=Y.revertLane;if(X===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),oe===oo&&(re=!0);else if((Jr&X)===X){Y=Y.next,X===oo&&(re=!0);continue}else oe={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(x=V=oe,S=m):V=V.next=oe,Ve.lanes|=X,as|=X;oe=Y.action,ma&&o(m,oe),m=Y.hasEagerState?Y.eagerState:o(m,oe)}else X={lane:oe,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(x=V=X,S=m):V=V.next=X,Ve.lanes|=oe,as|=oe;Y=Y.next}while(Y!==null&&Y!==s);if(V===null?S=m:V.next=x,!On(m,i.memoizedState)&&(Qt=!0,re&&(o=lo,o!==null)))throw o;i.memoizedState=m,i.baseState=S,i.baseQueue=V,u.lastRenderedState=m}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Lf(i){var s=Dt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,m=s.memoizedState;if(d!==null){o.pending=null;var S=d=d.next;do m=i(m,S.action),S=S.next;while(S!==d);On(m,s.memoizedState)||(Qt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),o.lastRenderedState=m}return[m,u]}function Lv(i,s,o){var u=Ve,d=Dt(),m=it;if(m){if(o===void 0)throw Error(r(407));o=o()}else o=s();var S=!On((ct||d).memoizedState,o);S&&(d.memoizedState=o,Qt=!0),d=d.queue;var x=Mv.bind(null,u,d,i);if(Ml(2048,8,x,[i]),d.getSnapshot!==s||S||Mt!==null&&Mt.memoizedState.tag&1){if(u.flags|=2048,fo(9,Oc(),Ov.bind(null,u,d,o,s),null),pt===null)throw Error(r(349));m||(Jr&124)!==0||Iv(u,s,o)}return o}function Iv(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Ve.updateQueue,s===null?(s=Af(),Ve.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function Ov(i,s,o,u){s.value=o,s.getSnapshot=u,Dv(s)&&Nv(i)}function Mv(i,s,o){return o(function(){Dv(s)&&Nv(i)})}function Dv(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!On(i,o)}catch{return!0}}function Nv(i){var s=io(i,2);s!==null&&jn(s,i,2)}function If(i){var s=Tn();if(typeof i=="function"){var o=i;if(i=o(),ma){hn(!0);try{o()}finally{hn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:i},s}function Pv(i,s,o,u){return i.baseState=o,Rf(i,ct,typeof u=="function"?u:wr)}function NS(i,s,o,u,d){if(Dc(i))throw Error(r(485));if(i=s.action,i!==null){var m={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){m.listeners.push(S)}};Z.T!==null?o(!0):m.isTransition=!1,u(m),o=s.pending,o===null?(m.next=s.pending=m,kv(s,m)):(m.next=o.next,s.pending=o.next=m)}}function kv(i,s){var o=s.action,u=s.payload,d=i.state;if(s.isTransition){var m=Z.T,S={};Z.T=S;try{var x=o(d,u),V=Z.S;V!==null&&V(S,x),jv(i,s,x)}catch(Y){Of(i,s,Y)}finally{Z.T=m}}else try{m=o(d,u),jv(i,s,m)}catch(Y){Of(i,s,Y)}}function jv(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Vv(i,s,u)},function(u){return Of(i,s,u)}):Vv(i,s,o)}function Vv(i,s,o){s.status="fulfilled",s.value=o,Uv(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,kv(i,o)))}function Of(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Uv(s),s=s.next;while(s!==u)}i.action=null}function Uv(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Bv(i,s){return s}function zv(i,s){if(it){var o=pt.formState;if(o!==null){e:{var u=Ve;if(it){if(Tt){t:{for(var d=Tt,m=Vi;d.nodeType!==8;){if(!m){d=null;break t}if(d=mi(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){Tt=mi(d.nextSibling),u=d.data==="F!";break e}}ha(u)}u=!1}u&&(s=o[0])}}return o=Tn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bv,lastRenderedState:s},o.queue=u,o=ay.bind(null,Ve,u),u.dispatch=o,u=If(!1),m=kf.bind(null,Ve,!1,u.queue),u=Tn(),d={state:s,dispatch:null,action:i,pending:null},u.queue=d,o=NS.bind(null,Ve,d,m,o),d.dispatch=o,u.memoizedState=i,[s,o,!1]}function qv(i){var s=Dt();return Hv(s,ct,i)}function Hv(i,s,o){if(s=Rf(i,s,Bv)[0],i=Ic(wr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Ol(s)}catch(S){throw S===Cl?Sc:S}else u=s;s=Dt();var d=s.queue,m=d.dispatch;return o!==s.memoizedState&&(Ve.flags|=2048,fo(9,Oc(),PS.bind(null,d,o),null)),[u,m,i]}function PS(i,s){i.action=s}function Fv(i){var s=Dt(),o=ct;if(o!==null)return Hv(s,o,i);Dt(),s=s.memoizedState,o=Dt();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function fo(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=Ve.updateQueue,s===null&&(s=Af(),Ve.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function Oc(){return{destroy:void 0,resource:void 0}}function Gv(){return Dt().memoizedState}function Mc(i,s,o,u){var d=Tn();u=u===void 0?null:u,Ve.flags|=i,d.memoizedState=fo(1|s,Oc(),o,u)}function Ml(i,s,o,u){var d=Dt();u=u===void 0?null:u;var m=d.memoizedState.inst;ct!==null&&u!==null&&bf(u,ct.memoizedState.deps)?d.memoizedState=fo(s,m,o,u):(Ve.flags|=i,d.memoizedState=fo(1|s,m,o,u))}function $v(i,s){Mc(8390656,8,i,s)}function Kv(i,s){Ml(2048,8,i,s)}function Qv(i,s){return Ml(4,2,i,s)}function Yv(i,s){return Ml(4,4,i,s)}function Wv(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Zv(i,s,o){o=o!=null?o.concat([i]):null,Ml(4,4,Wv.bind(null,s,i),o)}function Mf(){}function Xv(i,s){var o=Dt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&bf(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function Jv(i,s){var o=Dt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&bf(s,u[1]))return u[0];if(u=i(),ma){hn(!0);try{i()}finally{hn(!1)}}return o.memoizedState=[u,s],u}function Df(i,s,o){return o===void 0||(Jr&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=n_(),Ve.lanes|=i,as|=i,o)}function ey(i,s,o,u){return On(o,s)?o:uo.current!==null?(i=Df(i,o,u),On(i,s)||(Qt=!0),i):(Jr&42)===0?(Qt=!0,i.memoizedState=o):(i=n_(),Ve.lanes|=i,as|=i,s)}function ty(i,s,o,u,d){var m=ue.p;ue.p=m!==0&&8>m?m:8;var S=Z.T,x={};Z.T=x,kf(i,!1,s,o);try{var V=d(),Y=Z.S;if(Y!==null&&Y(x,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var re=OS(V,u);Dl(i,s,re,kn(i))}else Dl(i,s,u,kn(i))}catch(oe){Dl(i,s,{then:function(){},status:"rejected",reason:oe},kn())}finally{ue.p=m,Z.T=S}}function kS(){}function Nf(i,s,o,u){if(i.tag!==5)throw Error(r(476));var d=ny(i).queue;ty(i,d,s,de,o===null?kS:function(){return iy(i),o(u)})}function ny(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:de},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function iy(i){var s=ny(i).next.queue;Dl(i,s,{},kn())}function Pf(){return fn(Zl)}function ry(){return Dt().memoizedState}function sy(){return Dt().memoizedState}function jS(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=kn();i=Zr(o);var u=Xr(s,i,o);u!==null&&(jn(u,s,o),xl(u,s,o)),s={cache:hf()},i.payload=s;return}s=s.return}}function VS(i,s,o){var u=kn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Dc(i)?oy(s,o):(o=ef(i,s,o,u),o!==null&&(jn(o,i,u),ly(o,s,u)))}function ay(i,s,o){var u=kn();Dl(i,s,o,u)}function Dl(i,s,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Dc(i))oy(s,d);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var S=s.lastRenderedState,x=m(S,o);if(d.hasEagerState=!0,d.eagerState=x,On(x,S))return gc(i,s,d,0),pt===null&&mc(),!1}catch{}finally{}if(o=ef(i,s,d,u),o!==null)return jn(o,i,u),ly(o,s,u),!0}return!1}function kf(i,s,o,u){if(u={lane:2,revertLane:pp(),action:u,hasEagerState:!1,eagerState:null,next:null},Dc(i)){if(s)throw Error(r(479))}else s=ef(i,o,u,2),s!==null&&jn(s,i,2)}function Dc(i){var s=i.alternate;return i===Ve||s!==null&&s===Ve}function oy(i,s){co=xc=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function ly(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,xi(i,o)}}var Nc={readContext:fn,use:Lc,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},uy={readContext:fn,use:Lc,useCallback:function(i,s){return Tn().memoizedState=[i,s===void 0?null:s],i},useContext:fn,useEffect:$v,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,Mc(4194308,4,Wv.bind(null,s,i),o)},useLayoutEffect:function(i,s){return Mc(4194308,4,i,s)},useInsertionEffect:function(i,s){Mc(4,2,i,s)},useMemo:function(i,s){var o=Tn();s=s===void 0?null:s;var u=i();if(ma){hn(!0);try{i()}finally{hn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=Tn();if(o!==void 0){var d=o(s);if(ma){hn(!0);try{o(s)}finally{hn(!1)}}}else d=s;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=VS.bind(null,Ve,i),[u.memoizedState,i]},useRef:function(i){var s=Tn();return i={current:i},s.memoizedState=i},useState:function(i){i=If(i);var s=i.queue,o=ay.bind(null,Ve,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Mf,useDeferredValue:function(i,s){var o=Tn();return Df(o,i,s)},useTransition:function(){var i=If(!1);return i=ty.bind(null,Ve,i.queue,!0,!1),Tn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Ve,d=Tn();if(it){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),pt===null)throw Error(r(349));(Ze&124)!==0||Iv(u,s,o)}d.memoizedState=o;var m={value:o,getSnapshot:s};return d.queue=m,$v(Mv.bind(null,u,m,i),[i]),u.flags|=2048,fo(9,Oc(),Ov.bind(null,u,m,o,s),null),o},useId:function(){var i=Tn(),s=pt.identifierPrefix;if(it){var o=_r,u=yr;o=(u&~(1<<32-Ct(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=Rc++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=MS++,s="«"+s+"r"+o.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:Pf,useFormState:zv,useActionState:zv,useOptimistic:function(i){var s=Tn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=kf.bind(null,Ve,!0,o),o.dispatch=s,[i,s]},useMemoCache:xf,useCacheRefresh:function(){return Tn().memoizedState=jS.bind(null,Ve)}},cy={readContext:fn,use:Lc,useCallback:Xv,useContext:fn,useEffect:Kv,useImperativeHandle:Zv,useInsertionEffect:Qv,useLayoutEffect:Yv,useMemo:Jv,useReducer:Ic,useRef:Gv,useState:function(){return Ic(wr)},useDebugValue:Mf,useDeferredValue:function(i,s){var o=Dt();return ey(o,ct.memoizedState,i,s)},useTransition:function(){var i=Ic(wr)[0],s=Dt().memoizedState;return[typeof i=="boolean"?i:Ol(i),s]},useSyncExternalStore:Lv,useId:ry,useHostTransitionStatus:Pf,useFormState:qv,useActionState:qv,useOptimistic:function(i,s){var o=Dt();return Pv(o,ct,i,s)},useMemoCache:xf,useCacheRefresh:sy},US={readContext:fn,use:Lc,useCallback:Xv,useContext:fn,useEffect:Kv,useImperativeHandle:Zv,useInsertionEffect:Qv,useLayoutEffect:Yv,useMemo:Jv,useReducer:Lf,useRef:Gv,useState:function(){return Lf(wr)},useDebugValue:Mf,useDeferredValue:function(i,s){var o=Dt();return ct===null?Df(o,i,s):ey(o,ct.memoizedState,i,s)},useTransition:function(){var i=Lf(wr)[0],s=Dt().memoizedState;return[typeof i=="boolean"?i:Ol(i),s]},useSyncExternalStore:Lv,useId:ry,useHostTransitionStatus:Pf,useFormState:Fv,useActionState:Fv,useOptimistic:function(i,s){var o=Dt();return ct!==null?Pv(o,ct,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:xf,useCacheRefresh:sy},po=null,Nl=0;function Pc(i){var s=Nl;return Nl+=1,po===null&&(po=[]),bv(po,i,s)}function Pl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function kc(i,s){throw s.$$typeof===T?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function hy(i){var s=i._init;return s(i._payload)}function dy(i){function s(G,H){if(i){var Q=G.deletions;Q===null?(G.deletions=[H],G.flags|=16):Q.push(H)}}function o(G,H){if(!i)return null;for(;H!==null;)s(G,H),H=H.sibling;return null}function u(G){for(var H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function d(G,H){return G=vr(G,H),G.index=0,G.sibling=null,G}function m(G,H,Q){return G.index=Q,i?(Q=G.alternate,Q!==null?(Q=Q.index,Q<H?(G.flags|=67108866,H):Q):(G.flags|=67108866,H)):(G.flags|=1048576,H)}function S(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function x(G,H,Q,ae){return H===null||H.tag!==6?(H=nf(Q,G.mode,ae),H.return=G,H):(H=d(H,Q),H.return=G,H)}function V(G,H,Q,ae){var _e=Q.type;return _e===C?re(G,H,Q.props.children,ae,Q.key):H!==null&&(H.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===O&&hy(_e)===H.type)?(H=d(H,Q.props),Pl(H,Q),H.return=G,H):(H=yc(Q.type,Q.key,Q.props,null,G.mode,ae),Pl(H,Q),H.return=G,H)}function Y(G,H,Q,ae){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=rf(Q,G.mode,ae),H.return=G,H):(H=d(H,Q.children||[]),H.return=G,H)}function re(G,H,Q,ae,_e){return H===null||H.tag!==7?(H=oa(Q,G.mode,ae,_e),H.return=G,H):(H=d(H,Q),H.return=G,H)}function oe(G,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=nf(""+H,G.mode,Q),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return Q=yc(H.type,H.key,H.props,null,G.mode,Q),Pl(Q,H),Q.return=G,Q;case R:return H=rf(H,G.mode,Q),H.return=G,H;case O:var ae=H._init;return H=ae(H._payload),oe(G,H,Q)}if(ye(H)||B(H))return H=oa(H,G.mode,Q,null),H.return=G,H;if(typeof H.then=="function")return oe(G,Pc(H),Q);if(H.$$typeof===K)return oe(G,wc(G,H),Q);kc(G,H)}return null}function X(G,H,Q,ae){var _e=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return _e!==null?null:x(G,H,""+Q,ae);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return Q.key===_e?V(G,H,Q,ae):null;case R:return Q.key===_e?Y(G,H,Q,ae):null;case O:return _e=Q._init,Q=_e(Q._payload),X(G,H,Q,ae)}if(ye(Q)||B(Q))return _e!==null?null:re(G,H,Q,ae,null);if(typeof Q.then=="function")return X(G,H,Pc(Q),ae);if(Q.$$typeof===K)return X(G,H,wc(G,Q),ae);kc(G,Q)}return null}function J(G,H,Q,ae,_e){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return G=G.get(Q)||null,x(H,G,""+ae,_e);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return G=G.get(ae.key===null?Q:ae.key)||null,V(H,G,ae,_e);case R:return G=G.get(ae.key===null?Q:ae.key)||null,Y(H,G,ae,_e);case O:var Be=ae._init;return ae=Be(ae._payload),J(G,H,Q,ae,_e)}if(ye(ae)||B(ae))return G=G.get(Q)||null,re(H,G,ae,_e,null);if(typeof ae.then=="function")return J(G,H,Q,Pc(ae),_e);if(ae.$$typeof===K)return J(G,H,Q,wc(H,ae),_e);kc(H,ae)}return null}function Oe(G,H,Q,ae){for(var _e=null,Be=null,Ce=H,Re=H=0,Wt=null;Ce!==null&&Re<Q.length;Re++){Ce.index>Re?(Wt=Ce,Ce=null):Wt=Ce.sibling;var et=X(G,Ce,Q[Re],ae);if(et===null){Ce===null&&(Ce=Wt);break}i&&Ce&&et.alternate===null&&s(G,Ce),H=m(et,H,Re),Be===null?_e=et:Be.sibling=et,Be=et,Ce=Wt}if(Re===Q.length)return o(G,Ce),it&&ua(G,Re),_e;if(Ce===null){for(;Re<Q.length;Re++)Ce=oe(G,Q[Re],ae),Ce!==null&&(H=m(Ce,H,Re),Be===null?_e=Ce:Be.sibling=Ce,Be=Ce);return it&&ua(G,Re),_e}for(Ce=u(Ce);Re<Q.length;Re++)Wt=J(Ce,G,Re,Q[Re],ae),Wt!==null&&(i&&Wt.alternate!==null&&Ce.delete(Wt.key===null?Re:Wt.key),H=m(Wt,H,Re),Be===null?_e=Wt:Be.sibling=Wt,Be=Wt);return i&&Ce.forEach(function(ms){return s(G,ms)}),it&&ua(G,Re),_e}function xe(G,H,Q,ae){if(Q==null)throw Error(r(151));for(var _e=null,Be=null,Ce=H,Re=H=0,Wt=null,et=Q.next();Ce!==null&&!et.done;Re++,et=Q.next()){Ce.index>Re?(Wt=Ce,Ce=null):Wt=Ce.sibling;var ms=X(G,Ce,et.value,ae);if(ms===null){Ce===null&&(Ce=Wt);break}i&&Ce&&ms.alternate===null&&s(G,Ce),H=m(ms,H,Re),Be===null?_e=ms:Be.sibling=ms,Be=ms,Ce=Wt}if(et.done)return o(G,Ce),it&&ua(G,Re),_e;if(Ce===null){for(;!et.done;Re++,et=Q.next())et=oe(G,et.value,ae),et!==null&&(H=m(et,H,Re),Be===null?_e=et:Be.sibling=et,Be=et);return it&&ua(G,Re),_e}for(Ce=u(Ce);!et.done;Re++,et=Q.next())et=J(Ce,G,Re,et.value,ae),et!==null&&(i&&et.alternate!==null&&Ce.delete(et.key===null?Re:et.key),H=m(et,H,Re),Be===null?_e=et:Be.sibling=et,Be=et);return i&&Ce.forEach(function(BC){return s(G,BC)}),it&&ua(G,Re),_e}function dt(G,H,Q,ae){if(typeof Q=="object"&&Q!==null&&Q.type===C&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:e:{for(var _e=Q.key;H!==null;){if(H.key===_e){if(_e=Q.type,_e===C){if(H.tag===7){o(G,H.sibling),ae=d(H,Q.props.children),ae.return=G,G=ae;break e}}else if(H.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===O&&hy(_e)===H.type){o(G,H.sibling),ae=d(H,Q.props),Pl(ae,Q),ae.return=G,G=ae;break e}o(G,H);break}else s(G,H);H=H.sibling}Q.type===C?(ae=oa(Q.props.children,G.mode,ae,Q.key),ae.return=G,G=ae):(ae=yc(Q.type,Q.key,Q.props,null,G.mode,ae),Pl(ae,Q),ae.return=G,G=ae)}return S(G);case R:e:{for(_e=Q.key;H!==null;){if(H.key===_e)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){o(G,H.sibling),ae=d(H,Q.children||[]),ae.return=G,G=ae;break e}else{o(G,H);break}else s(G,H);H=H.sibling}ae=rf(Q,G.mode,ae),ae.return=G,G=ae}return S(G);case O:return _e=Q._init,Q=_e(Q._payload),dt(G,H,Q,ae)}if(ye(Q))return Oe(G,H,Q,ae);if(B(Q)){if(_e=B(Q),typeof _e!="function")throw Error(r(150));return Q=_e.call(Q),xe(G,H,Q,ae)}if(typeof Q.then=="function")return dt(G,H,Pc(Q),ae);if(Q.$$typeof===K)return dt(G,H,wc(G,Q),ae);kc(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,H!==null&&H.tag===6?(o(G,H.sibling),ae=d(H,Q),ae.return=G,G=ae):(o(G,H),ae=nf(Q,G.mode,ae),ae.return=G,G=ae),S(G)):o(G,H)}return function(G,H,Q,ae){try{Nl=0;var _e=dt(G,H,Q,ae);return po=null,_e}catch(Ce){if(Ce===Cl||Ce===Sc)throw Ce;var Be=Mn(29,Ce,null,G.mode);return Be.lanes=ae,Be.return=G,Be}finally{}}}var mo=dy(!0),fy=dy(!1),ti=ie(null),Ui=null;function es(i){var s=i.alternate;ne(zt,zt.current&1),ne(ti,i),Ui===null&&(s===null||uo.current!==null||s.memoizedState!==null)&&(Ui=i)}function py(i){if(i.tag===22){if(ne(zt,zt.current),ne(ti,i),Ui===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Ui=i)}}else ts()}function ts(){ne(zt,zt.current),ne(ti,ti.current)}function Tr(i){ce(ti),Ui===i&&(Ui=null),ce(zt)}var zt=ie(0);function jc(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Ap(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function jf(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:_({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Vf={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=kn(),d=Zr(u);d.payload=s,o!=null&&(d.callback=o),s=Xr(i,d,u),s!==null&&(jn(s,i,u),xl(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=kn(),d=Zr(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=Xr(i,d,u),s!==null&&(jn(s,i,u),xl(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=kn(),u=Zr(o);u.tag=2,s!=null&&(u.callback=s),s=Xr(i,u,o),s!==null&&(jn(s,i,o),xl(s,i,o))}};function my(i,s,o,u,d,m,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,m,S):s.prototype&&s.prototype.isPureReactComponent?!vl(o,u)||!vl(d,m):!0}function gy(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&Vf.enqueueReplaceState(s,s.state,null)}function ga(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=_({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}var Vc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function vy(i){Vc(i)}function yy(i){console.error(i)}function _y(i){Vc(i)}function Uc(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Ey(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Uf(i,s,o){return o=Zr(o),o.tag=3,o.payload={element:null},o.callback=function(){Uc(i,s)},o}function by(i){return i=Zr(i),i.tag=3,i}function wy(i,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var m=u.value;i.payload=function(){return d(m)},i.callback=function(){Ey(s,o,u)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){Ey(s,o,u),typeof d!="function"&&(os===null?os=new Set([this]):os.add(this));var x=u.stack;this.componentDidCatch(u.value,{componentStack:x!==null?x:""})})}function BS(i,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&wl(s,o,d,!0),o=ti.current,o!==null){switch(o.tag){case 13:return Ui===null?up():o.alternate===null&&St===0&&(St=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===pf?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),hp(i,u,d)),!1;case 22:return o.flags|=65536,u===pf?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),hp(i,u,d)),!1}throw Error(r(435,o.tag))}return hp(i,u,d),up(),!1}if(it)return s=ti.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==of&&(i=Error(r(422),{cause:u}),bl(Zn(i,o)))):(u!==of&&(s=Error(r(423),{cause:u}),bl(Zn(s,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=Zn(u,o),d=Uf(i.stateNode,u,d),vf(i,d),St!==4&&(St=2)),!1;var m=Error(r(520),{cause:u});if(m=Zn(m,o),ql===null?ql=[m]:ql.push(m),St!==4&&(St=2),s===null)return!0;u=Zn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=Uf(o.stateNode,u,i),vf(o,i),!1;case 1:if(s=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(os===null||!os.has(m))))return o.flags|=65536,d&=-d,o.lanes|=d,d=by(d),wy(d,i,o,u),vf(o,d),!1}o=o.return}while(o!==null);return!1}var Ty=Error(r(461)),Qt=!1;function rn(i,s,o,u){s.child=i===null?fy(s,null,o,u):mo(s,i.child,o,u)}function Sy(i,s,o,u,d){o=o.render;var m=s.ref;if("ref"in u){var S={};for(var x in u)x!=="ref"&&(S[x]=u[x])}else S=u;return fa(s),u=wf(i,s,o,S,m,d),x=Tf(),i!==null&&!Qt?(Sf(i,s,d),Sr(i,s,d)):(it&&x&&sf(s),s.flags|=1,rn(i,s,u,d),s.child)}function Cy(i,s,o,u,d){if(i===null){var m=o.type;return typeof m=="function"&&!tf(m)&&m.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=m,Ay(i,s,m,u,d)):(i=yc(o.type,null,u,s,s.mode,d),i.ref=s.ref,i.return=s,s.child=i)}if(m=i.child,!Kf(i,d)){var S=m.memoizedProps;if(o=o.compare,o=o!==null?o:vl,o(S,u)&&i.ref===s.ref)return Sr(i,s,d)}return s.flags|=1,i=vr(m,u),i.ref=s.ref,i.return=s,s.child=i}function Ay(i,s,o,u,d){if(i!==null){var m=i.memoizedProps;if(vl(m,u)&&i.ref===s.ref)if(Qt=!1,s.pendingProps=u=m,Kf(i,d))(i.flags&131072)!==0&&(Qt=!0);else return s.lanes=i.lanes,Sr(i,s,d)}return Bf(i,s,o,u,d)}function xy(i,s,o){var u=s.pendingProps,d=u.children,m=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=m!==null?m.baseLanes|o:o,i!==null){for(d=s.child=i.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;s.childLanes=m&~u}else s.childLanes=0,s.child=null;return Ry(i,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Tc(s,m!==null?m.cachePool:null),m!==null?Av(s,m):_f(),py(s);else return s.lanes=s.childLanes=536870912,Ry(i,s,m!==null?m.baseLanes|o:o,o)}else m!==null?(Tc(s,m.cachePool),Av(s,m),ts(),s.memoizedState=null):(i!==null&&Tc(s,null),_f(),ts());return rn(i,s,d,o),s.child}function Ry(i,s,o,u){var d=ff();return d=d===null?null:{parent:Bt._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},i!==null&&Tc(s,null),_f(),py(s),i!==null&&wl(i,s,u,!0),null}function Bc(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function Bf(i,s,o,u,d){return fa(s),o=wf(i,s,o,u,void 0,d),u=Tf(),i!==null&&!Qt?(Sf(i,s,d),Sr(i,s,d)):(it&&u&&sf(s),s.flags|=1,rn(i,s,o,d),s.child)}function Ly(i,s,o,u,d,m){return fa(s),s.updateQueue=null,o=Rv(s,u,o,d),xv(i),u=Tf(),i!==null&&!Qt?(Sf(i,s,m),Sr(i,s,m)):(it&&u&&sf(s),s.flags|=1,rn(i,s,o,m),s.child)}function Iy(i,s,o,u,d){if(fa(s),s.stateNode===null){var m=ro,S=o.contextType;typeof S=="object"&&S!==null&&(m=fn(S)),m=new o(u,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Vf,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=u,m.state=s.memoizedState,m.refs={},mf(s),S=o.contextType,m.context=typeof S=="object"&&S!==null?fn(S):ro,m.state=s.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(jf(s,o,S,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(S=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),S!==m.state&&Vf.enqueueReplaceState(m,m.state,null),Ll(s,u,m,d),Rl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){m=s.stateNode;var x=s.memoizedProps,V=ga(o,x);m.props=V;var Y=m.context,re=o.contextType;S=ro,typeof re=="object"&&re!==null&&(S=fn(re));var oe=o.getDerivedStateFromProps;re=typeof oe=="function"||typeof m.getSnapshotBeforeUpdate=="function",x=s.pendingProps!==x,re||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x||Y!==S)&&gy(s,m,u,S),Wr=!1;var X=s.memoizedState;m.state=X,Ll(s,u,m,d),Rl(),Y=s.memoizedState,x||X!==Y||Wr?(typeof oe=="function"&&(jf(s,o,oe,u),Y=s.memoizedState),(V=Wr||my(s,o,V,u,X,Y,S))?(re||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Y),m.props=u,m.state=Y,m.context=S,u=V):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{m=s.stateNode,gf(i,s),S=s.memoizedProps,re=ga(o,S),m.props=re,oe=s.pendingProps,X=m.context,Y=o.contextType,V=ro,typeof Y=="object"&&Y!==null&&(V=fn(Y)),x=o.getDerivedStateFromProps,(Y=typeof x=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==oe||X!==V)&&gy(s,m,u,V),Wr=!1,X=s.memoizedState,m.state=X,Ll(s,u,m,d),Rl();var J=s.memoizedState;S!==oe||X!==J||Wr||i!==null&&i.dependencies!==null&&bc(i.dependencies)?(typeof x=="function"&&(jf(s,o,x,u),J=s.memoizedState),(re=Wr||my(s,o,re,u,X,J,V)||i!==null&&i.dependencies!==null&&bc(i.dependencies))?(Y||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,J,V),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,J,V)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||S===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=J),m.props=u,m.state=J,m.context=V,u=re):(typeof m.componentDidUpdate!="function"||S===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),u=!1)}return m=u,Bc(i,s),u=(s.flags&128)!==0,m||u?(m=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,i!==null&&u?(s.child=mo(s,i.child,null,d),s.child=mo(s,null,o,d)):rn(i,s,o,d),s.memoizedState=m.state,i=s.child):i=Sr(i,s,d),i}function Oy(i,s,o,u){return El(),s.flags|=256,rn(i,s,o,u),s.child}var zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qf(i){return{baseLanes:i,cachePool:yv()}}function Hf(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=ni),i}function My(i,s,o){var u=s.pendingProps,d=!1,m=(s.flags&128)!==0,S;if((S=m)||(S=i!==null&&i.memoizedState===null?!1:(zt.current&2)!==0),S&&(d=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,i===null){if(it){if(d?es(s):ts(),it){var x=Tt,V;if(V=x){e:{for(V=x,x=Vi;V.nodeType!==8;){if(!x){x=null;break e}if(V=mi(V.nextSibling),V===null){x=null;break e}}x=V}x!==null?(s.memoizedState={dehydrated:x,treeContext:la!==null?{id:yr,overflow:_r}:null,retryLane:536870912,hydrationErrors:null},V=Mn(18,null,null,0),V.stateNode=x,V.return=s,s.child=V,wn=s,Tt=null,V=!0):V=!1}V||ha(s)}if(x=s.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return Ap(x)?s.lanes=32:s.lanes=536870912,null;Tr(s)}return x=u.children,u=u.fallback,d?(ts(),d=s.mode,x=zc({mode:"hidden",children:x},d),u=oa(u,d,o,null),x.return=s,u.return=s,x.sibling=u,s.child=x,d=s.child,d.memoizedState=qf(o),d.childLanes=Hf(i,S,o),s.memoizedState=zf,u):(es(s),Ff(s,x))}if(V=i.memoizedState,V!==null&&(x=V.dehydrated,x!==null)){if(m)s.flags&256?(es(s),s.flags&=-257,s=Gf(i,s,o)):s.memoizedState!==null?(ts(),s.child=i.child,s.flags|=128,s=null):(ts(),d=u.fallback,x=s.mode,u=zc({mode:"visible",children:u.children},x),d=oa(d,x,o,null),d.flags|=2,u.return=s,d.return=s,u.sibling=d,s.child=u,mo(s,i.child,null,o),u=s.child,u.memoizedState=qf(o),u.childLanes=Hf(i,S,o),s.memoizedState=zf,s=d);else if(es(s),Ap(x)){if(S=x.nextSibling&&x.nextSibling.dataset,S)var Y=S.dgst;S=Y,u=Error(r(419)),u.stack="",u.digest=S,bl({value:u,source:null,stack:null}),s=Gf(i,s,o)}else if(Qt||wl(i,s,o,!1),S=(o&i.childLanes)!==0,Qt||S){if(S=pt,S!==null&&(u=o&-o,u=(u&42)!==0?1:li(u),u=(u&(S.suspendedLanes|o))!==0?0:u,u!==0&&u!==V.retryLane))throw V.retryLane=u,io(i,u),jn(S,i,u),Ty;x.data==="$?"||up(),s=Gf(i,s,o)}else x.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=V.treeContext,Tt=mi(x.nextSibling),wn=s,it=!0,ca=null,Vi=!1,i!==null&&(Jn[ei++]=yr,Jn[ei++]=_r,Jn[ei++]=la,yr=i.id,_r=i.overflow,la=s),s=Ff(s,u.children),s.flags|=4096);return s}return d?(ts(),d=u.fallback,x=s.mode,V=i.child,Y=V.sibling,u=vr(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,Y!==null?d=vr(Y,d):(d=oa(d,x,o,null),d.flags|=2),d.return=s,u.return=s,u.sibling=d,s.child=u,u=d,d=s.child,x=i.child.memoizedState,x===null?x=qf(o):(V=x.cachePool,V!==null?(Y=Bt._currentValue,V=V.parent!==Y?{parent:Y,pool:Y}:V):V=yv(),x={baseLanes:x.baseLanes|o,cachePool:V}),d.memoizedState=x,d.childLanes=Hf(i,S,o),s.memoizedState=zf,u):(es(s),o=i.child,i=o.sibling,o=vr(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(S=s.deletions,S===null?(s.deletions=[i],s.flags|=16):S.push(i)),s.child=o,s.memoizedState=null,o)}function Ff(i,s){return s=zc({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function zc(i,s){return i=Mn(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Gf(i,s,o){return mo(s,i.child,null,o),i=Ff(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Dy(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),uf(i.return,s,o)}function $f(i,s,o,u,d){var m=i.memoizedState;m===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=d)}function Ny(i,s,o){var u=s.pendingProps,d=u.revealOrder,m=u.tail;if(rn(i,s,u.children,o),u=zt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Dy(i,o,s);else if(i.tag===19)Dy(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(ne(zt,u),d){case"forwards":for(o=s.child,d=null;o!==null;)i=o.alternate,i!==null&&jc(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),$f(s,!1,d,o,m);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(i=d.alternate,i!==null&&jc(i)===null){s.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}$f(s,!0,o,null,m);break;case"together":$f(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Sr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),as|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(wl(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=vr(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=vr(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Kf(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&bc(i)))}function zS(i,s,o){switch(s.tag){case 3:ve(s,s.stateNode.containerInfo),Yr(s,Bt,i.memoizedState.cache),El();break;case 27:case 5:Se(s);break;case 4:ve(s,s.stateNode.containerInfo);break;case 10:Yr(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(es(s),s.flags|=128,null):(o&s.child.childLanes)!==0?My(i,s,o):(es(s),i=Sr(i,s,o),i!==null?i.sibling:null);es(s);break;case 19:var d=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(wl(i,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return Ny(i,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ne(zt,zt.current),u)break;return null;case 22:case 23:return s.lanes=0,xy(i,s,o);case 24:Yr(s,Bt,i.memoizedState.cache)}return Sr(i,s,o)}function Py(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Qt=!0;else{if(!Kf(i,o)&&(s.flags&128)===0)return Qt=!1,zS(i,s,o);Qt=(i.flags&131072)!==0}else Qt=!1,it&&(s.flags&1048576)!==0&&hv(s,Ec,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var u=s.elementType,d=u._init;if(u=d(u._payload),s.type=u,typeof u=="function")tf(u)?(i=ga(u,i),s.tag=1,s=Iy(null,s,u,i,o)):(s.tag=0,s=Bf(null,s,u,i,o));else{if(u!=null){if(d=u.$$typeof,d===F){s.tag=11,s=Sy(null,s,u,i,o);break e}else if(d===M){s.tag=14,s=Cy(null,s,u,i,o);break e}}throw s=we(u)||u,Error(r(306,s,""))}}return s;case 0:return Bf(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=ga(u,s.pendingProps),Iy(i,s,u,d,o);case 3:e:{if(ve(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var m=s.memoizedState;d=m.element,gf(i,s),Ll(s,u,null,o);var S=s.memoizedState;if(u=S.cache,Yr(s,Bt,u),u!==m.cache&&cf(s,[Bt],o,!0),Rl(),u=S.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Oy(i,s,u,o);break e}else if(u!==d){d=Zn(Error(r(424)),s),bl(d),s=Oy(i,s,u,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Tt=mi(i.firstChild),wn=s,it=!0,ca=null,Vi=!0,o=fy(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(El(),u===d){s=Sr(i,s,o);break e}rn(i,s,u,o)}s=s.child}return s;case 26:return Bc(i,s),i===null?(o=U_(s.type,null,s.pendingProps,null))?s.memoizedState=o:it||(o=s.type,i=s.pendingProps,u=th(me.current).createElement(o),u[Ee]=s,u[It]=i,an(u,o,i),At(u),s.stateNode=u):s.memoizedState=U_(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Se(s),i===null&&it&&(u=s.stateNode=k_(s.type,s.pendingProps,me.current),wn=s,Vi=!0,d=Tt,cs(s.type)?(xp=d,Tt=mi(u.firstChild)):Tt=d),rn(i,s,s.pendingProps.children,o),Bc(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&it&&((d=u=Tt)&&(u=mC(u,s.type,s.pendingProps,Vi),u!==null?(s.stateNode=u,wn=s,Tt=mi(u.firstChild),Vi=!1,d=!0):d=!1),d||ha(s)),Se(s),d=s.type,m=s.pendingProps,S=i!==null?i.memoizedProps:null,u=m.children,Tp(d,m)?u=null:S!==null&&Tp(d,S)&&(s.flags|=32),s.memoizedState!==null&&(d=wf(i,s,DS,null,null,o),Zl._currentValue=d),Bc(i,s),rn(i,s,u,o),s.child;case 6:return i===null&&it&&((i=o=Tt)&&(o=gC(o,s.pendingProps,Vi),o!==null?(s.stateNode=o,wn=s,Tt=null,i=!0):i=!1),i||ha(s)),null;case 13:return My(i,s,o);case 4:return ve(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=mo(s,null,u,o):rn(i,s,u,o),s.child;case 11:return Sy(i,s,s.type,s.pendingProps,o);case 7:return rn(i,s,s.pendingProps,o),s.child;case 8:return rn(i,s,s.pendingProps.children,o),s.child;case 12:return rn(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Yr(s,s.type,u.value),rn(i,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,fa(s),d=fn(d),u=u(d),s.flags|=1,rn(i,s,u,o),s.child;case 14:return Cy(i,s,s.type,s.pendingProps,o);case 15:return Ay(i,s,s.type,s.pendingProps,o);case 19:return Ny(i,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},i===null?(o=zc(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=vr(i.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return xy(i,s,o);case 24:return fa(s),u=fn(Bt),i===null?(d=ff(),d===null&&(d=pt,m=hf(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=o),d=m),s.memoizedState={parent:u,cache:d},mf(s),Yr(s,Bt,d)):((i.lanes&o)!==0&&(gf(i,s),Ll(s,null,null,o),Rl()),d=i.memoizedState,m=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Yr(s,Bt,u)):(u=m.cache,Yr(s,Bt,u),u!==d.cache&&cf(s,[Bt],o,!0))),rn(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Cr(i){i.flags|=4}function ky(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!F_(s)){if(s=ti.current,s!==null&&((Ze&4194048)===Ze?Ui!==null:(Ze&62914560)!==Ze&&(Ze&536870912)===0||s!==Ui))throw Al=pf,_v;i.flags|=8192}}function qc(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Hr():536870912,i.lanes|=s,_o|=s)}function kl(i,s){if(!it)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function Et(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function qS(i,s,o){var u=s.pendingProps;switch(af(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(s),null;case 1:return Et(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),br(Bt),nt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(_l(s)?Cr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,pv())),Et(s),null;case 26:return o=s.memoizedState,i===null?(Cr(s),o!==null?(Et(s),ky(s,o)):(Et(s),s.flags&=-16777217)):o?o!==i.memoizedState?(Cr(s),Et(s),ky(s,o)):(Et(s),s.flags&=-16777217):(i.memoizedProps!==u&&Cr(s),Et(s),s.flags&=-16777217),null;case 27:Pe(s),o=me.current;var d=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Cr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Et(s),null}i=pe.current,_l(s)?dv(s):(i=k_(d,u,o),s.stateNode=i,Cr(s))}return Et(s),null;case 5:if(Pe(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Cr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Et(s),null}if(i=pe.current,_l(s))dv(s);else{switch(d=th(me.current),i){case 1:i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=d.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}i[Ee]=s,i[It]=u;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=i;e:switch(an(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Cr(s)}}return Et(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&Cr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=me.current,_l(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,d=wn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[Ee]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||L_(i.nodeValue,o)),i||ha(s)}else i=th(i).createTextNode(u),i[Ee]=s,s.stateNode=i}return Et(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=_l(s),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Ee]=s}else El(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Et(s),d=!1}else d=pv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Tr(s),s):(Tr(s),null)}if(Tr(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==d&&(u.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),qc(s,s.updateQueue),Et(s),null;case 4:return nt(),i===null&&yp(s.stateNode.containerInfo),Et(s),null;case 10:return br(s.type),Et(s),null;case 19:if(ce(zt),d=s.memoizedState,d===null)return Et(s),null;if(u=(s.flags&128)!==0,m=d.rendering,m===null)if(u)kl(d,!1);else{if(St!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(m=jc(i),m!==null){for(s.flags|=128,kl(d,!1),i=m.updateQueue,s.updateQueue=i,qc(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)cv(o,i),o=o.sibling;return ne(zt,zt.current&1|2),s.child}i=i.sibling}d.tail!==null&&en()>Gc&&(s.flags|=128,u=!0,kl(d,!1),s.lanes=4194304)}else{if(!u)if(i=jc(m),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,qc(s,i),kl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!it)return Et(s),null}else 2*en()-d.renderingStartTime>Gc&&o!==536870912&&(s.flags|=128,u=!0,kl(d,!1),s.lanes=4194304);d.isBackwards?(m.sibling=s.child,s.child=m):(i=d.last,i!==null?i.sibling=m:s.child=m,d.last=m)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=en(),s.sibling=null,i=zt.current,ne(zt,u?i&1|2:i&1),s):(Et(s),null);case 22:case 23:return Tr(s),Ef(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(Et(s),s.subtreeFlags&6&&(s.flags|=8192)):Et(s),o=s.updateQueue,o!==null&&qc(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&ce(pa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),br(Bt),Et(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function HS(i,s){switch(af(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return br(Bt),nt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Pe(s),null;case 13:if(Tr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));El()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ce(zt),null;case 4:return nt(),null;case 10:return br(s.type),null;case 22:case 23:return Tr(s),Ef(),i!==null&&ce(pa),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return br(Bt),null;case 25:return null;default:return null}}function jy(i,s){switch(af(s),s.tag){case 3:br(Bt),nt();break;case 26:case 27:case 5:Pe(s);break;case 4:nt();break;case 13:Tr(s);break;case 19:ce(zt);break;case 10:br(s.type);break;case 22:case 23:Tr(s),Ef(),i!==null&&ce(pa);break;case 24:br(Bt)}}function jl(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var m=o.create,S=o.inst;u=m(),S.destroy=u}o=o.next}while(o!==d)}}catch(x){ft(s,s.return,x)}}function ns(i,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var m=d.next;u=m;do{if((u.tag&i)===i){var S=u.inst,x=S.destroy;if(x!==void 0){S.destroy=void 0,d=s;var V=o,Y=x;try{Y()}catch(re){ft(d,V,re)}}}u=u.next}while(u!==m)}}catch(re){ft(s,s.return,re)}}function Vy(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{Cv(s,o)}catch(u){ft(i,i.return,u)}}}function Uy(i,s,o){o.props=ga(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){ft(i,s,u)}}function Vl(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){ft(i,s,d)}}function Bi(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){ft(i,s,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){ft(i,s,d)}else o.current=null}function By(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){ft(i,i.return,d)}}function Qf(i,s,o){try{var u=i.stateNode;cC(u,i.type,o,s),u[It]=s}catch(d){ft(i,i.return,d)}}function zy(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&cs(i.type)||i.tag===4}function Yf(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||zy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&cs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wf(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=eh));else if(u!==4&&(u===27&&cs(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(Wf(i,s,o),i=i.sibling;i!==null;)Wf(i,s,o),i=i.sibling}function Hc(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&cs(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Hc(i,s,o),i=i.sibling;i!==null;)Hc(i,s,o),i=i.sibling}function qy(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);an(s,u,o),s[Ee]=i,s[It]=o}catch(m){ft(i,i.return,m)}}var Ar=!1,Rt=!1,Zf=!1,Hy=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function FS(i,s){if(i=i.containerInfo,bp=oh,i=ev(i),Qd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var S=0,x=-1,V=-1,Y=0,re=0,oe=i,X=null;t:for(;;){for(var J;oe!==o||d!==0&&oe.nodeType!==3||(x=S+d),oe!==m||u!==0&&oe.nodeType!==3||(V=S+u),oe.nodeType===3&&(S+=oe.nodeValue.length),(J=oe.firstChild)!==null;)X=oe,oe=J;for(;;){if(oe===i)break t;if(X===o&&++Y===d&&(x=S),X===m&&++re===u&&(V=S),(J=oe.nextSibling)!==null)break;oe=X,X=oe.parentNode}oe=J}o=x===-1||V===-1?null:{start:x,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(wp={focusedElem:i,selectionRange:o},oh=!1,Yt=s;Yt!==null;)if(s=Yt,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Yt=i;else for(;Yt!==null;){switch(s=Yt,m=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,o=s,d=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var Oe=ga(o.type,d,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(Oe,m),u.__reactInternalSnapshotBeforeUpdate=i}catch(xe){ft(o,o.return,xe)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Cp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Cp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Yt=i;break}Yt=s.return}}function Fy(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:is(i,o),u&4&&jl(5,o);break;case 1:if(is(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(S){ft(o,o.return,S)}else{var d=ga(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(d,s,i.__reactInternalSnapshotBeforeUpdate)}catch(S){ft(o,o.return,S)}}u&64&&Vy(o),u&512&&Vl(o,o.return);break;case 3:if(is(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Cv(i,s)}catch(S){ft(o,o.return,S)}}break;case 27:s===null&&u&4&&qy(o);case 26:case 5:is(i,o),s===null&&u&4&&By(o),u&512&&Vl(o,o.return);break;case 12:is(i,o);break;case 13:is(i,o),u&4&&Ky(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=JS.bind(null,o),vC(i,o))));break;case 22:if(u=o.memoizedState!==null||Ar,!u){s=s!==null&&s.memoizedState!==null||Rt,d=Ar;var m=Rt;Ar=u,(Rt=s)&&!m?rs(i,o,(o.subtreeFlags&8772)!==0):is(i,o),Ar=d,Rt=m}break;case 30:break;default:is(i,o)}}function Gy(i){var s=i.alternate;s!==null&&(i.alternate=null,Gy(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Gr(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var vt=null,Sn=!1;function xr(i,s,o){for(o=o.child;o!==null;)$y(i,s,o),o=o.sibling}function $y(i,s,o){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(mt,o)}catch{}switch(o.tag){case 26:Rt||Bi(o,s),xr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Rt||Bi(o,s);var u=vt,d=Sn;cs(o.type)&&(vt=o.stateNode,Sn=!1),xr(i,s,o),Kl(o.stateNode),vt=u,Sn=d;break;case 5:Rt||Bi(o,s);case 6:if(u=vt,d=Sn,vt=null,xr(i,s,o),vt=u,Sn=d,vt!==null)if(Sn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(o.stateNode)}catch(m){ft(o,s,m)}else try{vt.removeChild(o.stateNode)}catch(m){ft(o,s,m)}break;case 18:vt!==null&&(Sn?(i=vt,N_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),tu(i)):N_(vt,o.stateNode));break;case 4:u=vt,d=Sn,vt=o.stateNode.containerInfo,Sn=!0,xr(i,s,o),vt=u,Sn=d;break;case 0:case 11:case 14:case 15:Rt||ns(2,o,s),Rt||ns(4,o,s),xr(i,s,o);break;case 1:Rt||(Bi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Uy(o,s,u)),xr(i,s,o);break;case 21:xr(i,s,o);break;case 22:Rt=(u=Rt)||o.memoizedState!==null,xr(i,s,o),Rt=u;break;default:xr(i,s,o)}}function Ky(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{tu(i)}catch(o){ft(s,s.return,o)}}function GS(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Hy),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Hy),s;default:throw Error(r(435,i.tag))}}function Xf(i,s){var o=GS(i);s.forEach(function(u){var d=eC.bind(null,i,u);o.has(u)||(o.add(u),u.then(d,d))})}function Dn(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],m=i,S=s,x=S;e:for(;x!==null;){switch(x.tag){case 27:if(cs(x.type)){vt=x.stateNode,Sn=!1;break e}break;case 5:vt=x.stateNode,Sn=!1;break e;case 3:case 4:vt=x.stateNode.containerInfo,Sn=!0;break e}x=x.return}if(vt===null)throw Error(r(160));$y(m,S,d),vt=null,Sn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Qy(s,i),s=s.sibling}var pi=null;function Qy(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Dn(s,i),Nn(i),u&4&&(ns(3,i,i.return),jl(3,i),ns(5,i,i.return));break;case 1:Dn(s,i),Nn(i),u&512&&(Rt||o===null||Bi(o,o.return)),u&64&&Ar&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=pi;if(Dn(s,i),Nn(i),u&512&&(Rt||o===null||Bi(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Gs]||m[Ee]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(u),d.head.insertBefore(m,d.querySelector("head > title"))),an(m,u,o),m[Ee]=i,At(m),u=m;break e;case"link":var S=q_("link","href",d).get(u+(o.href||""));if(S){for(var x=0;x<S.length;x++)if(m=S[x],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(x,1);break t}}m=d.createElement(u),an(m,u,o),d.head.appendChild(m);break;case"meta":if(S=q_("meta","content",d).get(u+(o.content||""))){for(x=0;x<S.length;x++)if(m=S[x],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(x,1);break t}}m=d.createElement(u),an(m,u,o),d.head.appendChild(m);break;default:throw Error(r(468,u))}m[Ee]=i,At(m),u=m}i.stateNode=u}else H_(d,i.type,i.stateNode);else i.stateNode=z_(d,u,i.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?H_(d,i.type,i.stateNode):z_(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Qf(i,i.memoizedProps,o.memoizedProps)}break;case 27:Dn(s,i),Nn(i),u&512&&(Rt||o===null||Bi(o,o.return)),o!==null&&u&4&&Qf(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Dn(s,i),Nn(i),u&512&&(Rt||o===null||Bi(o,o.return)),i.flags&32){d=i.stateNode;try{Kn(d,"")}catch(J){ft(i,i.return,J)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,Qf(i,d,o!==null?o.memoizedProps:d)),u&1024&&(Zf=!0);break;case 6:if(Dn(s,i),Nn(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(J){ft(i,i.return,J)}}break;case 3:if(rh=null,d=pi,pi=nh(s.containerInfo),Dn(s,i),pi=d,Nn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{tu(s.containerInfo)}catch(J){ft(i,i.return,J)}Zf&&(Zf=!1,Yy(i));break;case 4:u=pi,pi=nh(i.stateNode.containerInfo),Dn(s,i),Nn(i),pi=u;break;case 12:Dn(s,i),Nn(i);break;case 13:Dn(s,i),Nn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(rp=en()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Xf(i,u)));break;case 22:d=i.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,Y=Ar,re=Rt;if(Ar=Y||d,Rt=re||V,Dn(s,i),Rt=re,Ar=Y,Nn(i),u&8192)e:for(s=i.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||V||Ar||Rt||va(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){V=o=s;try{if(m=V.stateNode,d)S=m.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{x=V.stateNode;var oe=V.memoizedProps.style,X=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;x.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(J){ft(V,V.return,J)}}}else if(s.tag===6){if(o===null){V=s;try{V.stateNode.nodeValue=d?"":V.memoizedProps}catch(J){ft(V,V.return,J)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Xf(i,o))));break;case 19:Dn(s,i),Nn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Xf(i,u)));break;case 30:break;case 21:break;default:Dn(s,i),Nn(i)}}function Nn(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(zy(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var d=o.stateNode,m=Yf(i);Hc(i,m,d);break;case 5:var S=o.stateNode;o.flags&32&&(Kn(S,""),o.flags&=-33);var x=Yf(i);Hc(i,x,S);break;case 3:case 4:var V=o.stateNode.containerInfo,Y=Yf(i);Wf(i,Y,V);break;default:throw Error(r(161))}}catch(re){ft(i,i.return,re)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Yy(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Yy(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function is(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Fy(i,s.alternate,s),s=s.sibling}function va(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ns(4,s,s.return),va(s);break;case 1:Bi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Uy(s,s.return,o),va(s);break;case 27:Kl(s.stateNode);case 26:case 5:Bi(s,s.return),va(s);break;case 22:s.memoizedState===null&&va(s);break;case 30:va(s);break;default:va(s)}i=i.sibling}}function rs(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=i,m=s,S=m.flags;switch(m.tag){case 0:case 11:case 15:rs(d,m,o),jl(4,m);break;case 1:if(rs(d,m,o),u=m,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Y){ft(u,u.return,Y)}if(u=m,d=u.updateQueue,d!==null){var x=u.stateNode;try{var V=d.shared.hiddenCallbacks;if(V!==null)for(d.shared.hiddenCallbacks=null,d=0;d<V.length;d++)Sv(V[d],x)}catch(Y){ft(u,u.return,Y)}}o&&S&64&&Vy(m),Vl(m,m.return);break;case 27:qy(m);case 26:case 5:rs(d,m,o),o&&u===null&&S&4&&By(m),Vl(m,m.return);break;case 12:rs(d,m,o);break;case 13:rs(d,m,o),o&&S&4&&Ky(d,m);break;case 22:m.memoizedState===null&&rs(d,m,o),Vl(m,m.return);break;case 30:break;default:rs(d,m,o)}s=s.sibling}}function Jf(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Tl(o))}function ep(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Tl(i))}function zi(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Wy(i,s,o,u),s=s.sibling}function Wy(i,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:zi(i,s,o,u),d&2048&&jl(9,s);break;case 1:zi(i,s,o,u);break;case 3:zi(i,s,o,u),d&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Tl(i)));break;case 12:if(d&2048){zi(i,s,o,u),i=s.stateNode;try{var m=s.memoizedProps,S=m.id,x=m.onPostCommit;typeof x=="function"&&x(S,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){ft(s,s.return,V)}}else zi(i,s,o,u);break;case 13:zi(i,s,o,u);break;case 23:break;case 22:m=s.stateNode,S=s.alternate,s.memoizedState!==null?m._visibility&2?zi(i,s,o,u):Ul(i,s):m._visibility&2?zi(i,s,o,u):(m._visibility|=2,go(i,s,o,u,(s.subtreeFlags&10256)!==0)),d&2048&&Jf(S,s);break;case 24:zi(i,s,o,u),d&2048&&ep(s.alternate,s);break;default:zi(i,s,o,u)}}function go(i,s,o,u,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=i,S=s,x=o,V=u,Y=S.flags;switch(S.tag){case 0:case 11:case 15:go(m,S,x,V,d),jl(8,S);break;case 23:break;case 22:var re=S.stateNode;S.memoizedState!==null?re._visibility&2?go(m,S,x,V,d):Ul(m,S):(re._visibility|=2,go(m,S,x,V,d)),d&&Y&2048&&Jf(S.alternate,S);break;case 24:go(m,S,x,V,d),d&&Y&2048&&ep(S.alternate,S);break;default:go(m,S,x,V,d)}s=s.sibling}}function Ul(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,d=u.flags;switch(u.tag){case 22:Ul(o,u),d&2048&&Jf(u.alternate,u);break;case 24:Ul(o,u),d&2048&&ep(u.alternate,u);break;default:Ul(o,u)}s=s.sibling}}var Bl=8192;function vo(i){if(i.subtreeFlags&Bl)for(i=i.child;i!==null;)Zy(i),i=i.sibling}function Zy(i){switch(i.tag){case 26:vo(i),i.flags&Bl&&i.memoizedState!==null&&IC(pi,i.memoizedState,i.memoizedProps);break;case 5:vo(i);break;case 3:case 4:var s=pi;pi=nh(i.stateNode.containerInfo),vo(i),pi=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Bl,Bl=16777216,vo(i),Bl=s):vo(i));break;default:vo(i)}}function Xy(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function zl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Yt=u,e_(u,i)}Xy(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Jy(i),i=i.sibling}function Jy(i){switch(i.tag){case 0:case 11:case 15:zl(i),i.flags&2048&&ns(9,i,i.return);break;case 3:zl(i);break;case 12:zl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Fc(i)):zl(i);break;default:zl(i)}}function Fc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Yt=u,e_(u,i)}Xy(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ns(8,s,s.return),Fc(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Fc(s));break;default:Fc(s)}i=i.sibling}}function e_(i,s){for(;Yt!==null;){var o=Yt;switch(o.tag){case 0:case 11:case 15:ns(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Tl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Yt=u;else e:for(o=i;Yt!==null;){u=Yt;var d=u.sibling,m=u.return;if(Gy(u),u===o){Yt=null;break e}if(d!==null){d.return=m,Yt=d;break e}Yt=m}}}var $S={getCacheForType:function(i){var s=fn(Bt),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},KS=typeof WeakMap=="function"?WeakMap:Map,ot=0,pt=null,ze=null,Ze=0,lt=0,Pn=null,ss=!1,yo=!1,tp=!1,Rr=0,St=0,as=0,ya=0,np=0,ni=0,_o=0,ql=null,Cn=null,ip=!1,rp=0,Gc=1/0,$c=null,os=null,sn=0,ls=null,Eo=null,bo=0,sp=0,ap=null,t_=null,Hl=0,op=null;function kn(){if((ot&2)!==0&&Ze!==0)return Ze&-Ze;if(Z.T!==null){var i=oo;return i!==0?i:pp()}return ci()}function n_(){ni===0&&(ni=(Ze&536870912)===0||it?Ci():536870912);var i=ti.current;return i!==null&&(i.flags|=32),ni}function jn(i,s,o){(i===pt&&(lt===2||lt===9)||i.cancelPendingCommit!==null)&&(wo(i,0),us(i,Ze,ni,!1)),Gn(i,o),((ot&2)===0||i!==pt)&&(i===pt&&((ot&2)===0&&(ya|=o),St===4&&us(i,Ze,ni,!1)),qi(i))}function i_(i,s,o){if((ot&6)!==0)throw Error(r(327));var u=!o&&(s&124)===0&&(s&i.expiredLanes)===0||Hn(i,s),d=u?WS(i,s):cp(i,s,!0),m=u;do{if(d===0){yo&&!u&&us(i,s,0,!1);break}else{if(o=i.current.alternate,m&&!QS(o)){d=cp(i,s,!1),m=!1;continue}if(d===2){if(m=s,i.errorRecoveryDisabledLanes&m)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var x=i;d=ql;var V=x.current.memoizedState.isDehydrated;if(V&&(wo(x,S).flags|=256),S=cp(x,S,!1),S!==2){if(tp&&!V){x.errorRecoveryDisabledLanes|=m,ya|=m,d=4;break e}m=Cn,Cn=d,m!==null&&(Cn===null?Cn=m:Cn.push.apply(Cn,m))}d=S}if(m=!1,d!==2)continue}}if(d===1){wo(i,0),us(i,s,0,!0);break}e:{switch(u=i,m=d,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:us(u,s,ni,!ss);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=rp+300-en(),10<d)){if(us(u,s,ni,!ss),ar(u,0,!0)!==0)break e;u.timeoutHandle=M_(r_.bind(null,u,o,Cn,$c,ip,s,ni,ya,_o,ss,m,2,-0,0),d);break e}r_(u,o,Cn,$c,ip,s,ni,ya,_o,ss,m,0,-0,0)}}break}while(!0);qi(i)}function r_(i,s,o,u,d,m,S,x,V,Y,re,oe,X,J){if(i.timeoutHandle=-1,oe=s.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(Wl={stylesheets:null,count:0,unsuspend:LC},Zy(s),oe=OC(),oe!==null)){i.cancelPendingCommit=oe(h_.bind(null,i,s,m,o,u,d,S,x,V,re,1,X,J)),us(i,m,S,!Y);return}h_(i,s,m,o,u,d,S,x,V)}function QS(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],m=d.getSnapshot;d=d.value;try{if(!On(m(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function us(i,s,o,u){s&=~np,s&=~ya,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var d=s;0<d;){var m=31-Ct(d),S=1<<m;u[m]=-1,d&=~S}o!==0&&Ln(i,o,s)}function Kc(){return(ot&6)===0?(Fl(0),!1):!0}function lp(){if(ze!==null){if(lt===0)var i=ze.return;else i=ze,Er=da=null,Cf(i),po=null,Nl=0,i=ze;for(;i!==null;)jy(i.alternate,i),i=i.return;ze=null}}function wo(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,dC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),lp(),pt=i,ze=o=vr(i.current,null),Ze=s,lt=0,Pn=null,ss=!1,yo=Hn(i,s),tp=!1,_o=ni=np=ya=as=St=0,Cn=ql=null,ip=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var d=31-Ct(u),m=1<<d;s|=i[d],u&=~m}return Rr=s,mc(),o}function s_(i,s){Ve=null,Z.H=Nc,s===Cl||s===Sc?(s=wv(),lt=3):s===_v?(s=wv(),lt=4):lt=s===Ty?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Pn=s,ze===null&&(St=1,Uc(i,Zn(s,i.current)))}function a_(){var i=Z.H;return Z.H=Nc,i===null?Nc:i}function o_(){var i=Z.A;return Z.A=$S,i}function up(){St=4,ss||(Ze&4194048)!==Ze&&ti.current!==null||(yo=!0),(as&134217727)===0&&(ya&134217727)===0||pt===null||us(pt,Ze,ni,!1)}function cp(i,s,o){var u=ot;ot|=2;var d=a_(),m=o_();(pt!==i||Ze!==s)&&($c=null,wo(i,s)),s=!1;var S=St;e:do try{if(lt!==0&&ze!==null){var x=ze,V=Pn;switch(lt){case 8:lp(),S=6;break e;case 3:case 2:case 9:case 6:ti.current===null&&(s=!0);var Y=lt;if(lt=0,Pn=null,To(i,x,V,Y),o&&yo){S=0;break e}break;default:Y=lt,lt=0,Pn=null,To(i,x,V,Y)}}YS(),S=St;break}catch(re){s_(i,re)}while(!0);return s&&i.shellSuspendCounter++,Er=da=null,ot=u,Z.H=d,Z.A=m,ze===null&&(pt=null,Ze=0,mc()),S}function YS(){for(;ze!==null;)l_(ze)}function WS(i,s){var o=ot;ot|=2;var u=a_(),d=o_();pt!==i||Ze!==s?($c=null,Gc=en()+500,wo(i,s)):yo=Hn(i,s);e:do try{if(lt!==0&&ze!==null){s=ze;var m=Pn;t:switch(lt){case 1:lt=0,Pn=null,To(i,s,m,1);break;case 2:case 9:if(Ev(m)){lt=0,Pn=null,u_(s);break}s=function(){lt!==2&&lt!==9||pt!==i||(lt=7),qi(i)},m.then(s,s);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:Ev(m)?(lt=0,Pn=null,u_(s)):(lt=0,Pn=null,To(i,s,m,7));break;case 5:var S=null;switch(ze.tag){case 26:S=ze.memoizedState;case 5:case 27:var x=ze;if(!S||F_(S)){lt=0,Pn=null;var V=x.sibling;if(V!==null)ze=V;else{var Y=x.return;Y!==null?(ze=Y,Qc(Y)):ze=null}break t}}lt=0,Pn=null,To(i,s,m,5);break;case 6:lt=0,Pn=null,To(i,s,m,6);break;case 8:lp(),St=6;break e;default:throw Error(r(462))}}ZS();break}catch(re){s_(i,re)}while(!0);return Er=da=null,Z.H=u,Z.A=d,ot=o,ze!==null?0:(pt=null,Ze=0,mc(),St)}function ZS(){for(;ze!==null&&!Ke();)l_(ze)}function l_(i){var s=Py(i.alternate,i,Rr);i.memoizedProps=i.pendingProps,s===null?Qc(i):ze=s}function u_(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=Ly(o,s,s.pendingProps,s.type,void 0,Ze);break;case 11:s=Ly(o,s,s.pendingProps,s.type.render,s.ref,Ze);break;case 5:Cf(s);default:jy(o,s),s=ze=cv(s,Rr),s=Py(o,s,Rr)}i.memoizedProps=i.pendingProps,s===null?Qc(i):ze=s}function To(i,s,o,u){Er=da=null,Cf(s),po=null,Nl=0;var d=s.return;try{if(BS(i,d,s,o,Ze)){St=1,Uc(i,Zn(o,i.current)),ze=null;return}}catch(m){if(d!==null)throw ze=d,m;St=1,Uc(i,Zn(o,i.current)),ze=null;return}s.flags&32768?(it||u===1?i=!0:yo||(Ze&536870912)!==0?i=!1:(ss=i=!0,(u===2||u===9||u===3||u===6)&&(u=ti.current,u!==null&&u.tag===13&&(u.flags|=16384))),c_(s,i)):Qc(s)}function Qc(i){var s=i;do{if((s.flags&32768)!==0){c_(s,ss);return}i=s.return;var o=qS(s.alternate,s,Rr);if(o!==null){ze=o;return}if(s=s.sibling,s!==null){ze=s;return}ze=s=i}while(s!==null);St===0&&(St=5)}function c_(i,s){do{var o=HS(i.alternate,i);if(o!==null){o.flags&=32767,ze=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){ze=i;return}ze=i=o}while(i!==null);St=6,ze=null}function h_(i,s,o,u,d,m,S,x,V){i.cancelPendingCommit=null;do Yc();while(sn!==0);if((ot&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=Jd,Ai(i,o,m,S,x,V),i===pt&&(ze=pt=null,Ze=0),Eo=s,ls=i,bo=o,sp=m,ap=d,t_=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,tC(zn,function(){return g_(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,d=ue.p,ue.p=2,S=ot,ot|=4;try{FS(i,s,o)}finally{ot=S,ue.p=d,Z.T=u}}sn=1,d_(),f_(),p_()}}function d_(){if(sn===1){sn=0;var i=ls,s=Eo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=ue.p;ue.p=2;var d=ot;ot|=4;try{Qy(s,i);var m=wp,S=ev(i.containerInfo),x=m.focusedElem,V=m.selectionRange;if(S!==x&&x&&x.ownerDocument&&Jg(x.ownerDocument.documentElement,x)){if(V!==null&&Qd(x)){var Y=V.start,re=V.end;if(re===void 0&&(re=Y),"selectionStart"in x)x.selectionStart=Y,x.selectionEnd=Math.min(re,x.value.length);else{var oe=x.ownerDocument||document,X=oe&&oe.defaultView||window;if(X.getSelection){var J=X.getSelection(),Oe=x.textContent.length,xe=Math.min(V.start,Oe),dt=V.end===void 0?xe:Math.min(V.end,Oe);!J.extend&&xe>dt&&(S=dt,dt=xe,xe=S);var G=Xg(x,xe),H=Xg(x,dt);if(G&&H&&(J.rangeCount!==1||J.anchorNode!==G.node||J.anchorOffset!==G.offset||J.focusNode!==H.node||J.focusOffset!==H.offset)){var Q=oe.createRange();Q.setStart(G.node,G.offset),J.removeAllRanges(),xe>dt?(J.addRange(Q),J.extend(H.node,H.offset)):(Q.setEnd(H.node,H.offset),J.addRange(Q))}}}}for(oe=[],J=x;J=J.parentNode;)J.nodeType===1&&oe.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<oe.length;x++){var ae=oe[x];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}oh=!!bp,wp=bp=null}finally{ot=d,ue.p=u,Z.T=o}}i.current=s,sn=2}}function f_(){if(sn===2){sn=0;var i=ls,s=Eo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=ue.p;ue.p=2;var d=ot;ot|=4;try{Fy(i,s.alternate,s)}finally{ot=d,ue.p=u,Z.T=o}}sn=3}}function p_(){if(sn===4||sn===3){sn=0,qs();var i=ls,s=Eo,o=bo,u=t_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?sn=5:(sn=0,Eo=ls=null,m_(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(os=null),ui(o),s=s.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(mt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Z.T,d=ue.p,ue.p=2,Z.T=null;try{for(var m=i.onRecoverableError,S=0;S<u.length;S++){var x=u[S];m(x.value,{componentStack:x.stack})}}finally{Z.T=s,ue.p=d}}(bo&3)!==0&&Yc(),qi(i),d=i.pendingLanes,(o&4194090)!==0&&(d&42)!==0?i===op?Hl++:(Hl=0,op=i):Hl=0,Fl(0)}}function m_(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Tl(s)))}function Yc(i){return d_(),f_(),p_(),g_()}function g_(){if(sn!==5)return!1;var i=ls,s=sp;sp=0;var o=ui(bo),u=Z.T,d=ue.p;try{ue.p=32>o?32:o,Z.T=null,o=ap,ap=null;var m=ls,S=bo;if(sn=0,Eo=ls=null,bo=0,(ot&6)!==0)throw Error(r(331));var x=ot;if(ot|=4,Jy(m.current),Wy(m,m.current,S,o),ot=x,Fl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(mt,m)}catch{}return!0}finally{ue.p=d,Z.T=u,m_(i,s)}}function v_(i,s,o){s=Zn(o,s),s=Uf(i.stateNode,s,2),i=Xr(i,s,2),i!==null&&(Gn(i,2),qi(i))}function ft(i,s,o){if(i.tag===3)v_(i,i,o);else for(;s!==null;){if(s.tag===3){v_(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(os===null||!os.has(u))){i=Zn(o,i),o=by(2),u=Xr(s,o,2),u!==null&&(wy(o,u,s,i),Gn(u,2),qi(u));break}}s=s.return}}function hp(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new KS;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(tp=!0,d.add(o),i=XS.bind(null,i,s,o),s.then(i,i))}function XS(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,pt===i&&(Ze&o)===o&&(St===4||St===3&&(Ze&62914560)===Ze&&300>en()-rp?(ot&2)===0&&wo(i,0):np|=o,_o===Ze&&(_o=0)),qi(i)}function y_(i,s){s===0&&(s=Hr()),i=io(i,s),i!==null&&(Gn(i,s),qi(i))}function JS(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),y_(i,o)}function eC(i,s){var o=0;switch(i.tag){case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),y_(i,o)}function tC(i,s){return Jt(i,s)}var Wc=null,So=null,dp=!1,Zc=!1,fp=!1,_a=0;function qi(i){i!==So&&i.next===null&&(So===null?Wc=So=i:So=So.next=i),Zc=!0,dp||(dp=!0,iC())}function Fl(i,s){if(!fp&&Zc){fp=!0;do for(var o=!1,u=Wc;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var m=0;else{var S=u.suspendedLanes,x=u.pingedLanes;m=(1<<31-Ct(42|i)+1)-1,m&=d&~(S&~x),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,w_(u,m))}else m=Ze,m=ar(u,u===pt?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||Hn(u,m)||(o=!0,w_(u,m));u=u.next}while(o);fp=!1}}function nC(){__()}function __(){Zc=dp=!1;var i=0;_a!==0&&(hC()&&(i=_a),_a=0);for(var s=en(),o=null,u=Wc;u!==null;){var d=u.next,m=E_(u,s);m===0?(u.next=null,o===null?Wc=d:o.next=d,d===null&&(So=o)):(o=u,(i!==0||(m&3)!==0)&&(Zc=!0)),u=d}Fl(i)}function E_(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var S=31-Ct(m),x=1<<S,V=d[S];V===-1?((x&o)===0||(x&u)!==0)&&(d[S]=qr(x,s)):V<=s&&(i.expiredLanes|=x),m&=~x}if(s=pt,o=Ze,o=ar(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(lt===2||lt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Rn(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Hn(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&Rn(u),ui(o)){case 2:case 8:o=sr;break;case 32:o=zn;break;case 268435456:o=oi;break;default:o=zn}return u=b_.bind(null,i),o=Jt(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&Rn(u),i.callbackPriority=2,i.callbackNode=null,2}function b_(i,s){if(sn!==0&&sn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Yc()&&i.callbackNode!==o)return null;var u=Ze;return u=ar(i,i===pt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(i_(i,u,s),E_(i,en()),i.callbackNode!=null&&i.callbackNode===o?b_.bind(null,i):null)}function w_(i,s){if(Yc())return null;i_(i,s,!0)}function iC(){fC(function(){(ot&6)!==0?Jt(wi,nC):__()})}function pp(){return _a===0&&(_a=Ci()),_a}function T_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ga(""+i)}function S_(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function rC(i,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var m=T_((d[It]||null).action),S=u.submitter;S&&(s=(s=S[It]||null)?T_(s.formAction):S.getAttribute("formAction"),s!==null&&(m=s,S=null));var x=new $a("action","action",null,u,d);i.push({event:x,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(_a!==0){var V=S?S_(d,S):new FormData(d);Nf(o,{pending:!0,data:V,method:d.method,action:m},null,V)}}else typeof m=="function"&&(x.preventDefault(),V=S?S_(d,S):new FormData(d),Nf(o,{pending:!0,data:V,method:d.method,action:m},m,V))},currentTarget:d}]})}}for(var mp=0;mp<Xd.length;mp++){var gp=Xd[mp],sC=gp.toLowerCase(),aC=gp[0].toUpperCase()+gp.slice(1);fi(sC,"on"+aC)}fi(iv,"onAnimationEnd"),fi(rv,"onAnimationIteration"),fi(sv,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(TS,"onTransitionRun"),fi(SS,"onTransitionStart"),fi(CS,"onTransitionCancel"),fi(av,"onTransitionEnd"),lr("onMouseEnter",["mouseout","mouseover"]),lr("onMouseLeave",["mouseout","mouseover"]),lr("onPointerEnter",["pointerout","pointerover"]),lr("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function C_(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;e:{var m=void 0;if(s)for(var S=u.length-1;0<=S;S--){var x=u[S],V=x.instance,Y=x.currentTarget;if(x=x.listener,V!==m&&d.isPropagationStopped())break e;m=x,d.currentTarget=Y;try{m(d)}catch(re){Vc(re)}d.currentTarget=null,m=V}else for(S=0;S<u.length;S++){if(x=u[S],V=x.instance,Y=x.currentTarget,x=x.listener,V!==m&&d.isPropagationStopped())break e;m=x,d.currentTarget=Y;try{m(d)}catch(re){Vc(re)}d.currentTarget=null,m=V}}}}function qe(i,s){var o=s[nl];o===void 0&&(o=s[nl]=new Set);var u=i+"__bubble";o.has(u)||(A_(s,i,2,!1),o.add(u))}function vp(i,s,o){var u=0;s&&(u|=4),A_(o,i,u,s)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function yp(i){if(!i[Xc]){i[Xc]=!0,il.forEach(function(o){o!=="selectionchange"&&(oC.has(o)||vp(o,!1,i),vp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Xc]||(s[Xc]=!0,vp("selectionchange",!1,s))}}function A_(i,s,o,u){switch(W_(s)){case 2:var d=NC;break;case 8:d=PC;break;default:d=Mp}o=d.bind(null,s,o,i),d=void 0,!Yn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(s,o,{capture:!0,passive:d}):i.addEventListener(s,o,!0):d!==void 0?i.addEventListener(s,o,{passive:d}):i.addEventListener(s,o,!1)}function _p(i,s,o,u,d){var m=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var x=u.stateNode.containerInfo;if(x===d)break;if(S===4)for(S=u.return;S!==null;){var V=S.tag;if((V===3||V===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;x!==null;){if(S=or(x),S===null)return;if(V=S.tag,V===5||V===6||V===26||V===27){u=m=S;continue e}x=x.parentNode}}u=u.return}ec(function(){var Y=m,re=Qn(o),oe=[];e:{var X=ov.get(i);if(X!==void 0){var J=$a,Oe=i;switch(i){case"keypress":if(Di(o)===0)break e;case"keydown":case"keyup":J=Xa;break;case"focusin":Oe="focus",J=Ya;break;case"focusout":Oe="blur",J=Ya;break;case"beforeblur":case"afterblur":J=Ya;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Fd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=lc;break;case iv:case rv:case sv:J=Wa;break;case av:J=cc;break;case"scroll":case"scrollend":J=tc;break;case"wheel":J=Ja;break;case"copy":case"cut":case"paste":J=Za;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=ml;break;case"toggle":case"beforetoggle":J=dc}var xe=(s&4)!==0,dt=!xe&&(i==="scroll"||i==="scrollend"),G=xe?X!==null?X+"Capture":null:X;xe=[];for(var H=Y,Q;H!==null;){var ae=H;if(Q=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||Q===null||G===null||(ae=Xs(H,G),ae!=null&&xe.push($l(H,ae,Q))),dt)break;H=H.return}0<xe.length&&(X=new J(X,Oe,null,o,re),oe.push({event:X,listeners:xe}))}}if((s&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",J=i==="mouseout"||i==="pointerout",X&&o!==hr&&(Oe=o.relatedTarget||o.fromElement)&&(or(Oe)||Oe[$n]))break e;if((J||X)&&(X=re.window===re?re:(X=re.ownerDocument)?X.defaultView||X.parentWindow:window,J?(Oe=o.relatedTarget||o.toElement,J=Y,Oe=Oe?or(Oe):null,Oe!==null&&(dt=l(Oe),xe=Oe.tag,Oe!==dt||xe!==5&&xe!==27&&xe!==6)&&(Oe=null)):(J=null,Oe=Y),J!==Oe)){if(xe=Wn,ae="onMouseLeave",G="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(xe=ml,ae="onPointerLeave",G="onPointerEnter",H="pointer"),dt=J==null?X:Li(J),Q=Oe==null?X:Li(Oe),X=new xe(ae,H+"leave",J,o,re),X.target=dt,X.relatedTarget=Q,ae=null,or(re)===Y&&(xe=new xe(G,H+"enter",Oe,o,re),xe.target=Q,xe.relatedTarget=dt,ae=xe),dt=ae,J&&Oe)t:{for(xe=J,G=Oe,H=0,Q=xe;Q;Q=Co(Q))H++;for(Q=0,ae=G;ae;ae=Co(ae))Q++;for(;0<H-Q;)xe=Co(xe),H--;for(;0<Q-H;)G=Co(G),Q--;for(;H--;){if(xe===G||G!==null&&xe===G.alternate)break t;xe=Co(xe),G=Co(G)}xe=null}else xe=null;J!==null&&x_(oe,X,J,xe,!1),Oe!==null&&dt!==null&&x_(oe,dt,Oe,xe,!0)}}e:{if(X=Y?Li(Y):window,J=X.nodeName&&X.nodeName.toLowerCase(),J==="select"||J==="input"&&X.type==="file")var _e=$g;else if(Ut(X))if(Kg)_e=ES;else{_e=yS;var Be=vS}else J=X.nodeName,!J||J.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&ll(Y.elementType)&&(_e=$g):_e=_S;if(_e&&(_e=_e(i,Y))){gr(oe,_e,o,re);break e}Be&&Be(i,X,Y),i==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&Kr(X,"number",X.value)}switch(Be=Y?Li(Y):window,i){case"focusin":(Ut(Be)||Be.contentEditable==="true")&&(eo=Be,Yd=Y,yl=null);break;case"focusout":yl=Yd=eo=null;break;case"mousedown":Wd=!0;break;case"contextmenu":case"mouseup":case"dragend":Wd=!1,tv(oe,o,re);break;case"selectionchange":if(wS)break;case"keydown":case"keyup":tv(oe,o,re)}var Ce;if(ki)e:{switch(i){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Ye?te(i,o)&&(Re="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Re="onCompositionStart");Re&&(w&&o.locale!=="ko"&&(Ye||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Ye&&(Ce=cl()):(Mi=re,Qr="value"in Mi?Mi.value:Mi.textContent,Ye=!0)),Be=Jc(Y,Re),0<Be.length&&(Re=new fl(Re,i,null,o,re),oe.push({event:Re,listeners:Be}),Ce?Re.data=Ce:(Ce=fe(o),Ce!==null&&(Re.data=Ce)))),(Ce=v?Vt(i,o):We(i,o))&&(Re=Jc(Y,"onBeforeInput"),0<Re.length&&(Be=new fl("onBeforeInput","beforeinput",null,o,re),oe.push({event:Be,listeners:Re}),Be.data=Ce)),rC(oe,i,Y,o,re)}C_(oe,s)})}function $l(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Jc(i,s){for(var o=s+"Capture",u=[];i!==null;){var d=i,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Xs(i,o),d!=null&&u.unshift($l(i,d,m)),d=Xs(i,s),d!=null&&u.push($l(i,d,m))),i.tag===3)return u;i=i.return}return[]}function Co(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function x_(i,s,o,u,d){for(var m=s._reactName,S=[];o!==null&&o!==u;){var x=o,V=x.alternate,Y=x.stateNode;if(x=x.tag,V!==null&&V===u)break;x!==5&&x!==26&&x!==27||Y===null||(V=Y,d?(Y=Xs(o,m),Y!=null&&S.unshift($l(o,Y,V))):d||(Y=Xs(o,m),Y!=null&&S.push($l(o,Y,V)))),o=o.return}S.length!==0&&i.push({event:s,listeners:S})}var lC=/\r\n?/g,uC=/\u0000|\uFFFD/g;function R_(i){return(typeof i=="string"?i:""+i).replace(lC,`
`).replace(uC,"")}function L_(i,s){return s=R_(s),R_(i)===s}function eh(){}function ht(i,s,o,u,d,m){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Kn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Kn(i,""+u);break;case"className":Ii(i,"class",u);break;case"tabIndex":Ii(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ii(i,o,u);break;case"style":ol(i,u,m);break;case"data":if(s!=="object"){Ii(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ga(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(s!=="input"&&ht(i,s,"name",d.name,d,null),ht(i,s,"formEncType",d.formEncType,d,null),ht(i,s,"formMethod",d.formMethod,d,null),ht(i,s,"formTarget",d.formTarget,d,null)):(ht(i,s,"encType",d.encType,d,null),ht(i,s,"method",d.method,d,null),ht(i,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ga(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=eh);break;case"onScroll":u!=null&&qe("scroll",i);break;case"onScrollEnd":u!=null&&qe("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Ga(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":qe("beforetoggle",i),qe("toggle",i),$r(i,"popover",u);break;case"xlinkActuate":tn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":tn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":tn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":tn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":tn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":tn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":tn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":tn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":tn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":$r(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=qd.get(o)||o,$r(i,o,u))}}function Ep(i,s,o,u,d,m){switch(o){case"style":ol(i,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Kn(i,u):(typeof u=="number"||typeof u=="bigint")&&Kn(i,""+u);break;case"onScroll":u!=null&&qe("scroll",i);break;case"onScrollEnd":u!=null&&qe("scrollend",i);break;case"onClick":u!=null&&(i.onclick=eh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ba.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),m=i[It]||null,m=m!=null?m[o]:null,typeof m=="function"&&i.removeEventListener(s,m,d),typeof u=="function")){typeof m!="function"&&m!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,d);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):$r(i,o,u)}}}function an(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",i),qe("load",i);var u=!1,d=!1,m;for(m in o)if(o.hasOwnProperty(m)){var S=o[m];if(S!=null)switch(m){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ht(i,s,m,S,o,null)}}d&&ht(i,s,"srcSet",o.srcSet,o,null),u&&ht(i,s,"src",o.src,o,null);return;case"input":qe("invalid",i);var x=m=S=d=null,V=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var re=o[u];if(re!=null)switch(u){case"name":d=re;break;case"type":S=re;break;case"checked":V=re;break;case"defaultChecked":Y=re;break;case"value":m=re;break;case"defaultValue":x=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:ht(i,s,u,re,o,null)}}Ys(i,m,x,V,Y,S,d,!1),Fa(i);return;case"select":qe("invalid",i),u=S=m=null;for(d in o)if(o.hasOwnProperty(d)&&(x=o[d],x!=null))switch(d){case"value":m=x;break;case"defaultValue":S=x;break;case"multiple":u=x;default:ht(i,s,d,x,o,null)}s=m,o=S,i.multiple=!!u,s!=null?cr(i,!!u,s,!1):o!=null&&cr(i,!!u,o,!0);return;case"textarea":qe("invalid",i),m=d=u=null;for(S in o)if(o.hasOwnProperty(S)&&(x=o[S],x!=null))switch(S){case"value":u=x;break;case"defaultValue":d=x;break;case"children":m=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:ht(i,s,S,x,o,null)}Ws(i,u,d,m),Fa(i);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ht(i,s,V,u,o,null)}return;case"dialog":qe("beforetoggle",i),qe("toggle",i),qe("cancel",i),qe("close",i);break;case"iframe":case"object":qe("load",i);break;case"video":case"audio":for(u=0;u<Gl.length;u++)qe(Gl[u],i);break;case"image":qe("error",i),qe("load",i);break;case"details":qe("toggle",i);break;case"embed":case"source":case"link":qe("error",i),qe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ht(i,s,Y,u,o,null)}return;default:if(ll(s)){for(re in o)o.hasOwnProperty(re)&&(u=o[re],u!==void 0&&Ep(i,s,re,u,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(u=o[x],u!=null&&ht(i,s,x,u,o,null))}function cC(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,S=null,x=null,V=null,Y=null,re=null;for(J in o){var oe=o[J];if(o.hasOwnProperty(J)&&oe!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":V=oe;default:u.hasOwnProperty(J)||ht(i,s,J,null,u,oe)}}for(var X in u){var J=u[X];if(oe=o[X],u.hasOwnProperty(X)&&(J!=null||oe!=null))switch(X){case"type":m=J;break;case"name":d=J;break;case"checked":Y=J;break;case"defaultChecked":re=J;break;case"value":S=J;break;case"defaultValue":x=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:J!==oe&&ht(i,s,X,J,u,oe)}}In(i,S,x,V,Y,re,m,d);return;case"select":J=S=x=X=null;for(m in o)if(V=o[m],o.hasOwnProperty(m)&&V!=null)switch(m){case"value":break;case"multiple":J=V;default:u.hasOwnProperty(m)||ht(i,s,m,null,u,V)}for(d in u)if(m=u[d],V=o[d],u.hasOwnProperty(d)&&(m!=null||V!=null))switch(d){case"value":X=m;break;case"defaultValue":x=m;break;case"multiple":S=m;default:m!==V&&ht(i,s,d,m,u,V)}s=x,o=S,u=J,X!=null?cr(i,!!o,X,!1):!!u!=!!o&&(s!=null?cr(i,!!o,s,!0):cr(i,!!o,o?[]:"",!1));return;case"textarea":J=X=null;for(x in o)if(d=o[x],o.hasOwnProperty(x)&&d!=null&&!u.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:ht(i,s,x,null,u,d)}for(S in u)if(d=u[S],m=o[S],u.hasOwnProperty(S)&&(d!=null||m!=null))switch(S){case"value":X=d;break;case"defaultValue":J=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==m&&ht(i,s,S,d,u,m)}ut(i,X,J);return;case"option":for(var Oe in o)if(X=o[Oe],o.hasOwnProperty(Oe)&&X!=null&&!u.hasOwnProperty(Oe))switch(Oe){case"selected":i.selected=!1;break;default:ht(i,s,Oe,null,u,X)}for(V in u)if(X=u[V],J=o[V],u.hasOwnProperty(V)&&X!==J&&(X!=null||J!=null))switch(V){case"selected":i.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:ht(i,s,V,X,u,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in o)X=o[xe],o.hasOwnProperty(xe)&&X!=null&&!u.hasOwnProperty(xe)&&ht(i,s,xe,null,u,X);for(Y in u)if(X=u[Y],J=o[Y],u.hasOwnProperty(Y)&&X!==J&&(X!=null||J!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:ht(i,s,Y,X,u,J)}return;default:if(ll(s)){for(var dt in o)X=o[dt],o.hasOwnProperty(dt)&&X!==void 0&&!u.hasOwnProperty(dt)&&Ep(i,s,dt,void 0,u,X);for(re in u)X=u[re],J=o[re],!u.hasOwnProperty(re)||X===J||X===void 0&&J===void 0||Ep(i,s,re,X,u,J);return}}for(var G in o)X=o[G],o.hasOwnProperty(G)&&X!=null&&!u.hasOwnProperty(G)&&ht(i,s,G,null,u,X);for(oe in u)X=u[oe],J=o[oe],!u.hasOwnProperty(oe)||X===J||X==null&&J==null||ht(i,s,oe,X,u,J)}var bp=null,wp=null;function th(i){return i.nodeType===9?i:i.ownerDocument}function I_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O_(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Tp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Sp=null;function hC(){var i=window.event;return i&&i.type==="popstate"?i===Sp?!1:(Sp=i,!0):(Sp=null,!1)}var M_=typeof setTimeout=="function"?setTimeout:void 0,dC=typeof clearTimeout=="function"?clearTimeout:void 0,D_=typeof Promise=="function"?Promise:void 0,fC=typeof queueMicrotask=="function"?queueMicrotask:typeof D_<"u"?function(i){return D_.resolve(null).then(i).catch(pC)}:M_;function pC(i){setTimeout(function(){throw i})}function cs(i){return i==="head"}function N_(i,s){var o=s,u=0,d=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(0<u&&8>u){o=u;var S=i.ownerDocument;if(o&1&&Kl(S.documentElement),o&2&&Kl(S.body),o&4)for(o=S.head,Kl(o),S=o.firstChild;S;){var x=S.nextSibling,V=S.nodeName;S[Gs]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&S.rel.toLowerCase()==="stylesheet"||o.removeChild(S),S=x}}if(d===0){i.removeChild(m),tu(s);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:u=o.charCodeAt(0)-48;else u=0;o=m}while(o);tu(s)}function Cp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Cp(o),Gr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function mC(i,s,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Gs])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=mi(i.nextSibling),i===null)break}return null}function gC(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=mi(i.nextSibling),i===null))return null;return i}function Ap(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function vC(i,s){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function mi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var xp=null;function P_(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function k_(i,s,o){switch(s=th(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Kl(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Gr(i)}var ii=new Map,j_=new Set;function nh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Lr=ue.d;ue.d={f:yC,r:_C,D:EC,C:bC,L:wC,m:TC,X:CC,S:SC,M:AC};function yC(){var i=Lr.f(),s=Kc();return i||s}function _C(i){var s=Ri(i);s!==null&&s.tag===5&&s.type==="form"?iy(s):Lr.r(i)}var Ao=typeof document>"u"?null:document;function V_(i,s,o){var u=Ao;if(u&&typeof s=="string"&&s){var d=Ot(s);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),j_.has(d)||(j_.add(d),i={rel:i,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),an(s,"link",i),At(s),u.head.appendChild(s)))}}function EC(i){Lr.D(i),V_("dns-prefetch",i,null)}function bC(i,s){Lr.C(i,s),V_("preconnect",i,s)}function wC(i,s,o){Lr.L(i,s,o);var u=Ao;if(u&&i&&s){var d='link[rel="preload"][as="'+Ot(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Ot(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Ot(o.imageSizes)+'"]')):d+='[href="'+Ot(i)+'"]';var m=d;switch(s){case"style":m=xo(i);break;case"script":m=Ro(i)}ii.has(m)||(i=_({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),ii.set(m,i),u.querySelector(d)!==null||s==="style"&&u.querySelector(Ql(m))||s==="script"&&u.querySelector(Yl(m))||(s=u.createElement("link"),an(s,"link",i),At(s),u.head.appendChild(s)))}}function TC(i,s){Lr.m(i,s);var o=Ao;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Ot(u)+'"][href="'+Ot(i)+'"]',m=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Ro(i)}if(!ii.has(m)&&(i=_({rel:"modulepreload",href:i},s),ii.set(m,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Yl(m)))return}u=o.createElement("link"),an(u,"link",i),At(u),o.head.appendChild(u)}}}function SC(i,s,o){Lr.S(i,s,o);var u=Ao;if(u&&i){var d=_n(u).hoistableStyles,m=xo(i);s=s||"default";var S=d.get(m);if(!S){var x={loading:0,preload:null};if(S=u.querySelector(Ql(m)))x.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":s},o),(o=ii.get(m))&&Rp(i,o);var V=S=u.createElement("link");At(V),an(V,"link",i),V._p=new Promise(function(Y,re){V.onload=Y,V.onerror=re}),V.addEventListener("load",function(){x.loading|=1}),V.addEventListener("error",function(){x.loading|=2}),x.loading|=4,ih(S,s,u)}S={type:"stylesheet",instance:S,count:1,state:x},d.set(m,S)}}}function CC(i,s){Lr.X(i,s);var o=Ao;if(o&&i){var u=_n(o).hoistableScripts,d=Ro(i),m=u.get(d);m||(m=o.querySelector(Yl(d)),m||(i=_({src:i,async:!0},s),(s=ii.get(d))&&Lp(i,s),m=o.createElement("script"),At(m),an(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(d,m))}}function AC(i,s){Lr.M(i,s);var o=Ao;if(o&&i){var u=_n(o).hoistableScripts,d=Ro(i),m=u.get(d);m||(m=o.querySelector(Yl(d)),m||(i=_({src:i,async:!0,type:"module"},s),(s=ii.get(d))&&Lp(i,s),m=o.createElement("script"),At(m),an(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(d,m))}}function U_(i,s,o,u){var d=(d=me.current)?nh(d):null;if(!d)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=xo(o.href),o=_n(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=xo(o.href);var m=_n(d).hoistableStyles,S=m.get(i);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,S),(m=d.querySelector(Ql(i)))&&!m._p&&(S.instance=m,S.state.loading=5),ii.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ii.set(i,o),m||xC(d,i,o,S.state))),s&&u===null)throw Error(r(528,""));return S}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ro(o),o=_n(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function xo(i){return'href="'+Ot(i)+'"'}function Ql(i){return'link[rel="stylesheet"]['+i+"]"}function B_(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function xC(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),an(s,"link",o),At(s),i.head.appendChild(s))}function Ro(i){return'[src="'+Ot(i)+'"]'}function Yl(i){return"script[async]"+i}function z_(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+Ot(o.href)+'"]');if(u)return s.instance=u,At(u),u;var d=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),At(u),an(u,"style",d),ih(u,o.precedence,i),s.instance=u;case"stylesheet":d=xo(o.href);var m=i.querySelector(Ql(d));if(m)return s.state.loading|=4,s.instance=m,At(m),m;u=B_(o),(d=ii.get(d))&&Rp(u,d),m=(i.ownerDocument||i).createElement("link"),At(m);var S=m;return S._p=new Promise(function(x,V){S.onload=x,S.onerror=V}),an(m,"link",u),s.state.loading|=4,ih(m,o.precedence,i),s.instance=m;case"script":return m=Ro(o.src),(d=i.querySelector(Yl(m)))?(s.instance=d,At(d),d):(u=o,(d=ii.get(m))&&(u=_({},o),Lp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),At(d),an(d,"link",u),i.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,ih(u,o.precedence,i));return s.instance}function ih(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,m=d,S=0;S<u.length;S++){var x=u[S];if(x.dataset.precedence===s)m=x;else if(m!==d)break}m?m.parentNode.insertBefore(i,m.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function Rp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Lp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var rh=null;function q_(i,s,o){if(rh===null){var u=new Map,d=rh=new Map;d.set(o,u)}else d=rh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var m=o[d];if(!(m[Gs]||m[Ee]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var S=m.getAttribute(s)||"";S=i+S;var x=u.get(S);x?x.push(m):u.set(S,[m])}}return u}function H_(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function RC(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function F_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Wl=null;function LC(){}function IC(i,s,o){if(Wl===null)throw Error(r(475));var u=Wl;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=xo(o.href),m=i.querySelector(Ql(d));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=sh.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=m,At(m);return}m=i.ownerDocument||i,o=B_(o),(d=ii.get(d))&&Rp(o,d),m=m.createElement("link"),At(m);var S=m;S._p=new Promise(function(x,V){S.onload=x,S.onerror=V}),an(m,"link",o),s.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=sh.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function OC(){if(Wl===null)throw Error(r(475));var i=Wl;return i.stylesheets&&i.count===0&&Ip(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&Ip(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function sh(){if(this.count--,this.count===0){if(this.stylesheets)Ip(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ah=null;function Ip(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ah=new Map,s.forEach(MC,i),ah=null,sh.call(i))}function MC(i,s){if(!(s.state.loading&4)){var o=ah.get(i);if(o)var u=o.get(null);else{o=new Map,ah.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var S=d[m];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),u=S)}u&&o.set(null,u)}d=s.instance,S=d.getAttribute("data-precedence"),m=o.get(S)||u,m===u&&o.set(null,d),o.set(S,d),this.count++,u=sh.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),m?m.parentNode.insertBefore(d,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),s.state.loading|=4}}var Zl={$$typeof:K,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function DC(i,s,o,u,d,m,S,x){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fn(0),this.hiddenUpdates=Fn(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function G_(i,s,o,u,d,m,S,x,V,Y,re,oe){return i=new DC(i,s,o,S,x,V,Y,oe),s=1,m===!0&&(s|=24),m=Mn(3,null,null,s),i.current=m,m.stateNode=i,s=hf(),s.refCount++,i.pooledCache=s,s.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:s},mf(m),i}function $_(i){return i?(i=ro,i):ro}function K_(i,s,o,u,d,m){d=$_(d),u.context===null?u.context=d:u.pendingContext=d,u=Zr(s),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=Xr(i,u,s),o!==null&&(jn(o,i,s),xl(o,i,s))}function Q_(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Op(i,s){Q_(i,s),(i=i.alternate)&&Q_(i,s)}function Y_(i){if(i.tag===13){var s=io(i,67108864);s!==null&&jn(s,i,67108864),Op(i,67108864)}}var oh=!0;function NC(i,s,o,u){var d=Z.T;Z.T=null;var m=ue.p;try{ue.p=2,Mp(i,s,o,u)}finally{ue.p=m,Z.T=d}}function PC(i,s,o,u){var d=Z.T;Z.T=null;var m=ue.p;try{ue.p=8,Mp(i,s,o,u)}finally{ue.p=m,Z.T=d}}function Mp(i,s,o,u){if(oh){var d=Dp(u);if(d===null)_p(i,s,u,lh,o),Z_(i,u);else if(jC(d,i,s,o,u))u.stopPropagation();else if(Z_(i,u),s&4&&-1<kC.indexOf(i)){for(;d!==null;){var m=Ri(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var S=dn(m.pendingLanes);if(S!==0){var x=m;for(x.pendingLanes|=2,x.entangledLanes|=2;S;){var V=1<<31-Ct(S);x.entanglements[1]|=V,S&=~V}qi(m),(ot&6)===0&&(Gc=en()+500,Fl(0))}}break;case 13:x=io(m,2),x!==null&&jn(x,m,2),Kc(),Op(m,2)}if(m=Dp(u),m===null&&_p(i,s,u,lh,o),m===d)break;d=m}d!==null&&u.stopPropagation()}else _p(i,s,u,null,o)}}function Dp(i){return i=Qn(i),Np(i)}var lh=null;function Np(i){if(lh=null,i=or(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return lh=i,null}function W_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ja()){case wi:return 2;case sr:return 8;case zn:case Va:return 32;case oi:return 268435456;default:return 32}default:return 32}}var Pp=!1,hs=null,ds=null,fs=null,Xl=new Map,Jl=new Map,ps=[],kC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z_(i,s){switch(i){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":Xl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(s.pointerId)}}function eu(i,s,o,u,d,m){return i===null||i.nativeEvent!==m?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[d]},s!==null&&(s=Ri(s),s!==null&&Y_(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),i)}function jC(i,s,o,u,d){switch(s){case"focusin":return hs=eu(hs,i,s,o,u,d),!0;case"dragenter":return ds=eu(ds,i,s,o,u,d),!0;case"mouseover":return fs=eu(fs,i,s,o,u,d),!0;case"pointerover":var m=d.pointerId;return Xl.set(m,eu(Xl.get(m)||null,i,s,o,u,d)),!0;case"gotpointercapture":return m=d.pointerId,Jl.set(m,eu(Jl.get(m)||null,i,s,o,u,d)),!0}return!1}function X_(i){var s=or(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,Ua(i.priority,function(){if(o.tag===13){var u=kn();u=li(u);var d=io(o,u);d!==null&&jn(d,o,u),Op(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function uh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Dp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);hr=u,o.target.dispatchEvent(u),hr=null}else return s=Ri(o),s!==null&&Y_(s),i.blockedOn=o,!1;s.shift()}return!0}function J_(i,s,o){uh(i)&&o.delete(s)}function VC(){Pp=!1,hs!==null&&uh(hs)&&(hs=null),ds!==null&&uh(ds)&&(ds=null),fs!==null&&uh(fs)&&(fs=null),Xl.forEach(J_),Jl.forEach(J_)}function ch(i,s){i.blockedOn===s&&(i.blockedOn=null,Pp||(Pp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,VC)))}var hh=null;function e0(i){hh!==i&&(hh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){hh===i&&(hh=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],d=i[s+2];if(typeof u!="function"){if(Np(u||o)===null)continue;break}var m=Ri(o);m!==null&&(i.splice(s,3),s-=3,Nf(m,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function tu(i){function s(V){return ch(V,i)}hs!==null&&ch(hs,i),ds!==null&&ch(ds,i),fs!==null&&ch(fs,i),Xl.forEach(s),Jl.forEach(s);for(var o=0;o<ps.length;o++){var u=ps[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ps.length&&(o=ps[0],o.blockedOn===null);)X_(o),o.blockedOn===null&&ps.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],m=o[u+1],S=d[It]||null;if(typeof m=="function")S||e0(o);else if(S){var x=null;if(m&&m.hasAttribute("formAction")){if(d=m,S=m[It]||null)x=S.formAction;else if(Np(d)!==null)continue}else x=S.action;typeof x=="function"?o[u+1]=x:(o.splice(u,3),u-=3),e0(o)}}}function kp(i){this._internalRoot=i}dh.prototype.render=kp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=kn();K_(o,u,i,s,null,null)},dh.prototype.unmount=kp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;K_(i.current,2,null,i,null,null),Kc(),s[$n]=null}};function dh(i){this._internalRoot=i}dh.prototype.unstable_scheduleHydration=function(i){if(i){var s=ci();i={blockedOn:null,target:i,priority:s};for(var o=0;o<ps.length&&s!==0&&s<ps[o].priority;o++);ps.splice(o,0,i),o===0&&X_(i)}};var t0=e.version;if(t0!=="19.1.0")throw Error(r(527,t0,"19.1.0"));ue.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var UC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{mt=fh.inject(UC),Qe=fh}catch{}}return iu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",d=vy,m=yy,S=_y,x=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(x=s.unstable_transitionCallbacks)),s=G_(i,1,!1,null,null,o,u,d,m,S,x,null),i[$n]=s.current,yp(i),new kp(s)},iu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,d="",m=vy,S=yy,x=_y,V=null,Y=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(V=o.unstable_transitionCallbacks),o.formState!==void 0&&(Y=o.formState)),s=G_(i,1,!0,s,o??null,u,d,m,S,x,V,Y),s.context=$_(null),o=s.current,u=kn(),u=li(u),d=Zr(u),d.callback=null,Xr(o,d,u),o=u,s.current.lanes=o,Gn(s,o),qi(s),i[$n]=s.current,yp(i),new dh(s)},iu.version="19.1.0",iu}var h0;function QC(){if(h0)return Up.exports;h0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Up.exports=KC(),Up.exports}var YC=QC(),ru={},d0;function WC(){if(d0)return ru;d0=1,Object.defineProperty(ru,"__esModule",{value:!0}),ru.parse=c,ru.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,R){const C=new l,k=b.length;if(k<2)return C;const I=(R==null?void 0:R.decode)||_;let U=0;do{const z=b.indexOf("=",U);if(z===-1)break;const K=b.indexOf(";",U),F=K===-1?k:K;if(z>F){U=b.lastIndexOf(";",z-1)+1;continue}const q=f(b,U,z),W=p(b,z,q),M=b.slice(q,W);if(C[M]===void 0){let O=f(b,z+1,F),A=p(b,F,O);const D=I(b.slice(O,A));C[M]=D}U=F+1}while(U<k);return C}function f(b,R,C){do{const k=b.charCodeAt(R);if(k!==32&&k!==9)return R}while(++R<C);return C}function p(b,R,C){for(;R>C;){const k=b.charCodeAt(--R);if(k!==32&&k!==9)return R+1}return C}function g(b,R,C){const k=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const I=k(R);if(!e.test(I))throw new TypeError(`argument val is invalid: ${R}`);let U=b+"="+I;if(!C)return U;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);U+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);U+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);U+="; Path="+C.path}if(C.expires){if(!T(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);U+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(U+="; HttpOnly"),C.secure&&(U+="; Secure"),C.partitioned&&(U+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return U}function _(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function T(b){return a.call(b)==="[object Date]"}return ru}WC();var f0="popstate";function ZC(n={}){function e(r,a){let{pathname:l,search:c,hash:f}=r.location;return cm("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:Tu(a)}return JC(e,t,null,n)}function _t(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function yi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XC(){return Math.random().toString(36).substring(2,10)}function p0(n,e){return{usr:n.state,key:n.key,idx:e}}function cm(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?$o(e):e,state:t,key:e&&e.key||r||XC()}}function Tu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function $o(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function JC(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,f="POP",p=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function T(){f="POP";let I=_(),U=I==null?null:I-g;g=I,p&&p({action:f,location:k.location,delta:U})}function b(I,U){f="PUSH";let z=cm(k.location,I,U);g=_()+1;let K=p0(z,g),F=k.createHref(z);try{c.pushState(K,"",F)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;a.location.assign(F)}l&&p&&p({action:f,location:k.location,delta:1})}function R(I,U){f="REPLACE";let z=cm(k.location,I,U);g=_();let K=p0(z,g),F=k.createHref(z);c.replaceState(K,"",F),l&&p&&p({action:f,location:k.location,delta:0})}function C(I){return eA(I)}let k={get action(){return f},get location(){return n(a,c)},listen(I){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(f0,T),p=I,()=>{a.removeEventListener(f0,T),p=null}},createHref(I){return e(a,I)},createURL:C,encodeLocation(I){let U=C(I);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:b,replace:R,go(I){return c.go(I)}};return k}function eA(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),_t(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Tu(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function mw(n,e,t="/"){return tA(n,e,t,!1)}function tA(n,e,t,r){let a=typeof e=="string"?$o(e):e,l=Nr(a.pathname||"/",t);if(l==null)return null;let c=gw(n);nA(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let g=fA(l);f=hA(c[p],g,r)}return f}function gw(n,e=[],t=[],r=""){let a=(l,c,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(_t(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length));let g=Mr([r,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(_t(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),gw(l.children,e,_,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:uA(g,l.index),routesMeta:_})};return n.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,c);else for(let p of vw(l.path))a(l,c,p)}),e}function vw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=vw(r.join("/")),f=[];return f.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&f.push(...c),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function nA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:cA(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var iA=/^:[\w-]+$/,rA=3,sA=2,aA=1,oA=10,lA=-2,m0=n=>n==="*";function uA(n,e){let t=n.split("/"),r=t.length;return t.some(m0)&&(r+=lA),e&&(r+=sA),t.filter(a=>!m0(a)).reduce((a,l)=>a+(iA.test(l)?rA:l===""?aA:oA),r)}function cA(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function hA(n,e,t=!1){let{routesMeta:r}=n,a={},l="/",c=[];for(let f=0;f<r.length;++f){let p=r[f],g=f===r.length-1,_=l==="/"?e:e.slice(l.length)||"/",T=kh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),b=p.route;if(!T&&g&&t&&!r[r.length-1].route.index&&(T=kh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:Mr([l,T.pathname]),pathnameBase:vA(Mr([l,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(l=Mr([l,T.pathnameBase]))}return c}function kh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=dA(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((g,{paramName:_,isOptional:T},b)=>{if(_==="*"){let C=f[b]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const R=f[b];return T&&!R?g[_]=void 0:g[_]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function dA(n,e=!1,t=!0){yi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(r.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function fA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Nr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function pA(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?$o(n):n;return{pathname:t?t.startsWith("/")?t:mA(t,e):e,search:yA(r),hash:_A(a)}}function mA(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Hp(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function qm(n){let e=gA(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Hm(n,e,t,r=!1){let a;typeof n=="string"?a=$o(n):(a={...n},_t(!a.pathname||!a.pathname.includes("?"),Hp("?","pathname","search",a)),_t(!a.pathname||!a.pathname.includes("#"),Hp("#","pathname","hash",a)),_t(!a.search||!a.search.includes("#"),Hp("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=t;else{let T=e.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),T-=1;a.pathname=b.join("/")}f=T>=0?e[T]:"/"}let p=pA(a,f),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Mr=n=>n.join("/").replace(/\/\/+/g,"/"),vA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),yA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,_A=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function EA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var yw=["POST","PUT","PATCH","DELETE"];new Set(yw);var bA=["GET",...yw];new Set(bA);var Ko=y.createContext(null);Ko.displayName="DataRouter";var md=y.createContext(null);md.displayName="DataRouterState";var _w=y.createContext({isTransitioning:!1});_w.displayName="ViewTransition";var wA=y.createContext(new Map);wA.displayName="Fetchers";var TA=y.createContext(null);TA.displayName="Await";var Ei=y.createContext(null);Ei.displayName="Navigation";var Pu=y.createContext(null);Pu.displayName="Location";var bi=y.createContext({outlet:null,matches:[],isDataRoute:!1});bi.displayName="Route";var Fm=y.createContext(null);Fm.displayName="RouteError";function SA(n,{relative:e}={}){_t(Qo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=y.useContext(Ei),{hash:a,pathname:l,search:c}=ku(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Mr([t,l])),r.createHref({pathname:f,search:c,hash:a})}function Qo(){return y.useContext(Pu)!=null}function cn(){return _t(Qo(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Pu).location}var Ew="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bw(n){y.useContext(Ei).static||y.useLayoutEffect(n)}function Ma(){let{isDataRoute:n}=y.useContext(bi);return n?UA():CA()}function CA(){_t(Qo(),"useNavigate() may be used only in the context of a <Router> component.");let n=y.useContext(Ko),{basename:e,navigator:t}=y.useContext(Ei),{matches:r}=y.useContext(bi),{pathname:a}=cn(),l=JSON.stringify(qm(r)),c=y.useRef(!1);return bw(()=>{c.current=!0}),y.useCallback((p,g={})=>{if(yi(c.current,Ew),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=Hm(p,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Mr([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,l,a,n])}var AA=y.createContext(null);function xA(n){let e=y.useContext(bi).outlet;return e&&y.createElement(AA.Provider,{value:n},e)}function ku(n,{relative:e}={}){let{matches:t}=y.useContext(bi),{pathname:r}=cn(),a=JSON.stringify(qm(t));return y.useMemo(()=>Hm(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function RA(n,e){return ww(n,e)}function ww(n,e,t,r){var U;_t(Qo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=y.useContext(Ei),{matches:l}=y.useContext(bi),c=l[l.length-1],f=c?c.params:{},p=c?c.pathname:"/",g=c?c.pathnameBase:"/",_=c&&c.route;{let z=_&&_.path||"";Tw(p,!_||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let T=cn(),b;if(e){let z=typeof e=="string"?$o(e):e;_t(g==="/"||((U=z.pathname)==null?void 0:U.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${z.pathname}" was given in the \`location\` prop.`),b=z}else b=T;let R=b.pathname||"/",C=R;if(g!=="/"){let z=g.replace(/^\//,"").split("/");C="/"+R.replace(/^\//,"").split("/").slice(z.length).join("/")}let k=mw(n,{pathname:C});yi(_||k!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),yi(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=DA(k&&k.map(z=>Object.assign({},z,{params:Object.assign({},f,z.params),pathname:Mr([g,a.encodeLocation?a.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?g:Mr([g,a.encodeLocation?a.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),l,t,r);return e&&I?y.createElement(Pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},I):I}function LA(){let n=VA(),e=EA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=y.createElement(y.Fragment,null,y.createElement("p",null,"💿 Hey developer 👋"),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:l},"ErrorBoundary")," or"," ",y.createElement("code",{style:l},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),t?y.createElement("pre",{style:a},t):null,c)}var IA=y.createElement(LA,null),OA=class extends y.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?y.createElement(bi.Provider,{value:this.props.routeContext},y.createElement(Fm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MA({routeContext:n,match:e,children:t}){let r=y.useContext(Ko);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(bi.Provider,{value:n},t)}function DA(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let p=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);_t(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,f=-1;if(t)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:_,errors:T}=t,b=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||b){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((p,g,_)=>{let T,b=!1,R=null,C=null;t&&(T=l&&g.route.id?l[g.route.id]:void 0,R=g.route.errorElement||IA,c&&(f<0&&_===0?(Tw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,C=null):f===_&&(b=!0,C=g.route.hydrateFallbackElement||null)));let k=e.concat(a.slice(0,_+1)),I=()=>{let U;return T?U=R:b?U=C:g.route.Component?U=y.createElement(g.route.Component,null):g.route.element?U=g.route.element:U=p,y.createElement(MA,{match:g,routeContext:{outlet:p,matches:k,isDataRoute:t!=null},children:U})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?y.createElement(OA,{location:t.location,revalidation:t.revalidation,component:R,error:T,children:I(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):I()},null)}function Gm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NA(n){let e=y.useContext(Ko);return _t(e,Gm(n)),e}function PA(n){let e=y.useContext(md);return _t(e,Gm(n)),e}function kA(n){let e=y.useContext(bi);return _t(e,Gm(n)),e}function $m(n){let e=kA(n),t=e.matches[e.matches.length-1];return _t(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function jA(){return $m("useRouteId")}function VA(){var r;let n=y.useContext(Fm),e=PA("useRouteError"),t=$m("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function UA(){let{router:n}=NA("useNavigate"),e=$m("useNavigate"),t=y.useRef(!1);return bw(()=>{t.current=!0}),y.useCallback(async(a,l={})=>{yi(t.current,Ew),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var g0={};function Tw(n,e,t){!e&&!g0[n]&&(g0[n]=!0,yi(!1,t))}y.memo(BA);function BA({routes:n,future:e,state:t}){return ww(n,void 0,t,e)}function zA({to:n,replace:e,state:t,relative:r}){_t(Qo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=y.useContext(Ei);yi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=y.useContext(bi),{pathname:c}=cn(),f=Ma(),p=Hm(n,qm(l),c,r==="path"),g=JSON.stringify(p);return y.useEffect(()=>{f(JSON.parse(g),{replace:e,state:t,relative:r})},[f,g,r,e,t]),null}function qA(n){return xA(n.context)}function Nt(n){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function HA({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1}){_t(!Qo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=y.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=$o(t));let{pathname:p="/",search:g="",hash:_="",state:T=null,key:b="default"}=t,R=y.useMemo(()=>{let C=Nr(p,c);return C==null?null:{location:{pathname:C,search:g,hash:_,state:T,key:b},navigationType:r}},[c,p,g,_,T,b,r]);return yi(R!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:y.createElement(Ei.Provider,{value:f},y.createElement(Pu.Provider,{children:e,value:R}))}function FA({children:n,location:e}){return RA(hm(n),e)}function hm(n,e=[]){let t=[];return y.Children.forEach(n,(r,a)=>{if(!y.isValidElement(r))return;let l=[...e,a];if(r.type===y.Fragment){t.push.apply(t,hm(r.props.children,l));return}_t(r.type===Nt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=hm(r.props.children,l)),t.push(c)}),t}var Sh="get",Ch="application/x-www-form-urlencoded";function gd(n){return n!=null&&typeof n.tagName=="string"}function GA(n){return gd(n)&&n.tagName.toLowerCase()==="button"}function $A(n){return gd(n)&&n.tagName.toLowerCase()==="form"}function KA(n){return gd(n)&&n.tagName.toLowerCase()==="input"}function QA(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function YA(n,e){return n.button===0&&(!e||e==="_self")&&!QA(n)}var ph=null;function WA(){if(ph===null)try{new FormData(document.createElement("form"),0),ph=!1}catch{ph=!0}return ph}var ZA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fp(n){return n!=null&&!ZA.has(n)?(yi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ch}"`),null):n}function XA(n,e){let t,r,a,l,c;if($A(n)){let f=n.getAttribute("action");r=f?Nr(f,e):null,t=n.getAttribute("method")||Sh,a=Fp(n.getAttribute("enctype"))||Ch,l=new FormData(n)}else if(GA(n)||KA(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(r=p?Nr(p,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Sh,a=Fp(n.getAttribute("formenctype"))||Fp(f.getAttribute("enctype"))||Ch,l=new FormData(f,n),!WA()){let{name:g,type:_,value:T}=n;if(_==="image"){let b=g?`${g}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else g&&l.append(g,T)}}else{if(gd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Sh,r=null,a=Ch,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:c}}function Km(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function JA(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ex(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function tx(n,e,t){let r=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await JA(l,t);return c.links?c.links():[]}return[]}));return sx(r.flat(1).filter(ex).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function v0(n,e,t,r,a,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,f=(p,g)=>{var _;return t[g].pathname!==p.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>c(p,g)||f(p,g)):l==="data"?e.filter((p,g)=>{var T;let _=r.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,g)||f(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function nx(n,e,{includeHydrateFallback:t}={}){return ix(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function ix(n){return[...new Set(n)]}function rx(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function sx(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let l=JSON.stringify(rx(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ax=new Set([100,101,204,205]);function ox(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Nr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Sw(){let n=y.useContext(Ko);return Km(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function lx(){let n=y.useContext(md);return Km(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Qm=y.createContext(void 0);Qm.displayName="FrameworkContext";function Cw(){let n=y.useContext(Qm);return Km(n,"You must render this element inside a <HydratedRouter> element"),n}function ux(n,e){let t=y.useContext(Qm),[r,a]=y.useState(!1),[l,c]=y.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,b=y.useRef(null);y.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let k=U=>{U.forEach(z=>{c(z.isIntersecting)})},I=new IntersectionObserver(k,{threshold:.5});return b.current&&I.observe(b.current),()=>{I.disconnect()}}},[n]),y.useEffect(()=>{if(r){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[r]);let R=()=>{a(!0)},C=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,b,{}]:[l,b,{onFocus:su(f,R),onBlur:su(p,C),onMouseEnter:su(g,R),onMouseLeave:su(_,C),onTouchStart:su(T,R)}]:[!1,b,{}]}function su(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function cx({page:n,...e}){let{router:t}=Sw(),r=y.useMemo(()=>mw(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?y.createElement(dx,{page:n,matches:r,...e}):null}function hx(n){let{manifest:e,routeModules:t}=Cw(),[r,a]=y.useState([]);return y.useEffect(()=>{let l=!1;return tx(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),r}function dx({page:n,matches:e,...t}){let r=cn(),{manifest:a,routeModules:l}=Cw(),{basename:c}=Sw(),{loaderData:f,matches:p}=lx(),g=y.useMemo(()=>v0(n,e,p,a,r,"data"),[n,e,p,a,r]),_=y.useMemo(()=>v0(n,e,p,a,r,"assets"),[n,e,p,a,r]),T=y.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let C=new Set,k=!1;if(e.forEach(U=>{var K;let z=a.routes[U.route.id];!z||!z.hasLoader||(!g.some(F=>F.route.id===U.route.id)&&U.route.id in f&&((K=l[U.route.id])!=null&&K.shouldRevalidate)||z.hasClientLoader?k=!0:C.add(U.route.id))}),C.size===0)return[];let I=ox(n,c);return k&&C.size>0&&I.searchParams.set("_routes",e.filter(U=>C.has(U.route.id)).map(U=>U.route.id).join(",")),[I.pathname+I.search]},[c,f,r,a,g,e,n,l]),b=y.useMemo(()=>nx(_,a),[_,a]),R=hx(_);return y.createElement(y.Fragment,null,T.map(C=>y.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),b.map(C=>y.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),R.map(({key:C,link:k})=>y.createElement("link",{key:C,...k})))}function fx(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Aw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Aw&&(window.__reactRouterVersion="7.6.3")}catch{}function px({basename:n,children:e,window:t}){let r=y.useRef();r.current==null&&(r.current=ZC({window:t,v5Compat:!0}));let a=r.current,[l,c]=y.useState({action:a.action,location:a.location}),f=y.useCallback(p=>{y.startTransition(()=>c(p))},[c]);return y.useLayoutEffect(()=>a.listen(f),[a,f]),y.createElement(HA,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var xw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Je=y.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:f,target:p,to:g,preventScrollReset:_,viewTransition:T,...b},R){let{basename:C}=y.useContext(Ei),k=typeof g=="string"&&xw.test(g),I,U=!1;if(typeof g=="string"&&k&&(I=g,Aw))try{let A=new URL(window.location.href),D=g.startsWith("//")?new URL(A.protocol+g):new URL(g),P=Nr(D.pathname,C);D.origin===A.origin&&P!=null?g=P+D.search+D.hash:U=!0}catch{yi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=SA(g,{relative:a}),[K,F,q]=ux(r,b),W=yx(g,{replace:c,state:f,target:p,preventScrollReset:_,relative:a,viewTransition:T});function M(A){e&&e(A),A.defaultPrevented||W(A)}let O=y.createElement("a",{...b,...q,href:I||z,onClick:U||l?e:M,ref:fx(R,F),target:p,"data-discover":!k&&t==="render"?"true":void 0});return K&&!k?y.createElement(y.Fragment,null,O,y.createElement(cx,{page:z})):O});Je.displayName="Link";var mx=y.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:f,children:p,...g},_){let T=ku(c,{relative:g.relative}),b=cn(),R=y.useContext(md),{navigator:C,basename:k}=y.useContext(Ei),I=R!=null&&Tx(T)&&f===!0,U=C.encodeLocation?C.encodeLocation(T).pathname:T.pathname,z=b.pathname,K=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(z=z.toLowerCase(),K=K?K.toLowerCase():null,U=U.toLowerCase()),K&&k&&(K=Nr(K,k)||K);const F=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let q=z===U||!a&&z.startsWith(U)&&z.charAt(F)==="/",W=K!=null&&(K===U||!a&&K.startsWith(U)&&K.charAt(U.length)==="/"),M={isActive:q,isPending:W,isTransitioning:I},O=q?e:void 0,A;typeof r=="function"?A=r(M):A=[r,q?"active":null,W?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(M):l;return y.createElement(Je,{...g,"aria-current":O,className:A,ref:_,style:D,to:c,viewTransition:f},typeof p=="function"?p(M):p)});mx.displayName="NavLink";var gx=y.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:c=Sh,action:f,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:T,...b},R)=>{let C=bx(),k=wx(f,{relative:g}),I=c.toLowerCase()==="get"?"get":"post",U=typeof f=="string"&&xw.test(f),z=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let F=K.nativeEvent.submitter,q=(F==null?void 0:F.getAttribute("formmethod"))||c;C(F||K.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:a,state:l,relative:g,preventScrollReset:_,viewTransition:T})};return y.createElement("form",{ref:R,method:I,action:k,onSubmit:r?p:z,...b,"data-discover":!U&&n==="render"?"true":void 0})});gx.displayName="Form";function vx(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rw(n){let e=y.useContext(Ko);return _t(e,vx(n)),e}function yx(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=Ma(),p=cn(),g=ku(n,{relative:l});return y.useCallback(_=>{if(YA(_,e)){_.preventDefault();let T=t!==void 0?t:Tu(p)===Tu(g);f(n,{replace:T,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[p,f,g,t,r,e,n,a,l,c])}var _x=0,Ex=()=>`__${String(++_x)}__`;function bx(){let{router:n}=Rw("useSubmit"),{basename:e}=y.useContext(Ei),t=jA();return y.useCallback(async(r,a={})=>{let{action:l,method:c,encType:f,formData:p,body:g}=XA(r,e);if(a.navigate===!1){let _=a.fetcherKey||Ex();await n.fetch(_,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function wx(n,{relative:e}={}){let{basename:t}=y.useContext(Ei),r=y.useContext(bi);_t(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...ku(n||".",{relative:e})},c=cn();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(_=>_==="")){f.delete("index"),p.filter(T=>T).forEach(T=>f.append("index",T));let _=f.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Mr([t,l.pathname])),Tu(l)}function Tx(n,e={}){let t=y.useContext(_w);_t(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Rw("useViewTransitionState"),a=ku(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Nr(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=Nr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return kh(a.pathname,c)!=null||kh(a.pathname,l)!=null}[...ax];var Yo=pw();const Sx=()=>{};var y0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},Cx=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],f=n[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Iw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,f=c?n[a+1]:0,p=a+2<n.length,g=p?n[a+2]:0,_=l>>2,T=(l&3)<<4|f>>4;let b=(f&15)<<2|g>>6,R=g&63;p||(R=64,c||(b=64)),r.push(t[_],t[T],t[b],t[R])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Lw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Cx(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const T=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||f==null||g==null||T==null)throw new Ax;const b=l<<2|f>>4;if(r.push(b),g!==64){const R=f<<4&240|g>>2;if(r.push(R),T!==64){const C=g<<6&192|T;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Ax extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xx=function(n){const e=Lw(n);return Iw.encodeByteArray(e,!0)},jh=function(n){return xx(n).replace(/\./g,"")},Ow=function(n){try{return Iw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=()=>Rx().__FIREBASE_DEFAULTS__,Ix=()=>{if(typeof process>"u"||typeof y0>"u")return;const n=y0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Ox=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Ow(n[1]);return e&&JSON.parse(e)},vd=()=>{try{return Sx()||Lx()||Ix()||Ox()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Mw=n=>{var e,t;return(t=(e=vd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Dw=n=>{const e=Mw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Nw=()=>{var n;return(n=vd())===null||n===void 0?void 0:n.config},Pw=n=>{var e;return(e=vd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ym(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[jh(JSON.stringify(t)),jh(JSON.stringify(c)),""].join(".")}const mu={};function Dx(){const n={prod:[],emulator:[]};for(const e of Object.keys(mu))mu[e]?n.emulator.push(e):n.prod.push(e);return n}function Nx(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let _0=!1;function Wm(n,e){if(typeof window>"u"||typeof document>"u"||!Da(window.location.host)||mu[n]===e||mu[n]||_0)return;mu[n]=e;function t(b){return`__firebase__banner__${b}`}const r="__firebase__banner",l=Dx().prod.length>0;function c(){const b=document.getElementById(r);b&&b.remove()}function f(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,R){b.setAttribute("width","24"),b.setAttribute("id",R),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{_0=!0,c()},b}function _(b,R){b.setAttribute("id",R),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=Nx(r),R=t("text"),C=document.getElementById(R)||document.createElement("span"),k=t("learnmore"),I=document.getElementById(k)||document.createElement("a"),U=t("preprendIcon"),z=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const K=b.element;f(K),_(I,k);const F=g();p(z,U),K.append(z,C,I,F),document.body.appendChild(K)}l?(C.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Px(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function kx(){var n;const e=(n=vd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Vx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Ux(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bx(){const n=yn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function zx(){return!kx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qx(){try{return typeof indexedDB=="object"}catch{return!1}}function Hx(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="FirebaseError";class nr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Fx,Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ju.prototype.create)}}class ju{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?Gx(l,r):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new nr(a,f,r)}}function Gx(n,e){return n.replace($x,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const $x=/\{\$([^}]+)}/g;function Kx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ca(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=n[a],c=e[a];if(E0(l)&&E0(c)){if(!Ca(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function E0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function uu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function cu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Qx(n,e){const t=new Yx(n,e);return t.subscribe.bind(t)}class Yx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Wx(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Gp),a.error===void 0&&(a.error=Gp),a.complete===void 0&&(a.complete=Gp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wx(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Gp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(n){return n&&n._delegate?n._delegate:n}class Os{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Mx;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Jx(e))try{this.getOrInitializeService({instanceIdentifier:ba})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ba){return this.instances.has(e)}getOptions(e=ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Xx(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ba){return this.component?this.component.multipleInstances?e:ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Xx(n){return n===ba?void 0:n}function Jx(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Zx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(He||(He={}));const tR={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},nR=He.INFO,iR={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},rR=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=iR[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zm{constructor(e){this.name=e,this._logLevel=nR,this._logHandler=rR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const sR=(n,e)=>e.some(t=>n instanceof t);let b0,w0;function aR(){return b0||(b0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oR(){return w0||(w0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jw=new WeakMap,dm=new WeakMap,Vw=new WeakMap,$p=new WeakMap,Xm=new WeakMap;function lR(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(As(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&jw.set(t,n)}).catch(()=>{}),Xm.set(e,n),e}function uR(n){if(dm.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});dm.set(n,e)}let fm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return dm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Vw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return As(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function cR(n){fm=n(fm)}function hR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Kp(this),e,...t);return Vw.set(r,e.sort?e.sort():[e]),As(r)}:oR().includes(n)?function(...e){return n.apply(Kp(this),e),As(jw.get(this))}:function(...e){return As(n.apply(Kp(this),e))}}function dR(n){return typeof n=="function"?hR(n):(n instanceof IDBTransaction&&uR(n),sR(n,aR())?new Proxy(n,fm):n)}function As(n){if(n instanceof IDBRequest)return lR(n);if($p.has(n))return $p.get(n);const e=dR(n);return e!==n&&($p.set(n,e),Xm.set(e,n)),e}const Kp=n=>Xm.get(n);function fR(n,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),f=As(c);return r&&c.addEventListener("upgradeneeded",p=>{r(As(c.result),p.oldVersion,p.newVersion,As(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const pR=["get","getKey","getAll","getAllKeys","count"],mR=["put","add","delete","clear"],Qp=new Map;function T0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Qp.get(e))return Qp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=mR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||pR.includes(t)))return;const l=async function(c,...f){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),a&&p.done]))[0]};return Qp.set(e,l),l}cR(n=>({...n,get:(e,t,r)=>T0(e,t)||n.get(e,t,r),has:(e,t)=>!!T0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function vR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pm="@firebase/app",S0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new Zm("@firebase/app"),yR="@firebase/app-compat",_R="@firebase/analytics-compat",ER="@firebase/analytics",bR="@firebase/app-check-compat",wR="@firebase/app-check",TR="@firebase/auth",SR="@firebase/auth-compat",CR="@firebase/database",AR="@firebase/data-connect",xR="@firebase/database-compat",RR="@firebase/functions",LR="@firebase/functions-compat",IR="@firebase/installations",OR="@firebase/installations-compat",MR="@firebase/messaging",DR="@firebase/messaging-compat",NR="@firebase/performance",PR="@firebase/performance-compat",kR="@firebase/remote-config",jR="@firebase/remote-config-compat",VR="@firebase/storage",UR="@firebase/storage-compat",BR="@firebase/firestore",zR="@firebase/ai",qR="@firebase/firestore-compat",HR="firebase",FR="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="[DEFAULT]",GR={[pm]:"fire-core",[yR]:"fire-core-compat",[ER]:"fire-analytics",[_R]:"fire-analytics-compat",[wR]:"fire-app-check",[bR]:"fire-app-check-compat",[TR]:"fire-auth",[SR]:"fire-auth-compat",[CR]:"fire-rtdb",[AR]:"fire-data-connect",[xR]:"fire-rtdb-compat",[RR]:"fire-fn",[LR]:"fire-fn-compat",[IR]:"fire-iid",[OR]:"fire-iid-compat",[MR]:"fire-fcm",[DR]:"fire-fcm-compat",[NR]:"fire-perf",[PR]:"fire-perf-compat",[kR]:"fire-rc",[jR]:"fire-rc-compat",[VR]:"fire-gcs",[UR]:"fire-gcs-compat",[BR]:"fire-fst",[qR]:"fire-fst-compat",[zR]:"fire-vertex","fire-js":"fire-js",[HR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new Map,$R=new Map,gm=new Map;function C0(n,e){try{n.container.addComponent(e)}catch(t){Pr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Aa(n){const e=n.name;if(gm.has(e))return Pr.debug(`There were multiple attempts to register component ${e}.`),!1;gm.set(e,n);for(const t of Vh.values())C0(t,n);for(const t of $R.values())C0(t,n);return!0}function yd(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Un(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xs=new ju("app","Firebase",KR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=FR;function Uw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:mm,automaticDataCollectionEnabled:!0},e),a=r.name;if(typeof a!="string"||!a)throw xs.create("bad-app-name",{appName:String(a)});if(t||(t=Nw()),!t)throw xs.create("no-options");const l=Vh.get(a);if(l){if(Ca(t,l.options)&&Ca(r,l.config))return l;throw xs.create("duplicate-app",{appName:a})}const c=new eR(a);for(const p of gm.values())c.addComponent(p);const f=new QR(t,r,c);return Vh.set(a,f),f}function Jm(n=mm){const e=Vh.get(n);if(!e&&n===mm&&Nw())return Uw();if(!e)throw xs.create("no-app",{appName:n});return e}function Gi(n,e,t){var r;let a=(r=GR[n])!==null&&r!==void 0?r:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pr.warn(f.join(" "));return}Aa(new Os(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="firebase-heartbeat-database",WR=1,Su="firebase-heartbeat-store";let Yp=null;function Bw(){return Yp||(Yp=fR(YR,WR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Su)}catch(t){console.warn(t)}}}}).catch(n=>{throw xs.create("idb-open",{originalErrorMessage:n.message})})),Yp}async function ZR(n){try{const t=(await Bw()).transaction(Su),r=await t.objectStore(Su).get(zw(n));return await t.done,r}catch(e){if(e instanceof nr)Pr.warn(e.message);else{const t=xs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pr.warn(t.message)}}}async function A0(n,e){try{const r=(await Bw()).transaction(Su,"readwrite");await r.objectStore(Su).put(e,zw(n)),await r.done}catch(t){if(t instanceof nr)Pr.warn(t.message);else{const r=xs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Pr.warn(r.message)}}}function zw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=1024,JR=30;class eL{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new nL(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=x0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>JR){const c=iL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Pr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=x0(),{heartbeatsToSend:r,unsentEntries:a}=tL(this._heartbeatsCache.heartbeats),l=jh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Pr.warn(t),""}}}function x0(){return new Date().toISOString().substring(0,10)}function tL(n,e=XR){const t=[];let r=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),R0(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),R0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class nL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qx()?Hx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ZR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return A0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return A0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function R0(n){return jh(JSON.stringify({version:2,heartbeats:n})).length}function iL(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(n){Aa(new Os("platform-logger",e=>new gR(e),"PRIVATE")),Aa(new Os("heartbeat",e=>new eL(e),"PRIVATE")),Gi(pm,S0,n),Gi(pm,S0,"esm2017"),Gi("fire-js","")}rL("");var sL="firebase",aL="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gi(sL,aL,"app");function eg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t}function qw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oL=qw,Hw=new ju("auth","Firebase",qw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Zm("@firebase/auth");function lL(n,...e){Uh.logLevel<=He.WARN&&Uh.warn(`Auth (${Na}): ${n}`,...e)}function Ah(n,...e){Uh.logLevel<=He.ERROR&&Uh.error(`Auth (${Na}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(n,...e){throw tg(n,...e)}function $i(n,...e){return tg(n,...e)}function Fw(n,e,t){const r=Object.assign(Object.assign({},oL()),{[e]:t});return new ju("auth","Firebase",r).create(e,{appName:n.name})}function Dr(n){return Fw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Hw.create(n,...e)}function Le(n,e,...t){if(!n)throw tg(e,...t)}function Ir(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ah(e),new Error(e)}function kr(n,e){n||Ir(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function uL(){return L0()==="http:"||L0()==="https:"}function L0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uL()||Vx()||"connection"in navigator)?navigator.onLine:!0}function hL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,t){this.shortDelay=e,this.longDelay=t,kr(t>e,"Short delay should be less than long delay!"),this.isMobile=Px()||Ux()}get(){return cL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(n,e){kr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pL=new Uu(3e4,6e4);function Ur(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ir(n,e,t,r,a={}){return $w(n,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const f=Vu(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:p},l);return jx()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Da(n.emulatorConfig.host)&&(g.credentials="include"),Gw.fetch()(await Kw(n,n.config.apiHost,t,f),g)})}async function $w(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},dL),e);try{const a=new gL(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw mh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[p,g]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw mh(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw mh(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw mh(n,"user-disabled",c);const _=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Fw(n,_,g);_i(n,_)}}catch(a){if(a instanceof nr)throw a;_i(n,"network-request-failed",{message:String(a)})}}async function Bu(n,e,t,r,a={}){const l=await ir(n,e,t,r,a);return"mfaPendingCredential"in l&&_i(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Kw(n,e,t,r){const a=`${e}${t}?${r}`,l=n,c=l.config.emulator?ng(n.config,a):`${n.config.apiScheme}://${a}`;return fL.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function mL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r($i(this.auth,"network-request-failed")),pL.get())})}}function mh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=$i(n,e,r);return a.customData._tokenResponse=t,a}function I0(n){return n!==void 0&&n.enterprise!==void 0}class vL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return mL(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yL(n,e){return ir(n,"GET","/v2/recaptchaConfig",Ur(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _L(n,e){return ir(n,"POST","/v1/accounts:delete",e)}async function Bh(n,e){return ir(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function EL(n,e=!1){const t=Xt(n),r=await t.getIdToken(e),a=ig(r);Le(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:gu(Wp(a.auth_time)),issuedAtTime:gu(Wp(a.iat)),expirationTime:gu(Wp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Wp(n){return Number(n)*1e3}function ig(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Ah("JWT malformed, contained fewer than 3 sections"),null;try{const a=Ow(t);return a?JSON.parse(a):(Ah("Failed to decode base64 JWT payload"),null)}catch(a){return Ah("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function O0(n){const e=ig(n);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof nr&&bL(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function bL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gu(this.lastLoginAt),this.creationTime=gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(n){var e;const t=n.auth,r=await n.getIdToken(),a=await Bo(n,Bh(t,{idToken:r}));Le(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Qw(l.providerUserInfo):[],f=SL(n.providerData,c),p=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!(f!=null&&f.length),_=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new ym(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,T)}async function TL(n){const e=Xt(n);await zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SL(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function Qw(n){return n.map(e=>{var{providerId:t}=e,r=eg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CL(n,e){const t=await $w(n,{},async()=>{const r=Vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await Kw(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:r};return n.emulatorConfig&&Da(n.emulatorConfig.host)&&(p.credentials="include"),Gw.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function AL(n,e){return ir(n,"POST","/v2/accounts:revokeToken",Ur(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):O0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const t=O0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:l}=await CL(e,t);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,c=new Po;return r&&(Le(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Le(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Le(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Po,this.toJSON())}_performRefresh(){return Ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(n,e){Le(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class gi{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,l=eg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ym(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Bo(this,this.stsTokenManager.getToken(this.auth,e));return Le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return EL(this,e)}reload(){return TL(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await zh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Dr(this.auth));const e=await this.getIdToken();return await Bo(this,_L(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,l,c,f,p,g,_;const T=(r=t.displayName)!==null&&r!==void 0?r:void 0,b=(a=t.email)!==null&&a!==void 0?a:void 0,R=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,C=(c=t.photoURL)!==null&&c!==void 0?c:void 0,k=(f=t.tenantId)!==null&&f!==void 0?f:void 0,I=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,U=(g=t.createdAt)!==null&&g!==void 0?g:void 0,z=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:K,emailVerified:F,isAnonymous:q,providerData:W,stsTokenManager:M}=t;Le(K&&M,e,"internal-error");const O=Po.fromJSON(this.name,M);Le(typeof K=="string",e,"internal-error"),gs(T,e.name),gs(b,e.name),Le(typeof F=="boolean",e,"internal-error"),Le(typeof q=="boolean",e,"internal-error"),gs(R,e.name),gs(C,e.name),gs(k,e.name),gs(I,e.name),gs(U,e.name),gs(z,e.name);const A=new gi({uid:K,auth:e,email:b,emailVerified:F,displayName:T,isAnonymous:q,photoURL:C,phoneNumber:R,tenantId:k,stsTokenManager:O,createdAt:U,lastLoginAt:z});return W&&Array.isArray(W)&&(A.providerData=W.map(D=>Object.assign({},D))),I&&(A._redirectEventId=I),A}static async _fromIdTokenResponse(e,t,r=!1){const a=new Po;a.updateFromServerResponse(t);const l=new gi({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await zh(l),l}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Le(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Qw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new Po;f.updateFromIdToken(r);const p=new gi({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ym(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=new Map;function Or(n){kr(n instanceof Function,"Expected a class definition");let e=M0.get(n);return e?(kr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,M0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Yw.type="NONE";const D0=Yw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(n,e,t){return`firebase:${n}:${e}:${t}`}class ko{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=xh(this.userKey,a.apiKey,l),this.fullPersistenceKey=xh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Bh(this.auth,{idToken:e}).catch(()=>{});return t?gi._fromGetAccountInfoResponse(this.auth,t,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ko(Or(D0),e,r);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Or(D0);const c=xh(r,e.config.apiKey,e.name);let f=null;for(const g of t)try{const _=await g._get(c);if(_){let T;if(typeof _=="string"){const b=await Bh(e,{idToken:_}).catch(()=>{});if(!b)break;T=await gi._fromGetAccountInfoResponse(e,b,_)}else T=gi._fromJSON(e,_);g!==l&&(f=T),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new ko(l,e,r):(l=p[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new ko(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Jw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ww(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tT(e))return"Blackberry";if(nT(e))return"Webos";if(Zw(e))return"Safari";if((e.includes("chrome/")||Xw(e))&&!e.includes("edge/"))return"Chrome";if(eT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Ww(n=yn()){return/firefox\//i.test(n)}function Zw(n=yn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xw(n=yn()){return/crios\//i.test(n)}function Jw(n=yn()){return/iemobile/i.test(n)}function eT(n=yn()){return/android/i.test(n)}function tT(n=yn()){return/blackberry/i.test(n)}function nT(n=yn()){return/webos/i.test(n)}function rg(n=yn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function xL(n=yn()){var e;return rg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RL(){return Bx()&&document.documentMode===10}function iT(n=yn()){return rg(n)||eT(n)||nT(n)||tT(n)||/windows phone/i.test(n)||Jw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(n,e=[]){let t;switch(n){case"Browser":t=N0(yn());break;case"Worker":t=`${N0(yn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Na}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((c,f)=>{try{const p=e(l);c(p)}catch(p){f(p)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IL(n,e={}){return ir(n,"GET","/v2/passwordPolicy",Ur(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=6;class ML{constructor(e){var t,r,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:OL,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,a,l,c,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P0(this),this.idTokenSubscription=new P0(this),this.beforeStateQueue=new LL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Or(t)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await ko.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Bh(this,{idToken:e}),r=await gi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Un(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===f)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(Dr(this));const t=e?Xt(e):null;return t&&Le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(Dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IL(this),t=new ML(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ju("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await AL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Or(e)||this._popupRedirectResolver;Le(t,this,"argument-error"),this.redirectPersistenceManager=await ko.create(this,[Or(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,r,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&lL(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Us(n){return Xt(n)}class P0{constructor(e){this.auth=e,this.observer=null,this.addObserver=Qx(t=>this.observer=t)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _d={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NL(n){_d=n}function sT(n){return _d.loadJS(n)}function PL(){return _d.recaptchaEnterpriseScript}function kL(){return _d.gapiScript}function jL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class VL{constructor(){this.enterprise=new UL}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class UL{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const BL="recaptcha-enterprise",aT="NO_RECAPTCHA";class zL{constructor(e){this.type=BL,this.auth=Us(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{yL(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new vL(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{f(p)})})}function a(l,c,f){const p=window.grecaptcha;I0(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(aT)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new VL().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(f=>{if(!t&&I0(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=PL();p.length!==0&&(p+=f),sT(p).then(()=>{a(f,l,c)}).catch(g=>{c(g)})}}).catch(f=>{c(f)})})}}async function k0(n,e,t,r=!1,a=!1){const l=new zL(n);let c;if(a)c=aT;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function qh(n,e,t,r,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await k0(n,e,t,t==="getOobCode");return r(n,c)}else return r(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await k0(n,e,t,t==="getOobCode");return r(n,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(n,e){const t=yd(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Ca(l,e??{}))return a;_i(a,"already-initialized")}return t.initialize({options:e})}function HL(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Or);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function FL(n,e,t){const r=Us(n);Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=oT(e),{host:c,port:f}=GL(e),p=f===null?"":`:${f}`,g={url:`${l}//${c}${p}/`},_=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Le(Ca(g,r.config.emulator)&&Ca(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,Da(c)?(Ym(`${l}//${c}${p}`),Wm("Auth",!0)):$L()}function oT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function GL(n){const e=oT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:j0(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:j0(c)}}}function j0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function $L(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ir("not implemented")}_getIdTokenResponse(e){return Ir("not implemented")}_linkToIdToken(e,t){return Ir("not implemented")}_getReauthenticationResolver(e){return Ir("not implemented")}}async function KL(n,e){return ir(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QL(n,e){return Bu(n,"POST","/v1/accounts:signInWithPassword",Ur(n,e))}async function lT(n,e){return ir(n,"POST","/v1/accounts:sendOobCode",Ur(n,e))}async function YL(n,e){return lT(n,e)}async function WL(n,e){return lT(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZL(n,e){return Bu(n,"POST","/v1/accounts:signInWithEmailLink",Ur(n,e))}async function XL(n,e){return Bu(n,"POST","/v1/accounts:signInWithEmailLink",Ur(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends sg{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Cu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Cu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qh(e,t,"signInWithPassword",QL);case"emailLink":return ZL(e,{email:this._email,oobCode:this._password});default:_i(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qh(e,r,"signUpPassword",KL);case"emailLink":return XL(e,{idToken:t,email:this._email,oobCode:this._password});default:_i(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(n,e){return Bu(n,"POST","/v1/accounts:signInWithIdp",Ur(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL="http://localhost";class xa extends sg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new xa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_i("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=t,l=eg(t,["providerId","signInMethod"]);if(!r||!a)return null;const c=new xa(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return jo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,jo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,jo(e,t)}buildRequest(){const e={requestUri:JL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tI(n){const e=uu(cu(n)).link,t=e?uu(cu(e)).deep_link_id:null,r=uu(cu(n)).deep_link_id;return(r?uu(cu(r)).link:null)||r||t||e||n}class ag{constructor(e){var t,r,a,l,c,f;const p=uu(cu(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(r=p.oobCode)!==null&&r!==void 0?r:null,T=eI((a=p.mode)!==null&&a!==void 0?a:null);Le(g&&_&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=_,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=tI(e);try{return new ag(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.providerId=Wo.PROVIDER_ID}static credential(e,t){return Cu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ag.parseLink(t);return Le(r,"argument-error"),Cu._fromEmailAndCode(e,r.code,r.tenantId)}}Wo.PROVIDER_ID="password";Wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends uT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends zu{constructor(){super("facebook.com")}static credential(e){return xa._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.FACEBOOK_SIGN_IN_METHOD="facebook.com";Es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends zu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return xa._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return bs.credential(t,r)}catch{return null}}}bs.GOOGLE_SIGN_IN_METHOD="google.com";bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends zu{constructor(){super("github.com")}static credential(e){return xa._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.GITHUB_SIGN_IN_METHOD="github.com";ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends zu{constructor(){super("twitter.com")}static credential(e,t){return xa._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ts.credential(t,r)}catch{return null}}}Ts.TWITTER_SIGN_IN_METHOD="twitter.com";Ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(n,e){return Bu(n,"POST","/v1/accounts:signUp",Ur(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const l=await gi._fromIdTokenResponse(e,r,a),c=V0(r);return new Ra({user:l,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=V0(r);return new Ra({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function V0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh extends nr{constructor(e,t,r,a){var l;super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Hh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Hh(e,t,r,a)}}function cT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Hh._fromErrorAndOperation(n,l,e,r):l})}async function iI(n,e,t=!1){const r=await Bo(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ra._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(n,e,t=!1){const{auth:r}=n;if(Un(r.app))return Promise.reject(Dr(r));const a="reauthenticate";try{const l=await Bo(n,cT(r,a,e,n),t);Le(l.idToken,r,"internal-error");const c=ig(l.idToken);Le(c,r,"internal-error");const{sub:f}=c;return Le(n.uid===f,r,"user-mismatch"),Ra._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&_i(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hT(n,e,t=!1){if(Un(n.app))return Promise.reject(Dr(n));const r="signIn",a=await cT(n,r,e),l=await Ra._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(l.user),l}async function sI(n,e){return hT(Us(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dT(n){const e=Us(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function aI(n,e,t){const r=Us(n);await qh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",WL)}async function oI(n,e,t){if(Un(n.app))return Promise.reject(Dr(n));const r=Us(n),c=await qh(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&dT(n),p}),f=await Ra._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(f.user),f}function lI(n,e,t){return Un(n.app)?Promise.reject(Dr(n)):sI(Xt(n),Wo.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&dT(n),r})}async function fT(n,e){const t=Xt(n),a={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:l}=await YL(t.auth,a);l!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(n,e){return ir(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Xt(n),l={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await Bo(r,uI(r.auth,l));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const f=r.providerData.find(({providerId:p})=>p==="password");f&&(f.displayName=r.displayName,f.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function hI(n,e,t,r){return Xt(n).onIdTokenChanged(e,t,r)}function dI(n,e,t){return Xt(n).beforeAuthStateChanged(e,t)}function fI(n){return Xt(n).signOut()}const Fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fh,"1"),this.storage.removeItem(Fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=1e3,mI=10;class mT extends pT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,p)=>{this.notifyListeners(c,p)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);RL()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,mI):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},pI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}mT.type="LOCAL";const gI=mT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT extends pT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}gT.type="SESSION";const vT=gT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Ed(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(c).map(async g=>g(t.origin,l)),p=await vI(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ed.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,p)=>{const g=og("",20);a.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(T){const b=T;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(){return window}function _I(n){Ki().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function EI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bI(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function wI(){return yT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="firebaseLocalStorageDb",TI=1,Gh="firebaseLocalStorage",ET="fbase_key";class qu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function bd(n,e){return n.transaction([Gh],e?"readwrite":"readonly").objectStore(Gh)}function SI(){const n=indexedDB.deleteDatabase(_T);return new qu(n).toPromise()}function _m(){const n=indexedDB.open(_T,TI);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Gh,{keyPath:ET})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Gh)?e(r):(r.close(),await SI(),e(await _m()))})})}async function U0(n,e,t){const r=bd(n,!0).put({[ET]:e,value:t});return new qu(r).toPromise()}async function CI(n,e){const t=bd(n,!1).get(e),r=await new qu(t).toPromise();return r===void 0?null:r.value}function B0(n,e){const t=bd(n,!0).delete(e);return new qu(t).toPromise()}const AI=800,xI=3;class bT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _m(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>xI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ed._getInstance(wI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await EI(),!this.activeServiceWorker)return;this.sender=new yI(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _m();return await U0(e,Fh,"1"),await B0(e,Fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>U0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>CI(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>B0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=bd(a,!1).getAll();return new qu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bT.type="LOCAL";const RI=bT;new Uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(n,e){return e?Or(e):(Le(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg extends sg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return jo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function II(n){return hT(n.auth,new lg(n),n.bypassAuthState)}function OI(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),rI(t,new lg(n),n.bypassAuthState)}async function MI(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),iI(t,new lg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,t,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return II;case"linkViaPopup":case"linkViaRedirect":return MI;case"reauthViaPopup":case"reauthViaRedirect":return OI;default:_i(this.auth,"internal-error")}}resolve(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=new Uu(2e3,1e4);class Do extends wT{constructor(e,t,r,a,l){super(e,t,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Do.currentPopupAction&&Do.currentPopupAction.cancel(),Do.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){kr(this.filter.length===1,"Popup operations only handle one event");const e=og();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject($i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Do.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DI.get())};e()}}Do.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="pendingRedirect",Rh=new Map;class PI extends wT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Rh.get(this.auth._key());if(!e){try{const r=await kI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Rh.set(this.auth._key(),e)}return this.bypassAuthState||Rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kI(n,e){const t=UI(e),r=VI(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function jI(n,e){Rh.set(n._key(),e)}function VI(n){return Or(n._redirectPersistence)}function UI(n){return xh(NI,n.config.apiKey,n.name)}async function BI(n,e,t=!1){if(Un(n.app))return Promise.reject(Dr(n));const r=Us(n),a=LI(r,e),c=await new PI(r,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=10*60*1e3;class qI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!TT(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError($i(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zI&&this.cachedEventUids.clear(),this.cachedEventUids.has(z0(e))}saveEventToCache(e){this.cachedEventUids.add(z0(e)),this.lastProcessedEventTime=Date.now()}}function z0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function TT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(n,e={}){return ir(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$I=/^https?/;async function KI(n){if(n.config.emulator)return;const{authorizedDomains:e}=await FI(n);for(const t of e)try{if(QI(t))return}catch{}_i(n,"unauthorized-domain")}function QI(n){const e=vm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!$I.test(t))return!1;if(GI.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=new Uu(3e4,6e4);function q0(){const n=Ki().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function WI(n){return new Promise((e,t)=>{var r,a,l;function c(){q0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{q0(),t($i(n,"network-request-failed"))},timeout:YI.get()})}if(!((a=(r=Ki().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Ki().gapi)===null||l===void 0)&&l.load)c();else{const f=jL("iframefcb");return Ki()[f]=()=>{gapi.load?c():t($i(n,"network-request-failed"))},sT(`${kL()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw Lh=null,e})}let Lh=null;function ZI(n){return Lh=Lh||WI(n),Lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=new Uu(5e3,15e3),JI="__/auth/iframe",e2="emulator/auth/iframe",t2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i2(n){const e=n.config;Le(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ng(e,e2):`https://${n.config.authDomain}/${JI}`,r={apiKey:e.apiKey,appName:n.name,v:Na},a=n2.get(n.config.apiHost);a&&(r.eid=a);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${Vu(r).slice(1)}`}async function r2(n){const e=await ZI(n),t=Ki().gapi;return Le(t,n,"internal-error"),e.open({where:document.body,url:i2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:t2,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=$i(n,"network-request-failed"),f=Ki().setTimeout(()=>{l(c)},XI.get());function p(){Ki().clearTimeout(f),a(r)}r.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},a2=500,o2=600,l2="_blank",u2="http://localhost";class H0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function c2(n,e,t,r=a2,a=o2){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const p=Object.assign(Object.assign({},s2),{width:r.toString(),height:a.toString(),top:l,left:c}),g=yn().toLowerCase();t&&(f=Xw(g)?l2:t),Ww(g)&&(e=e||u2,p.scrollbars="yes");const _=Object.entries(p).reduce((b,[R,C])=>`${b}${R}=${C},`,"");if(xL(g)&&f!=="_self")return h2(e||"",f),new H0(null);const T=window.open(e||"",f,_);Le(T,n,"popup-blocked");try{T.focus()}catch{}return new H0(T)}function h2(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="__/auth/handler",f2="emulator/auth/handler",p2=encodeURIComponent("fac");async function F0(n,e,t,r,a,l){Le(n.config.authDomain,n,"auth-domain-config-required"),Le(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Na,eventId:a};if(e instanceof uT){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",Kx(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(e instanceof zu){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const p=await n._getAppCheckToken(),g=p?`#${p2}=${encodeURIComponent(p)}`:"";return`${m2(n)}?${Vu(f).slice(1)}${g}`}function m2({config:n}){return n.emulator?ng(n,f2):`https://${n.authDomain}/${d2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="webStorageSupport";class g2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vT,this._completeRedirectFn=BI,this._overrideRedirectResult=jI}async _openPopup(e,t,r,a){var l;kr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await F0(e,t,r,vm(),a);return c2(e,c,og())}async _openRedirect(e,t,r,a){await this._originValidation(e);const l=await F0(e,t,r,vm(),a);return _I(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(kr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await r2(e),r=new qI(e);return t.register("authEvent",a=>(Le(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Zp,{type:Zp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Zp];c!==void 0&&t(!!c),_i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=KI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return iT()||Zw()||rg()}}const v2=g2;var G0="@firebase/auth",$0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E2(n){Aa(new Os("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;Le(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rT(n)},g=new DL(r,a,l,p);return HL(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Aa(new Os("auth-internal",e=>{const t=Us(e.getProvider("auth").getImmediate());return(r=>new y2(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gi(G0,$0,_2(n)),Gi(G0,$0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=5*60,w2=Pw("authIdTokenMaxAge")||b2;let K0=null;const T2=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>w2)return;const a=t==null?void 0:t.token;K0!==a&&(K0=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function S2(n=Jm()){const e=yd(n,"auth");if(e.isInitialized())return e.getImmediate();const t=qL(n,{popupRedirectResolver:v2,persistence:[RI,gI,vT]}),r=Pw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=T2(l.toString());dI(t,c,()=>c(t.currentUser)),hI(t,f=>c(f))}}const a=Mw("auth");return a&&FL(t,`http://${a}`),t}function C2(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}NL({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const l=$i("internal-error");l.customData=a,t(l)},r.type="text/javascript",r.charset="UTF-8",C2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E2("Browser");var Q0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rs,ST;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,O){function A(){}A.prototype=O.prototype,M.D=O.prototype,M.prototype=new A,M.prototype.constructor=M,M.C=function(D,P,B){for(var N=Array(arguments.length-2),we=2;we<arguments.length;we++)N[we-2]=arguments[we];return O.prototype[P].apply(D,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(M,O,A){A||(A=0);var D=Array(16);if(typeof O=="string")for(var P=0;16>P;++P)D[P]=O.charCodeAt(A++)|O.charCodeAt(A++)<<8|O.charCodeAt(A++)<<16|O.charCodeAt(A++)<<24;else for(P=0;16>P;++P)D[P]=O[A++]|O[A++]<<8|O[A++]<<16|O[A++]<<24;O=M.g[0],A=M.g[1],P=M.g[2];var B=M.g[3],N=O+(B^A&(P^B))+D[0]+3614090360&4294967295;O=A+(N<<7&4294967295|N>>>25),N=B+(P^O&(A^P))+D[1]+3905402710&4294967295,B=O+(N<<12&4294967295|N>>>20),N=P+(A^B&(O^A))+D[2]+606105819&4294967295,P=B+(N<<17&4294967295|N>>>15),N=A+(O^P&(B^O))+D[3]+3250441966&4294967295,A=P+(N<<22&4294967295|N>>>10),N=O+(B^A&(P^B))+D[4]+4118548399&4294967295,O=A+(N<<7&4294967295|N>>>25),N=B+(P^O&(A^P))+D[5]+1200080426&4294967295,B=O+(N<<12&4294967295|N>>>20),N=P+(A^B&(O^A))+D[6]+2821735955&4294967295,P=B+(N<<17&4294967295|N>>>15),N=A+(O^P&(B^O))+D[7]+4249261313&4294967295,A=P+(N<<22&4294967295|N>>>10),N=O+(B^A&(P^B))+D[8]+1770035416&4294967295,O=A+(N<<7&4294967295|N>>>25),N=B+(P^O&(A^P))+D[9]+2336552879&4294967295,B=O+(N<<12&4294967295|N>>>20),N=P+(A^B&(O^A))+D[10]+4294925233&4294967295,P=B+(N<<17&4294967295|N>>>15),N=A+(O^P&(B^O))+D[11]+2304563134&4294967295,A=P+(N<<22&4294967295|N>>>10),N=O+(B^A&(P^B))+D[12]+1804603682&4294967295,O=A+(N<<7&4294967295|N>>>25),N=B+(P^O&(A^P))+D[13]+4254626195&4294967295,B=O+(N<<12&4294967295|N>>>20),N=P+(A^B&(O^A))+D[14]+2792965006&4294967295,P=B+(N<<17&4294967295|N>>>15),N=A+(O^P&(B^O))+D[15]+1236535329&4294967295,A=P+(N<<22&4294967295|N>>>10),N=O+(P^B&(A^P))+D[1]+4129170786&4294967295,O=A+(N<<5&4294967295|N>>>27),N=B+(A^P&(O^A))+D[6]+3225465664&4294967295,B=O+(N<<9&4294967295|N>>>23),N=P+(O^A&(B^O))+D[11]+643717713&4294967295,P=B+(N<<14&4294967295|N>>>18),N=A+(B^O&(P^B))+D[0]+3921069994&4294967295,A=P+(N<<20&4294967295|N>>>12),N=O+(P^B&(A^P))+D[5]+3593408605&4294967295,O=A+(N<<5&4294967295|N>>>27),N=B+(A^P&(O^A))+D[10]+38016083&4294967295,B=O+(N<<9&4294967295|N>>>23),N=P+(O^A&(B^O))+D[15]+3634488961&4294967295,P=B+(N<<14&4294967295|N>>>18),N=A+(B^O&(P^B))+D[4]+3889429448&4294967295,A=P+(N<<20&4294967295|N>>>12),N=O+(P^B&(A^P))+D[9]+568446438&4294967295,O=A+(N<<5&4294967295|N>>>27),N=B+(A^P&(O^A))+D[14]+3275163606&4294967295,B=O+(N<<9&4294967295|N>>>23),N=P+(O^A&(B^O))+D[3]+4107603335&4294967295,P=B+(N<<14&4294967295|N>>>18),N=A+(B^O&(P^B))+D[8]+1163531501&4294967295,A=P+(N<<20&4294967295|N>>>12),N=O+(P^B&(A^P))+D[13]+2850285829&4294967295,O=A+(N<<5&4294967295|N>>>27),N=B+(A^P&(O^A))+D[2]+4243563512&4294967295,B=O+(N<<9&4294967295|N>>>23),N=P+(O^A&(B^O))+D[7]+1735328473&4294967295,P=B+(N<<14&4294967295|N>>>18),N=A+(B^O&(P^B))+D[12]+2368359562&4294967295,A=P+(N<<20&4294967295|N>>>12),N=O+(A^P^B)+D[5]+4294588738&4294967295,O=A+(N<<4&4294967295|N>>>28),N=B+(O^A^P)+D[8]+2272392833&4294967295,B=O+(N<<11&4294967295|N>>>21),N=P+(B^O^A)+D[11]+1839030562&4294967295,P=B+(N<<16&4294967295|N>>>16),N=A+(P^B^O)+D[14]+4259657740&4294967295,A=P+(N<<23&4294967295|N>>>9),N=O+(A^P^B)+D[1]+2763975236&4294967295,O=A+(N<<4&4294967295|N>>>28),N=B+(O^A^P)+D[4]+1272893353&4294967295,B=O+(N<<11&4294967295|N>>>21),N=P+(B^O^A)+D[7]+4139469664&4294967295,P=B+(N<<16&4294967295|N>>>16),N=A+(P^B^O)+D[10]+3200236656&4294967295,A=P+(N<<23&4294967295|N>>>9),N=O+(A^P^B)+D[13]+681279174&4294967295,O=A+(N<<4&4294967295|N>>>28),N=B+(O^A^P)+D[0]+3936430074&4294967295,B=O+(N<<11&4294967295|N>>>21),N=P+(B^O^A)+D[3]+3572445317&4294967295,P=B+(N<<16&4294967295|N>>>16),N=A+(P^B^O)+D[6]+76029189&4294967295,A=P+(N<<23&4294967295|N>>>9),N=O+(A^P^B)+D[9]+3654602809&4294967295,O=A+(N<<4&4294967295|N>>>28),N=B+(O^A^P)+D[12]+3873151461&4294967295,B=O+(N<<11&4294967295|N>>>21),N=P+(B^O^A)+D[15]+530742520&4294967295,P=B+(N<<16&4294967295|N>>>16),N=A+(P^B^O)+D[2]+3299628645&4294967295,A=P+(N<<23&4294967295|N>>>9),N=O+(P^(A|~B))+D[0]+4096336452&4294967295,O=A+(N<<6&4294967295|N>>>26),N=B+(A^(O|~P))+D[7]+1126891415&4294967295,B=O+(N<<10&4294967295|N>>>22),N=P+(O^(B|~A))+D[14]+2878612391&4294967295,P=B+(N<<15&4294967295|N>>>17),N=A+(B^(P|~O))+D[5]+4237533241&4294967295,A=P+(N<<21&4294967295|N>>>11),N=O+(P^(A|~B))+D[12]+1700485571&4294967295,O=A+(N<<6&4294967295|N>>>26),N=B+(A^(O|~P))+D[3]+2399980690&4294967295,B=O+(N<<10&4294967295|N>>>22),N=P+(O^(B|~A))+D[10]+4293915773&4294967295,P=B+(N<<15&4294967295|N>>>17),N=A+(B^(P|~O))+D[1]+2240044497&4294967295,A=P+(N<<21&4294967295|N>>>11),N=O+(P^(A|~B))+D[8]+1873313359&4294967295,O=A+(N<<6&4294967295|N>>>26),N=B+(A^(O|~P))+D[15]+4264355552&4294967295,B=O+(N<<10&4294967295|N>>>22),N=P+(O^(B|~A))+D[6]+2734768916&4294967295,P=B+(N<<15&4294967295|N>>>17),N=A+(B^(P|~O))+D[13]+1309151649&4294967295,A=P+(N<<21&4294967295|N>>>11),N=O+(P^(A|~B))+D[4]+4149444226&4294967295,O=A+(N<<6&4294967295|N>>>26),N=B+(A^(O|~P))+D[11]+3174756917&4294967295,B=O+(N<<10&4294967295|N>>>22),N=P+(O^(B|~A))+D[2]+718787259&4294967295,P=B+(N<<15&4294967295|N>>>17),N=A+(B^(P|~O))+D[9]+3951481745&4294967295,M.g[0]=M.g[0]+O&4294967295,M.g[1]=M.g[1]+(P+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+B&4294967295}r.prototype.u=function(M,O){O===void 0&&(O=M.length);for(var A=O-this.blockSize,D=this.B,P=this.h,B=0;B<O;){if(P==0)for(;B<=A;)a(this,M,B),B+=this.blockSize;if(typeof M=="string"){for(;B<O;)if(D[P++]=M.charCodeAt(B++),P==this.blockSize){a(this,D),P=0;break}}else for(;B<O;)if(D[P++]=M[B++],P==this.blockSize){a(this,D),P=0;break}}this.h=P,this.o+=O},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var O=1;O<M.length-8;++O)M[O]=0;var A=8*this.o;for(O=M.length-8;O<M.length;++O)M[O]=A&255,A/=256;for(this.u(M),M=Array(16),O=A=0;4>O;++O)for(var D=0;32>D;D+=8)M[A++]=this.g[O]>>>D&255;return M};function l(M,O){var A=f;return Object.prototype.hasOwnProperty.call(A,M)?A[M]:A[M]=O(M)}function c(M,O){this.h=O;for(var A=[],D=!0,P=M.length-1;0<=P;P--){var B=M[P]|0;D&&B==O||(A[P]=B,D=!1)}this.g=A}var f={};function p(M){return-128<=M&&128>M?l(M,function(O){return new c([O|0],0>O?-1:0)}):new c([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return T;if(0>M)return I(g(-M));for(var O=[],A=1,D=0;M>=A;D++)O[D]=M/A|0,A*=4294967296;return new c(O,0)}function _(M,O){if(M.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(M.charAt(0)=="-")return I(_(M.substring(1),O));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=g(Math.pow(O,8)),D=T,P=0;P<M.length;P+=8){var B=Math.min(8,M.length-P),N=parseInt(M.substring(P,P+B),O);8>B?(B=g(Math.pow(O,B)),D=D.j(B).add(g(N))):(D=D.j(A),D=D.add(g(N)))}return D}var T=p(0),b=p(1),R=p(16777216);n=c.prototype,n.m=function(){if(k(this))return-I(this).m();for(var M=0,O=1,A=0;A<this.g.length;A++){var D=this.i(A);M+=(0<=D?D:4294967296+D)*O,O*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(C(this))return"0";if(k(this))return"-"+I(this).toString(M);for(var O=g(Math.pow(M,6)),A=this,D="";;){var P=F(A,O).g;A=U(A,P.j(O));var B=((0<A.g.length?A.g[0]:A.h)>>>0).toString(M);if(A=P,C(A))return B+D;for(;6>B.length;)B="0"+B;D=B+D}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function C(M){if(M.h!=0)return!1;for(var O=0;O<M.g.length;O++)if(M.g[O]!=0)return!1;return!0}function k(M){return M.h==-1}n.l=function(M){return M=U(this,M),k(M)?-1:C(M)?0:1};function I(M){for(var O=M.g.length,A=[],D=0;D<O;D++)A[D]=~M.g[D];return new c(A,~M.h).add(b)}n.abs=function(){return k(this)?I(this):this},n.add=function(M){for(var O=Math.max(this.g.length,M.g.length),A=[],D=0,P=0;P<=O;P++){var B=D+(this.i(P)&65535)+(M.i(P)&65535),N=(B>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);D=N>>>16,B&=65535,N&=65535,A[P]=N<<16|B}return new c(A,A[A.length-1]&-2147483648?-1:0)};function U(M,O){return M.add(I(O))}n.j=function(M){if(C(this)||C(M))return T;if(k(this))return k(M)?I(this).j(I(M)):I(I(this).j(M));if(k(M))return I(this.j(I(M)));if(0>this.l(R)&&0>M.l(R))return g(this.m()*M.m());for(var O=this.g.length+M.g.length,A=[],D=0;D<2*O;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var P=0;P<M.g.length;P++){var B=this.i(D)>>>16,N=this.i(D)&65535,we=M.i(P)>>>16,ye=M.i(P)&65535;A[2*D+2*P]+=N*ye,z(A,2*D+2*P),A[2*D+2*P+1]+=B*ye,z(A,2*D+2*P+1),A[2*D+2*P+1]+=N*we,z(A,2*D+2*P+1),A[2*D+2*P+2]+=B*we,z(A,2*D+2*P+2)}for(D=0;D<O;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=O;D<2*O;D++)A[D]=0;return new c(A,0)};function z(M,O){for(;(M[O]&65535)!=M[O];)M[O+1]+=M[O]>>>16,M[O]&=65535,O++}function K(M,O){this.g=M,this.h=O}function F(M,O){if(C(O))throw Error("division by zero");if(C(M))return new K(T,T);if(k(M))return O=F(I(M),O),new K(I(O.g),I(O.h));if(k(O))return O=F(M,I(O)),new K(I(O.g),O.h);if(30<M.g.length){if(k(M)||k(O))throw Error("slowDivide_ only works with positive integers.");for(var A=b,D=O;0>=D.l(M);)A=q(A),D=q(D);var P=W(A,1),B=W(D,1);for(D=W(D,2),A=W(A,2);!C(D);){var N=B.add(D);0>=N.l(M)&&(P=P.add(A),B=N),D=W(D,1),A=W(A,1)}return O=U(M,P.j(O)),new K(P,O)}for(P=T;0<=M.l(O);){for(A=Math.max(1,Math.floor(M.m()/O.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),B=g(A),N=B.j(O);k(N)||0<N.l(M);)A-=D,B=g(A),N=B.j(O);C(B)&&(B=b),P=P.add(B),M=U(M,N)}return new K(P,M)}n.A=function(M){return F(this,M).h},n.and=function(M){for(var O=Math.max(this.g.length,M.g.length),A=[],D=0;D<O;D++)A[D]=this.i(D)&M.i(D);return new c(A,this.h&M.h)},n.or=function(M){for(var O=Math.max(this.g.length,M.g.length),A=[],D=0;D<O;D++)A[D]=this.i(D)|M.i(D);return new c(A,this.h|M.h)},n.xor=function(M){for(var O=Math.max(this.g.length,M.g.length),A=[],D=0;D<O;D++)A[D]=this.i(D)^M.i(D);return new c(A,this.h^M.h)};function q(M){for(var O=M.g.length+1,A=[],D=0;D<O;D++)A[D]=M.i(D)<<1|M.i(D-1)>>>31;return new c(A,M.h)}function W(M,O){var A=O>>5;O%=32;for(var D=M.g.length-A,P=[],B=0;B<D;B++)P[B]=0<O?M.i(B+A)>>>O|M.i(B+A+1)<<32-O:M.i(B+A);return new c(P,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ST=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,Rs=c}).apply(typeof Q0<"u"?Q0:typeof self<"u"?self:typeof window<"u"?window:{});var gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CT,hu,AT,Ih,Em,xT,RT,LT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,w){return h==Array.prototype||h==Object.prototype||(h[v]=w.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof gh=="object"&&gh];for(var v=0;v<h.length;++v){var w=h[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function a(h,v){if(v)e:{var w=r;h=h.split(".");for(var L=0;L<h.length-1;L++){var $=h[L];if(!($ in w))break e;w=w[$]}h=h[h.length-1],L=w[h],v=v(L),v!=L&&v!=null&&e(w,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var w=0,L=!1,$={next:function(){if(!L&&w<h.length){var te=w++;return{value:v(te,h[te]),done:!1}}return L=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function g(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function _(h,v,w){return h.call.apply(h.bind,arguments)}function T(h,v,w){if(!h)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,L),h.apply(v,$)}}return function(){return h.apply(v,arguments)}}function b(h,v,w){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,b.apply(null,arguments)}function R(h,v){var w=Array.prototype.slice.call(arguments,1);return function(){var L=w.slice();return L.push.apply(L,arguments),h.apply(this,L)}}function C(h,v){function w(){}w.prototype=v.prototype,h.aa=v.prototype,h.prototype=new w,h.prototype.constructor=h,h.Qb=function(L,$,te){for(var fe=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)fe[Ye-2]=arguments[Ye];return v.prototype[$].apply(L,fe)}}function k(h){const v=h.length;if(0<v){const w=Array(v);for(let L=0;L<v;L++)w[L]=h[L];return w}return[]}function I(h,v){for(let w=1;w<arguments.length;w++){const L=arguments[w];if(p(L)){const $=h.length||0,te=L.length||0;h.length=$+te;for(let fe=0;fe<te;fe++)h[$+fe]=L[fe]}else h.push(L)}}class U{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function z(h){return/^[\s\xa0]*$/.test(h)}function K(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function F(h){return F[" "](h),h}F[" "]=function(){};var q=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function W(h,v,w){for(const L in h)v.call(w,h[L],L,h)}function M(h,v){for(const w in h)v.call(void 0,h[w],w,h)}function O(h){const v={};for(const w in h)v[w]=h[w];return v}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(h,v){let w,L;for(let $=1;$<arguments.length;$++){L=arguments[$];for(w in L)h[w]=L[w];for(let te=0;te<A.length;te++)w=A[te],Object.prototype.hasOwnProperty.call(L,w)&&(h[w]=L[w])}}function P(h){var v=1;h=h.split(":");const w=[];for(;0<v&&h.length;)w.push(h.shift()),v--;return h.length&&w.push(h.join(":")),w}function B(h){f.setTimeout(()=>{throw h},0)}function N(){var h=be;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class we{constructor(){this.h=this.g=null}add(v,w){const L=ye.get();L.set(v,w),this.h?this.h.next=L:this.g=L,this.h=L}}var ye=new U(()=>new Z,h=>h.reset());class Z{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,de=!1,be=new we,j=()=>{const h=f.Promise.resolve(void 0);ue=()=>{h.then(ie)}};var ie=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(w){B(w)}var v=ye;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}de=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};f.addEventListener("test",w,v),f.removeEventListener("test",w,v)}catch{}return h}();function ee(h,v){if(ne.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var w=this.type=h.type,L=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(q){e:{try{F(v.nodeName);var $=!0;break e}catch{}$=!1}$||(v=null)}}else w=="mouseover"?v=h.fromElement:w=="mouseout"&&(v=h.toElement);this.relatedTarget=v,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:me[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ee.aa.h.call(this)}}C(ee,ne);var me={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),ve=0;function nt(h,v,w,L,$){this.listener=h,this.proxy=null,this.src=v,this.type=w,this.capture=!!L,this.ha=$,this.key=++ve,this.da=this.fa=!1}function Se(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Pe(h){this.src=h,this.g={},this.h=0}Pe.prototype.add=function(h,v,w,L,$){var te=h.toString();h=this.g[te],h||(h=this.g[te]=[],this.h++);var fe=Jt(h,v,L,$);return-1<fe?(v=h[fe],w||(v.fa=!1)):(v=new nt(v,this.src,te,!!L,$),v.fa=w,h.push(v)),v};function jt(h,v){var w=v.type;if(w in h.g){var L=h.g[w],$=Array.prototype.indexOf.call(L,v,void 0),te;(te=0<=$)&&Array.prototype.splice.call(L,$,1),te&&(Se(v),h.g[w].length==0&&(delete h.g[w],h.h--))}}function Jt(h,v,w,L){for(var $=0;$<h.length;++$){var te=h[$];if(!te.da&&te.listener==v&&te.capture==!!w&&te.ha==L)return $}return-1}var Rn="closure_lm_"+(1e6*Math.random()|0),Ke={};function qs(h,v,w,L,$){if(Array.isArray(v)){for(var te=0;te<v.length;te++)qs(h,v[te],w,L,$);return null}return w=Hs(w),h&&h[De]?h.K(v,w,g(L)?!!L.capture:!1,$):en(h,v,w,!1,L,$)}function en(h,v,w,L,$,te){if(!v)throw Error("Invalid event type");var fe=g($)?!!$.capture:!!$,Ye=oi(h);if(Ye||(h[Rn]=Ye=new Pe(h)),w=Ye.add(v,w,L,fe,te),w.proxy)return w;if(L=ja(),w.proxy=L,L.src=h,L.listener=w,h.addEventListener)pe||($=fe),$===void 0&&($=!1),h.addEventListener(v.toString(),L,$);else if(h.attachEvent)h.attachEvent(zn(v.toString()),L);else if(h.addListener&&h.removeListener)h.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return w}function ja(){function h(w){return v.call(h.src,h.listener,w)}const v=Va;return h}function wi(h,v,w,L,$){if(Array.isArray(v))for(var te=0;te<v.length;te++)wi(h,v[te],w,L,$);else L=g(L)?!!L.capture:!!L,w=Hs(w),h&&h[De]?(h=h.i,v=String(v).toString(),v in h.g&&(te=h.g[v],w=Jt(te,w,L,$),-1<w&&(Se(te[w]),Array.prototype.splice.call(te,w,1),te.length==0&&(delete h.g[v],h.h--)))):h&&(h=oi(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Jt(v,w,L,$)),(w=-1<h?v[h]:null)&&sr(w))}function sr(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[De])jt(v.i,h);else{var w=h.type,L=h.proxy;v.removeEventListener?v.removeEventListener(w,L,h.capture):v.detachEvent?v.detachEvent(zn(w),L):v.addListener&&v.removeListener&&v.removeListener(L),(w=oi(v))?(jt(w,h),w.h==0&&(w.src=null,v[Rn]=null)):Se(h)}}}function zn(h){return h in Ke?Ke[h]:Ke[h]="on"+h}function Va(h,v){if(h.da)h=!0;else{v=new ee(v,this);var w=h.listener,L=h.ha||h.src;h.fa&&sr(h),h=w.call(L,v)}return h}function oi(h){return h=h[Rn],h instanceof Pe?h:null}var Br="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hs(h){return typeof h=="function"?h:(h[Br]||(h[Br]=function(v){return h.handleEvent(v)}),h[Br])}function mt(){ce.call(this),this.i=new Pe(this),this.M=this,this.F=null}C(mt,ce),mt.prototype[De]=!0,mt.prototype.removeEventListener=function(h,v,w,L){wi(this,h,v,w,L)};function Qe(h,v){var w,L=h.F;if(L)for(w=[];L;L=L.F)w.push(L);if(h=h.M,L=v.type||v,typeof v=="string")v=new ne(v,h);else if(v instanceof ne)v.target=v.target||h;else{var $=v;v=new ne(L,h),D(v,$)}if($=!0,w)for(var te=w.length-1;0<=te;te--){var fe=v.g=w[te];$=hn(fe,L,!0,v)&&$}if(fe=v.g=h,$=hn(fe,L,!0,v)&&$,$=hn(fe,L,!1,v)&&$,w)for(te=0;te<w.length;te++)fe=v.g=w[te],$=hn(fe,L,!1,v)&&$}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var w=h.g[v],L=0;L<w.length;L++)Se(w[L]);delete h.g[v],h.h--}}this.F=null},mt.prototype.K=function(h,v,w,L){return this.i.add(String(h),v,!1,w,L)},mt.prototype.L=function(h,v,w,L){return this.i.add(String(h),v,!0,w,L)};function hn(h,v,w,L){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var $=!0,te=0;te<v.length;++te){var fe=v[te];if(fe&&!fe.da&&fe.capture==w){var Ye=fe.listener,Vt=fe.ha||fe.src;fe.fa&&jt(h.i,fe),$=Ye.call(Vt,L)!==!1&&$}}return $&&!L.defaultPrevented}function Ct(h,v,w){if(typeof h=="function")w&&(h=b(h,w));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function Fs(h){h.g=Ct(()=>{h.g=null,h.i&&(h.i=!1,Fs(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class zr extends ce{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Fs(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ti(h){ce.call(this),this.h=h,this.g={}}C(Ti,ce);var qn=[];function Si(h){W(h.g,function(v,w){this.g.hasOwnProperty(w)&&sr(v)},h),h.g={}}Ti.prototype.N=function(){Ti.aa.N.call(this),Si(this)},Ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dn=f.JSON.stringify,ar=f.JSON.parse,Hn=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function qr(){}qr.prototype.h=null;function Ci(h){return h.h||(h.h=h.i())}function Hr(){}var Fn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gn(){ne.call(this,"d")}C(Gn,ne);function Ai(){ne.call(this,"c")}C(Ai,ne);var Ln={},xi=null;function li(){return xi=xi||new mt}Ln.La="serverreachability";function ui(h){ne.call(this,Ln.La,h)}C(ui,ne);function ci(h){const v=li();Qe(v,new ui(v))}Ln.STAT_EVENT="statevent";function Ua(h,v){ne.call(this,Ln.STAT_EVENT,h),this.stat=v}C(Ua,ne);function rt(h){const v=li();Qe(v,new Ua(v,h))}Ln.Ma="timingevent";function Ee(h,v){ne.call(this,Ln.Ma,h),this.size=v}C(Ee,ne);function It(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function $n(){this.g=!0}$n.prototype.xa=function(){this.g=!1};function nl(h,v,w,L,$,te){h.info(function(){if(h.g)if(te)for(var fe="",Ye=te.split("&"),Vt=0;Vt<Ye.length;Vt++){var We=Ye[Vt].split("=");if(1<We.length){var Kt=We[0];We=We[1];var Ut=Kt.split("_");fe=2<=Ut.length&&Ut[1]=="type"?fe+(Kt+"="+We+"&"):fe+(Kt+"=redacted&")}}else fe=null;else fe=te;return"XMLHTTP REQ ("+L+") [attempt "+$+"]: "+v+`
`+w+`
`+fe})}function Ud(h,v,w,L,$,te,fe){h.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+$+"]: "+v+`
`+w+`
`+te+" "+fe})}function Fr(h,v,w,L){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Gs(h,w)+(L?" "+L:"")})}function Qu(h,v){h.info(function(){return"TIMEOUT: "+v})}$n.prototype.info=function(){};function Gs(h,v){if(!h.g)return v;if(!v)return null;try{var w=JSON.parse(v);if(w){for(h=0;h<w.length;h++)if(Array.isArray(w[h])){var L=w[h];if(!(2>L.length)){var $=L[1];if(Array.isArray($)&&!(1>$.length)){var te=$[0];if(te!="noop"&&te!="stop"&&te!="close")for(var fe=1;fe<$.length;fe++)$[fe]=""}}}}return dn(w)}catch{return v}}var Gr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},or={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ri;function Li(){}C(Li,qr),Li.prototype.g=function(){return new XMLHttpRequest},Li.prototype.i=function(){return{}},Ri=new Li;function _n(h,v,w,L){this.j=h,this.i=v,this.l=w,this.R=L||1,this.U=new Ti(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new At}function At(){this.i=null,this.g="",this.h=!1}var il={},Ba={};function hi(h,v,w){h.L=1,h.v=Ws(In(v)),h.m=w,h.P=!0,lr(h,null)}function lr(h,v){h.F=Date.now(),$s(h),h.A=In(h.v);var w=h.A,L=h.R;Array.isArray(L)||(L=[String(L)]),ul(w.i,"t",L),h.C=0,w=h.j.J,h.h=new At,h.g=cc(h.j,w?v:null,!h.m),0<h.O&&(h.M=new zr(b(h.Y,h,h.g),h.O)),v=h.U,w=h.g,L=h.ca;var $="readystatechange";Array.isArray($)||($&&(qn[0]=$.toString()),$=qn);for(var te=0;te<$.length;te++){var fe=qs(w,$[te],L||v.handleEvent,!1,v.h||v);if(!fe)break;v.g[fe.key]=fe}v=h.H?O(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),ci(),nl(h.i,h.u,h.A,h.l,h.R,h.m)}_n.prototype.ca=function(h){h=h.target;const v=this.M;v&&Wn(h)==3?v.j():this.Y(h)},_n.prototype.Y=function(h){try{if(h==this.g)e:{const Ut=Wn(this.g);var v=this.g.Ba();const gr=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||nc(this.g)))){this.J||Ut!=4||v==7||(v==8||0>=gr?ci(3):ci(2)),$r(this);var w=this.g.Z();this.X=w;t:if(Yu(this)){var L=nc(this.g);h="";var $=L.length,te=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),Ii(this);var fe="";break t}this.h.i=new f.TextDecoder}for(v=0;v<$;v++)this.h.h=!0,h+=this.h.i.decode(L[v],{stream:!(te&&v==$-1)});L.length=0,this.h.g+=h,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=w==200,Ud(this.i,this.u,this.A,this.l,this.R,Ut,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Vt=this.g;if((Ye=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Ye)){var We=Ye;break t}}We=null}if(w=We)Fr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ks(this,w);else{this.o=!1,this.s=3,rt(12),tn(this),Ii(this);break e}}if(this.P){w=!0;let nn;for(;!this.J&&this.C<fe.length;)if(nn=Wu(this,fe),nn==Ba){Ut==4&&(this.s=4,rt(14),w=!1),Fr(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==il){this.s=4,rt(15),Fr(this.i,this.l,fe,"[Invalid Chunk]"),w=!1;break}else Fr(this.i,this.l,nn,null),Ks(this,nn);if(Yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||fe.length!=0||this.h.h||(this.s=1,rt(16),w=!1),this.o=this.o&&w,!w)Fr(this.i,this.l,fe,"[Invalid Chunked Response]"),tn(this),Ii(this);else if(0<fe.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),ra(Kt),Kt.M=!0,rt(11))}}else Fr(this.i,this.l,fe,null),Ks(this,fe);Ut==4&&tn(this),this.o&&!this.J&&(Ut==4?oc(this.j,this):(this.o=!1,$s(this)))}else Fd(this.g),w==400&&0<fe.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),tn(this),Ii(this)}}}catch{}finally{}};function Yu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Wu(h,v){var w=h.C,L=v.indexOf(`
`,w);return L==-1?Ba:(w=Number(v.substring(w,L)),isNaN(w)?il:(L+=1,L+w>v.length?Ba:(v=v.slice(L,L+w),h.C=L+w,v)))}_n.prototype.cancel=function(){this.J=!0,tn(this)};function $s(h){h.S=Date.now()+h.I,Zu(h,h.I)}function Zu(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=It(b(h.ba,h),v)}function $r(h){h.B&&(f.clearTimeout(h.B),h.B=null)}_n.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Qu(this.i,this.A),this.L!=2&&(ci(),rt(17)),tn(this),this.s=2,Ii(this)):Zu(this,this.S-h)};function Ii(h){h.j.G==0||h.J||oc(h.j,h)}function tn(h){$r(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Si(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Ks(h,v){try{var w=h.j;if(w.G!=0&&(w.g==h||rl(w.h,h))){if(!h.K&&rl(w.h,h)&&w.G==3){try{var L=w.Da.g.parse(v)}catch{L=null}if(Array.isArray(L)&&L.length==3){var $=L;if($[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<h.F)Xa(w),Wa(w);else break e;pl(w),rt(18)}}else w.za=$[1],0<w.za-w.T&&37500>$[2]&&w.F&&w.v==0&&!w.C&&(w.C=It(b(w.Za,w),6e3));if(1>=qa(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else mr(w,11)}else if((h.K||w.g==h)&&Xa(w),!z(v))for($=w.Da.g.parse(v),v=0;v<$.length;v++){let We=$[v];if(w.T=We[0],We=We[1],w.G==2)if(We[0]=="c"){w.K=We[1],w.ia=We[2];const Kt=We[3];Kt!=null&&(w.la=Kt,w.j.info("VER="+w.la));const Ut=We[4];Ut!=null&&(w.Aa=Ut,w.j.info("SVER="+w.Aa));const gr=We[5];gr!=null&&typeof gr=="number"&&0<gr&&(L=1.5*gr,w.L=L,w.j.info("backChannelRequestTimeoutMs_="+L)),L=w;const nn=h.g;if(nn){const ji=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ji){var te=L.h;te.g||ji.indexOf("spdy")==-1&&ji.indexOf("quic")==-1&&ji.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Ha(te,te.h),te.h=null))}if(L.D){const gl=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;gl&&(L.ya=gl,ut(L.I,L.D,gl))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-h.F,w.j.info("Handshake RTT: "+w.R+"ms")),L=w;var fe=h;if(L.qa=uc(L,L.J?L.ia:null,L.W),fe.K){En(L.h,fe);var Ye=fe,Vt=L.L;Vt&&(Ye.I=Vt),Ye.B&&($r(Ye),$s(Ye)),L.g=fe}else sc(L);0<w.i.length&&Za(w)}else We[0]!="stop"&&We[0]!="close"||mr(w,7);else w.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?mr(w,7):dl(w):We[0]!="noop"&&w.l&&w.l.ta(We),w.v=0)}}ci(4)}catch{}}var Xu=class{constructor(h,v){this.g=h,this.map=v}};function ur(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function za(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function qa(h){return h.h?1:h.g?h.g.size:0}function rl(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ha(h,v){h.g?h.g.add(v):h.h=v}function En(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}ur.prototype.cancel=function(){if(this.i=sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function sl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const w of h.g.values())v=v.concat(w.D);return v}return k(h.i)}function Bd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var v=[],w=h.length,L=0;L<w;L++)v.push(h[L]);return v}v=[],w=0;for(L in h)v[w++]=h[L];return v}function Fa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var v=[];h=h.length;for(var w=0;w<h;w++)v.push(w);return v}v=[],w=0;for(const L in h)v[w++]=L;return v}}}function al(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var w=Fa(h),L=Bd(h),$=L.length,te=0;te<$;te++)v.call(void 0,L[te],w&&w[te],h)}var Qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zd(h,v){if(h){h=h.split("&");for(var w=0;w<h.length;w++){var L=h[w].indexOf("="),$=null;if(0<=L){var te=h[w].substring(0,L);$=h[w].substring(L+1)}else te=h[w];v(te,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Ot(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ot){this.h=h.h,Ys(this,h.j),this.o=h.o,this.g=h.g,Kr(this,h.s),this.l=h.l;var v=h.i,w=new hr;w.i=v.i,v.g&&(w.g=new Map(v.g),w.h=v.h),cr(this,w),this.m=h.m}else h&&(v=String(h).match(Qs))?(this.h=!1,Ys(this,v[1]||"",!0),this.o=Kn(v[2]||""),this.g=Kn(v[3]||"",!0),Kr(this,v[4]),this.l=Kn(v[5]||"",!0),cr(this,v[6]||"",!0),this.m=Kn(v[7]||"")):(this.h=!1,this.i=new hr(null,this.h))}Ot.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Zs(v,ol,!0),":");var w=this.g;return(w||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Zs(v,ol,!0),"@"),h.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&h.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(Zs(w,w.charAt(0)=="/"?qd:ll,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",Zs(w,Ga)),h.join("")};function In(h){return new Ot(h)}function Ys(h,v,w){h.j=w?Kn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Kr(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function cr(h,v,w){v instanceof hr?(h.i=v,ec(h.i,h.h)):(w||(v=Zs(v,Hd)),h.i=new hr(v,h.h))}function ut(h,v,w){h.i.set(v,w)}function Ws(h){return ut(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Kn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Zs(h,v,w){return typeof h=="string"?(h=encodeURI(h).replace(v,Ju),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Ju(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ol=/[#\/\?@]/g,ll=/[#\?:]/g,qd=/[#\?]/g,Hd=/[#\?@]/g,Ga=/#/g;function hr(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Qn(h){h.g||(h.g=new Map,h.h=0,h.i&&zd(h.i,function(v,w){h.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}n=hr.prototype,n.add=function(h,v){Qn(this),this.i=null,h=Oi(this,h);var w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(v),this.h+=1,this};function dr(h,v){Qn(h),v=Oi(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function fr(h,v){return Qn(h),v=Oi(h,v),h.g.has(v)}n.forEach=function(h,v){Qn(this),this.g.forEach(function(w,L){w.forEach(function($){h.call(v,$,L,this)},this)},this)},n.na=function(){Qn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),w=[];for(let L=0;L<v.length;L++){const $=h[L];for(let te=0;te<$.length;te++)w.push(v[L])}return w},n.V=function(h){Qn(this);let v=[];if(typeof h=="string")fr(this,h)&&(v=v.concat(this.g.get(Oi(this,h))));else{h=Array.from(this.g.values());for(let w=0;w<h.length;w++)v=v.concat(h[w])}return v},n.set=function(h,v){return Qn(this),this.i=null,h=Oi(this,h),fr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function ul(h,v,w){dr(h,v),0<w.length&&(h.i=null,h.g.set(Oi(h,v),k(w)),h.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var w=0;w<v.length;w++){var L=v[w];const te=encodeURIComponent(String(L)),fe=this.V(L);for(L=0;L<fe.length;L++){var $=te;fe[L]!==""&&($+="="+encodeURIComponent(String(fe[L]))),h.push($)}}return this.i=h.join("&")};function Oi(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function ec(h,v){v&&!h.j&&(Qn(h),h.i=null,h.g.forEach(function(w,L){var $=L.toLowerCase();L!=$&&(dr(this,L),ul(this,$,w))},h)),h.j=v}function Xs(h,v){const w=new $n;if(f.Image){const L=new Image;L.onload=R(Yn,w,"TestLoadImage: loaded",!0,v,L),L.onerror=R(Yn,w,"TestLoadImage: error",!1,v,L),L.onabort=R(Yn,w,"TestLoadImage: abort",!1,v,L),L.ontimeout=R(Yn,w,"TestLoadImage: timeout",!1,v,L),f.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=h}else v(!1)}function di(h,v){const w=new $n,L=new AbortController,$=setTimeout(()=>{L.abort(),Yn(w,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:L.signal}).then(te=>{clearTimeout($),te.ok?Yn(w,"TestPingServer: ok",!0,v):Yn(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout($),Yn(w,"TestPingServer: error",!1,v)})}function Yn(h,v,w,L,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),L(w)}catch{}}function Js(){this.g=new Hn}function Mi(h,v,w){const L=w||"";try{al(h,function($,te){let fe=$;g($)&&(fe=dn($)),v.push(L+te+"="+encodeURIComponent(fe))})}catch($){throw v.push(L+"type="+encodeURIComponent("_badmap")),$}}function Qr(h){this.l=h.Ub||null,this.j=h.eb||!1}C(Qr,qr),Qr.prototype.g=function(){return new pr(this.l,this.j)},Qr.prototype.i=function(h){return function(){return h}}({});function pr(h,v){mt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(pr,mt),n=pr.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Ni(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Di(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ni(this)),this.g&&(this.readyState=3,Ni(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function cl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Di(this):Ni(this),this.readyState==3&&cl(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Di(this))},n.Qa=function(h){this.g&&(this.response=h,Di(this))},n.ga=function(){this.g&&Di(this)};function Di(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ni(h)}n.setRequestHeader=function(h,v){this.u.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=v.next();return h.join(`\r
`)};function Ni(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function hl(h){let v="";return W(h,function(w,L){v+=L,v+=":",v+=w,v+=`\r
`}),v}function $t(h,v,w){e:{for(L in w){var L=!1;break e}L=!0}L||(w=hl(w),typeof h=="string"?w!=null&&encodeURIComponent(String(w)):ut(h,v,w))}function st(h){mt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(st,mt);var $a=/^https?$/i,ea=["POST","PUT"];n=st.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,v,w,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ri.g(),this.v=this.o?Ci(this.o):Ci(Ri),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(te){tc(this,te);return}if(h=w||"",w=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var $ in L)w.set($,L[$]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const te of L.keys())w.set(te,L.get(te));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(w.keys()).find(te=>te.toLowerCase()=="content-type"),$=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ea,v,void 0))||L||$||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,fe]of w)this.g.setRequestHeader(te,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ta(this),this.u=!0,this.g.send(h),this.u=!1}catch(te){tc(this,te)}};function tc(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Ka(h),Pi(h)}function Ka(h){h.A||(h.A=!0,Qe(h,"complete"),Qe(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Qe(this,"complete"),Qe(this,"abort"),Pi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pi(this,!0)),st.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Qa(this):this.bb())},n.bb=function(){Qa(this)};function Qa(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Wn(h)!=4||h.Z()!=2)){if(h.u&&Wn(h)==4)Ct(h.Ea,0,h);else if(Qe(h,"readystatechange"),Wn(h)==4){h.h=!1;try{const fe=h.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var L;if(L=fe===0){var $=String(h.D).match(Qs)[1]||null;!$&&f.self&&f.self.location&&($=f.self.location.protocol.slice(0,-1)),L=!$a.test($?$.toLowerCase():"")}w=L}if(w)Qe(h,"complete"),Qe(h,"success");else{h.m=6;try{var te=2<Wn(h)?h.g.statusText:""}catch{te=""}h.l=te+" ["+h.Z()+"]",Ka(h)}}finally{Pi(h)}}}}function Pi(h,v){if(h.g){ta(h);const w=h.g,L=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Qe(h,"ready");try{w.onreadystatechange=L}catch{}}}function ta(h){h.I&&(f.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Wn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),ar(v)}};function nc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Fd(h){const v={};h=(h.g&&2<=Wn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<h.length;L++){if(z(h[L]))continue;var w=P(h[L]);const $=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const te=v[$]||[];v[$]=te,te.push(w)}M(v,function(L){return L.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function na(h,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||v}function Ya(h){this.Aa=0,this.i=[],this.j=new $n,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=na("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=na("baseRetryDelayMs",5e3,h),this.cb=na("retryDelaySeedMs",1e4,h),this.Wa=na("forwardChannelMaxRetries",2,h),this.wa=na("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new ur(h&&h.concurrentRequestLimit),this.Da=new Js,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ya.prototype,n.la=8,n.G=1,n.connect=function(h,v,w,L){rt(0),this.W=h,this.H=v||{},w&&L!==void 0&&(this.H.OSID=w,this.H.OAID=L),this.F=this.X,this.I=uc(this,null,this.W),Za(this)};function dl(h){if(ic(h),h.G==3){var v=h.U++,w=In(h.I);if(ut(w,"SID",h.K),ut(w,"RID",v),ut(w,"TYPE","terminate"),ia(h,w),v=new _n(h,h.j,v),v.L=2,v.v=Ws(In(w)),w=!1,f.navigator&&f.navigator.sendBeacon)try{w=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!w&&f.Image&&(new Image().src=v.v,w=!0),w||(v.g=cc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),$s(v)}lc(h)}function Wa(h){h.g&&(ra(h),h.g.cancel(),h.g=null)}function ic(h){Wa(h),h.u&&(f.clearTimeout(h.u),h.u=null),Xa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function Za(h){if(!za(h.h)&&!h.s){h.s=!0;var v=h.Ga;ue||j(),de||(ue(),de=!0),be.add(v,h),h.B=0}}function Gd(h,v){return qa(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=It(b(h.Ga,h,v),ml(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const $=new _n(this,this.j,h);let te=this.o;if(this.S&&(te?(te=O(te),D(te,this.S)):te=this.S),this.m!==null||this.O||($.H=te,te=null),this.P)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var L=this.i[w];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(v+=L,4096<v){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=rc(this,$,v),w=In(this.I),ut(w,"RID",h),ut(w,"CVER",22),this.D&&ut(w,"X-HTTP-Session-Id",this.D),ia(this,w),te&&(this.O?v="headers="+encodeURIComponent(String(hl(te)))+"&"+v:this.m&&$t(w,this.m,te)),Ha(this.h,$),this.Ua&&ut(w,"TYPE","init"),this.P?(ut(w,"$req",v),ut(w,"SID","null"),$.T=!0,hi($,w,null)):hi($,w,v),this.G=2}}else this.G==3&&(h?fl(this,h):this.i.length==0||za(this.h)||fl(this))};function fl(h,v){var w;v?w=v.l:w=h.U++;const L=In(h.I);ut(L,"SID",h.K),ut(L,"RID",w),ut(L,"AID",h.T),ia(h,L),h.m&&h.o&&$t(L,h.m,h.o),w=new _n(h,h.j,w,h.B+1),h.m===null&&(w.H=h.o),v&&(h.i=v.D.concat(h.i)),v=rc(h,w,1e3),w.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ha(h.h,w),hi(w,L,v)}function ia(h,v){h.H&&W(h.H,function(w,L){ut(v,L,w)}),h.l&&al({},function(w,L){ut(v,L,w)})}function rc(h,v,w){w=Math.min(h.i.length,w);var L=h.l?b(h.l.Na,h.l,h):null;e:{var $=h.i;let te=-1;for(;;){const fe=["count="+w];te==-1?0<w?(te=$[0].g,fe.push("ofs="+te)):te=0:fe.push("ofs="+te);let Ye=!0;for(let Vt=0;Vt<w;Vt++){let We=$[Vt].g;const Kt=$[Vt].map;if(We-=te,0>We)te=Math.max(0,$[Vt].g-100),Ye=!1;else try{Mi(Kt,fe,"req"+We+"_")}catch{L&&L(Kt)}}if(Ye){L=fe.join("&");break e}}}return h=h.i.splice(0,w),v.D=h,L}function sc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;ue||j(),de||(ue(),de=!0),be.add(v,h),h.v=0}}function pl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=It(b(h.Fa,h),ml(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,ac(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=It(b(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),Wa(this),ac(this))};function ra(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function ac(h){h.g=new _n(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=In(h.qa);ut(v,"RID","rpc"),ut(v,"SID",h.K),ut(v,"AID",h.T),ut(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&ut(v,"TO",h.ja),ut(v,"TYPE","xmlhttp"),ia(h,v),h.m&&h.o&&$t(v,h.m,h.o),h.L&&(h.g.I=h.L);var w=h.g;h=h.ia,w.L=1,w.v=Ws(In(v)),w.m=null,w.P=!0,lr(w,h)}n.Za=function(){this.C!=null&&(this.C=null,Wa(this),pl(this),rt(19))};function Xa(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function oc(h,v){var w=null;if(h.g==v){Xa(h),ra(h),h.g=null;var L=2}else if(rl(h.h,v))w=v.D,En(h.h,v),L=1;else return;if(h.G!=0){if(v.o)if(L==1){w=v.m?v.m.length:0,v=Date.now()-v.F;var $=h.B;L=li(),Qe(L,new Ee(L,w)),Za(h)}else sc(h);else if($=v.s,$==3||$==0&&0<v.X||!(L==1&&Gd(h,v)||L==2&&pl(h)))switch(w&&0<w.length&&(v=h.h,v.i=v.i.concat(w)),$){case 1:mr(h,5);break;case 4:mr(h,10);break;case 3:mr(h,6);break;default:mr(h,2)}}}function ml(h,v){let w=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(w*=2),w*v}function mr(h,v){if(h.j.info("Error code "+v),v==2){var w=b(h.fb,h),L=h.Xa;const $=!L;L=new Ot(L||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ys(L,"https"),Ws(L),$?Xs(L.toString(),w):di(L.toString(),w)}else rt(2);h.G=0,h.l&&h.l.sa(v),lc(h),ic(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function lc(h){if(h.G=0,h.ka=[],h.l){const v=sl(h.h);(v.length!=0||h.i.length!=0)&&(I(h.ka,v),I(h.ka,h.i),h.h.i.length=0,k(h.i),h.i.length=0),h.l.ra()}}function uc(h,v,w){var L=w instanceof Ot?In(w):new Ot(w);if(L.g!="")v&&(L.g=v+"."+L.g),Kr(L,L.s);else{var $=f.location;L=$.protocol,v=v?v+"."+$.hostname:$.hostname,$=+$.port;var te=new Ot(null);L&&Ys(te,L),v&&(te.g=v),$&&Kr(te,$),w&&(te.l=w),L=te}return w=h.D,v=h.ya,w&&v&&ut(L,w,v),ut(L,"VER",h.la),ia(h,L),L}function cc(h,v,w){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new st(new Qr({eb:w})):new st(h.pa),v.Ha(h.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function hc(){}n=hc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ja(){}Ja.prototype.g=function(h,v){return new bn(h,v)};function bn(h,v){mt.call(this),this.g=new Ya(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!z(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!z(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new ki(this)}C(bn,mt),bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){dl(this.g)},bn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.u&&(w={},w.__data__=dn(h),h=w);v.i.push(new Xu(v.Ya++,h)),v.G==3&&Za(v)},bn.prototype.N=function(){this.g.l=null,delete this.j,dl(this.g),delete this.g,bn.aa.N.call(this)};function dc(h){Gn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const w in v){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}C(dc,Gn);function fc(){Ai.call(this),this.status=1}C(fc,Ai);function ki(h){this.g=h}C(ki,hc),ki.prototype.ua=function(){Qe(this.g,"a")},ki.prototype.ta=function(h){Qe(this.g,new dc(h))},ki.prototype.sa=function(h){Qe(this.g,new fc)},ki.prototype.ra=function(){Qe(this.g,"b")},Ja.prototype.createWebChannel=Ja.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,LT=function(){return new Ja},RT=function(){return li()},xT=Ln,Em={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gr.NO_ERROR=0,Gr.TIMEOUT=8,Gr.HTTP_ERROR=6,Ih=Gr,or.COMPLETE="complete",AT=or,Hr.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",mt.prototype.listen=mt.prototype.K,hu=Hr,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,CT=st}).apply(typeof gh<"u"?gh:typeof self<"u"?self:typeof window<"u"?window:{});const Y0="@firebase/firestore",W0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new Zm("@firebase/firestore");function Lo(){return La.logLevel}function ge(n,...e){if(La.logLevel<=He.DEBUG){const t=e.map(ug);La.debug(`Firestore (${Zo}): ${n}`,...t)}}function jr(n,...e){if(La.logLevel<=He.ERROR){const t=e.map(ug);La.error(`Firestore (${Zo}): ${n}`,...t)}}function Ms(n,...e){if(La.logLevel<=He.WARN){const t=e.map(ug);La.warn(`Firestore (${Zo}): ${n}`,...t)}}function ug(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,IT(n,r,t)}function IT(n,e,t){let r=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw jr(r),new Error(r)}function at(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||IT(e,a,r)}function Ne(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends nr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(gn.UNAUTHENTICATED))}shutdown(){}}class x2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class R2{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){at(this.o===void 0,42304);let r=this.i;const a=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let l=new Ls;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ls,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},f=p=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ls)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string",31837,{l:r}),new OT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class L2{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class I2{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new L2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){at(this.o===void 0,3512);const r=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const a=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Z0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(at(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Z0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=M2(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function Ue(n,e){return n<e?-1:n>e?1:0}function bm(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),a=e.codePointAt(t);if(r!==a){if(r<128&&a<128)return Ue(r,a);{const l=MT(),c=D2(l.encode(X0(n,t)),l.encode(X0(e,t)));return c!==0?c:Ue(r,a)}}t+=r>65535?2:1}return Ue(n.length,e.length)}function X0(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function D2(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ue(n[t],e[t]);return Ue(n.length,e.length)}function zo(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="__name__";class Hi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ie(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ie(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Hi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Hi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=Hi.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Ue(e.length,t.length)}static compareSegments(e,t){const r=Hi.isNumericId(e),a=Hi.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Hi.extractNumericId(e).compare(Hi.extractNumericId(t)):bm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rs.fromString(e.substring(4,e.length-2))}}class bt extends Hi{construct(e,t,r){return new bt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new bt(t)}static emptyPath(){return new bt([])}}const N2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Hi{construct(e,t,r){return new ln(e,t,r)}static isValidIdentifier(e){return N2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J0}static keyField(){return new ln([J0])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new Te(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new Te(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Te(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(r+=f,a++):(l(),a++)}if(l(),c)throw new Te(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(t)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(bt.fromString(e))}static fromName(e){return new Ae(bt.fromString(e).popFirst(5))}static empty(){return new Ae(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return bt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new bt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(n,e,t){if(!t)throw new Te(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function k2(n,e,t,r){if(e===!0&&r===!0)throw new Te(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function eE(n){if(!Ae.isDocumentKey(n))throw new Te(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function DT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function hg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie(12329,{type:typeof n})}function Ia(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Te(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hg(n);throw new Te(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Hu(n,e){if(!DT(n))throw new Te(he.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(a&&typeof c!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new Te(he.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=-62135596800,nE=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*nE);return new gt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<tE)throw new Te(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nE}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hu(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:kt("string",gt._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new gt(0,0))}static max(){return new Me(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=-1;function j2(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Me.fromTimestamp(r===1e9?new gt(t+1,0):new gt(t,r));return new Ds(a,Ae.empty(),e)}function V2(n){return new Ds(n.readTime,n.key,Au)}class Ds{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ds(Me.min(),Ae.empty(),Au)}static max(){return new Ds(Me.max(),Ae.empty(),Au)}}function U2(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==B2)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,r)=>{t(e)})}static reject(e){return new le((t,r)=>{r(e)})}static waitFor(e){return new le((t,r)=>{let a=0,l=0,c=!1;e.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&t()},p=>r(p))}),c=!0,l===a&&t()})}static or(e){let t=le.resolve(!1);for(const r of e)t=t.next(a=>a?le.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,l)=>{r.push(t.call(this,a,l))}),this.waitFor(r)}static mapArray(e,t){return new le((r,a)=>{const l=e.length,c=new Array(l);let f=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(_=>{c[g]=_,++f,f===l&&r(c)},_=>a(_))}})}static doWhile(e,t){return new le((r,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):r()};l()})}}function q2(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Jo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}wd.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=-1;function Td(n){return n==null}function $h(n){return n===0&&1/n==-1/0}function H2(n){return typeof n=="number"&&Number.isInteger(n)&&!$h(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="";function F2(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=iE(e)),e=G2(n.get(t),e);return iE(e)}function G2(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case NT:t+="";break;default:t+=l}}return t}function iE(n){return n+NT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Bs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function PT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,t){this.comparator=e,this.root=t||on.EMPTY}insert(e,t){return new wt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vh(this.root,e,this.comparator,!0)}}class vh{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??on.RED,this.left=a??on.EMPTY,this.right=l??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new on(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return on.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,t,r,a,l){return this}insert(e,t,r){return new on(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sE(this.data.getIterator())}getIteratorFrom(e){return new sE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ft(this.comparator);return t.data=e,t}}class sE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Bn([])}unionWith(e){let t=new Ft(ln.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Bn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new kT("Invalid base64 string: "+l):l}}(e);return new un(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new un(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const $2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ns(n){if(at(!!n,39018),typeof n=="string"){let e=0;const t=$2.exec(n);if(at(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lt(n.seconds),nanos:Lt(n.nanos)}}function Lt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ps(n){return typeof n=="string"?un.fromBase64String(n):un.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="server_timestamp",VT="__type__",UT="__previous_value__",BT="__local_write_time__";function fg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[VT])===null||t===void 0?void 0:t.stringValue)===jT}function Sd(n){const e=n.mapValue.fields[UT];return fg(e)?Sd(e):e}function xu(n){const e=Ns(n.mapValue.fields[BT].timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,t,r,a,l,c,f,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Kh="(default)";class Ru{constructor(e,t){this.projectId=e,this.database=t||Kh}static empty(){return new Ru("","")}get isDefaultDatabase(){return this.database===Kh}isEqual(e){return e instanceof Ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="__type__",Q2="__max__",yh={mapValue:{}},qT="__vector__",Qh="value";function ks(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?fg(n)?4:W2(n)?9007199254740991:Y2(n)?10:11:Ie(28295,{value:n})}function Ji(n,e){if(n===e)return!0;const t=ks(n);if(t!==ks(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return xu(n).isEqual(xu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ns(a.timestampValue),f=Ns(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return Ps(a.bytesValue).isEqual(Ps(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return Lt(a.geoPointValue.latitude)===Lt(l.geoPointValue.latitude)&&Lt(a.geoPointValue.longitude)===Lt(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Lt(a.integerValue)===Lt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Lt(a.doubleValue),f=Lt(l.doubleValue);return c===f?$h(c)===$h(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return zo(n.arrayValue.values||[],e.arrayValue.values||[],Ji);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(rE(c)!==rE(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!Ji(c[p],f[p])))return!1;return!0}(n,e);default:return Ie(52216,{left:n})}}function Lu(n,e){return(n.values||[]).find(t=>Ji(t,e))!==void 0}function qo(n,e){if(n===e)return 0;const t=ks(n),r=ks(e);if(t!==r)return Ue(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return function(l,c){const f=Lt(l.integerValue||l.doubleValue),p=Lt(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return aE(n.timestampValue,e.timestampValue);case 4:return aE(xu(n),xu(e));case 5:return bm(n.stringValue,e.stringValue);case 6:return function(l,c){const f=Ps(l),p=Ps(c);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),p=c.split("/");for(let g=0;g<f.length&&g<p.length;g++){const _=Ue(f[g],p[g]);if(_!==0)return _}return Ue(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const f=Ue(Lt(l.latitude),Lt(c.latitude));return f!==0?f:Ue(Lt(l.longitude),Lt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return oE(n.arrayValue,e.arrayValue);case 10:return function(l,c){var f,p,g,_;const T=l.fields||{},b=c.fields||{},R=(f=T[Qh])===null||f===void 0?void 0:f.arrayValue,C=(p=b[Qh])===null||p===void 0?void 0:p.arrayValue,k=Ue(((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0,((_=C==null?void 0:C.values)===null||_===void 0?void 0:_.length)||0);return k!==0?k:oE(R,C)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===yh.mapValue&&c===yh.mapValue)return 0;if(l===yh.mapValue)return 1;if(c===yh.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const b=bm(p[T],_[T]);if(b!==0)return b;const R=qo(f[p[T]],g[_[T]]);if(R!==0)return R}return Ue(p.length,_.length)}(n.mapValue,e.mapValue);default:throw Ie(23264,{le:t})}}function aE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const t=Ns(n),r=Ns(e),a=Ue(t.seconds,r.seconds);return a!==0?a:Ue(t.nanos,r.nanos)}function oE(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=qo(t[a],r[a]);if(l)return l}return Ue(t.length,r.length)}function Ho(n){return wm(n)}function wm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ns(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ps(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ae.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=wm(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${wm(t.fields[c])}`;return a+"}"}(n.mapValue):Ie(61005,{value:n})}function Oh(n){switch(ks(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sd(n);return e?16+Oh(e):16;case 5:return 2*n.stringValue.length;case 6:return Ps(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+Oh(l),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return Bs(r.fields,(l,c)=>{a+=l.length+Oh(c)}),a}(n.mapValue);default:throw Ie(13486,{value:n})}}function Tm(n){return!!n&&"integerValue"in n}function pg(n){return!!n&&"arrayValue"in n}function lE(n){return!!n&&"nullValue"in n}function uE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Mh(n){return!!n&&"mapValue"in n}function Y2(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[zT])===null||t===void 0?void 0:t.stringValue)===qT}function vu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Bs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=vu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function W2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Q2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Mh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vu(t)}setAll(e){let t=ln.emptyPath(),r={},a=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,r,a),r={},a=[],t=f.popLast()}c?r[f.lastSegment()]=vu(c):a.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());Mh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ji(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Mh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Bs(t,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new xn(vu(this.value))}}function HT(n){const e=[];return Bs(n.fields,(t,r)=>{const a=new ln([t]);if(Mh(r)){const l=HT(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,t,r,a,l,c,f){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new vn(e,0,Me.min(),Me.min(),Me.min(),xn.empty(),0)}static newFoundDocument(e,t,r,a){return new vn(e,1,t,Me.min(),r,a,0)}static newNoDocument(e,t){return new vn(e,2,t,Me.min(),Me.min(),xn.empty(),0)}static newUnknownDocument(e,t){return new vn(e,3,t,Me.min(),Me.min(),xn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t){this.position=e,this.inclusive=t}}function cE(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?r=Ae.comparator(Ae.fromName(c.referenceValue),t.key):r=qo(c,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function hE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ji(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t="asc"){this.field=e,this.dir=t}}function Z2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{}class qt extends FT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new J2(e,t,r):t==="array-contains"?new nO(e,r):t==="in"?new iO(e,r):t==="not-in"?new rO(e,r):t==="array-contains-any"?new sO(e,r):new qt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new eO(e,r):new tO(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(qo(t,this.value)):t!==null&&ks(this.value)===ks(t)&&this.matchesComparison(qo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends FT{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new er(e,t)}matches(e){return GT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function GT(n){return n.op==="and"}function $T(n){return X2(n)&&GT(n)}function X2(n){for(const e of n.filters)if(e instanceof er)return!1;return!0}function Sm(n){if(n instanceof qt)return n.field.canonicalString()+n.op.toString()+Ho(n.value);if($T(n))return n.filters.map(e=>Sm(e)).join(",");{const e=n.filters.map(t=>Sm(t)).join(",");return`${n.op}(${e})`}}function KT(n,e){return n instanceof qt?function(r,a){return a instanceof qt&&r.op===a.op&&r.field.isEqual(a.field)&&Ji(r.value,a.value)}(n,e):n instanceof er?function(r,a){return a instanceof er&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,c,f)=>l&&KT(c,a.filters[f]),!0):!1}(n,e):void Ie(19439)}function QT(n){return n instanceof qt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ho(t.value)}`}(n):n instanceof er?function(t){return t.op.toString()+" {"+t.getFilters().map(QT).join(" ,")+"}"}(n):"Filter"}class J2 extends qt{constructor(e,t,r){super(e,t,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class eO extends qt{constructor(e,t){super(e,"in",t),this.keys=YT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class tO extends qt{constructor(e,t){super(e,"not-in",t),this.keys=YT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function YT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ae.fromName(r.referenceValue))}class nO extends qt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pg(t)&&Lu(t.arrayValue,this.value)}}class iO extends qt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Lu(this.value.arrayValue,t)}}class rO extends qt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Lu(this.value.arrayValue,t)}}class sO extends qt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Lu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,t=null,r=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Pe=null}}function dE(n,e=null,t=[],r=[],a=null,l=null,c=null){return new aO(n,e,t,r,a,l,c)}function mg(n){const e=Ne(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Sm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),Td(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ho(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ho(r)).join(",")),e.Pe=t}return e.Pe}function gg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Z2(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!KT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!hE(n.startAt,e.startAt)&&hE(n.endAt,e.endAt)}function Cm(n){return Ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,t=null,r=[],a=[],l=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function oO(n,e,t,r,a,l,c,f){return new Cd(n,e,t,r,a,l,c,f)}function vg(n){return new Cd(n)}function fE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function lO(n){return n.collectionGroup!==null}function yu(n){const e=Ne(n);if(e.Te===null){e.Te=[];const t=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Ft(ln.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(f=f.add(g.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Te.push(new Wh(l,r))}),t.has(ln.keyField().canonicalString())||e.Te.push(new Wh(ln.keyField(),r))}return e.Te}function Qi(n){const e=Ne(n);return e.Ie||(e.Ie=uO(e,yu(n))),e.Ie}function uO(n,e){if(n.limitType==="F")return dE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Wh(a.field,l)});const t=n.endAt?new Yh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Yh(n.startAt.position,n.startAt.inclusive):null;return dE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Am(n,e,t){return new Cd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ad(n,e){return gg(Qi(n),Qi(e))&&n.limitType===e.limitType}function WT(n){return`${mg(Qi(n))}|lt:${n.limitType}`}function Io(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>QT(a)).join(", ")}]`),Td(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>Ho(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>Ho(a)).join(",")),`Target(${r})`}(Qi(n))}; limitType=${n.limitType})`}function xd(n,e){return e.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ae.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(n,e)&&function(r,a){for(const l of yu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(r,a){return!(r.startAt&&!function(c,f,p){const g=cE(c,f,p);return c.inclusive?g<=0:g<0}(r.startAt,yu(r),a)||r.endAt&&!function(c,f,p){const g=cE(c,f,p);return c.inclusive?g>=0:g>0}(r.endAt,yu(r),a))}(n,e)}function cO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ZT(n){return(e,t)=>{let r=!1;for(const a of yu(n)){const l=hO(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function hO(n,e,t){const r=n.field.isKeyField()?Ae.comparator(e.key,t.key):function(l,c,f){const p=c.data.field(l),g=f.data.field(l);return p!==null&&g!==null?qo(p,g):Ie(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ie(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,(t,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return PT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=new wt(Ae.comparator);function Vr(){return dO}const XT=new wt(Ae.comparator);function du(...n){let e=XT;for(const t of n)e=e.insert(t.key,t);return e}function JT(n){let e=XT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ta(){return _u()}function e1(){return _u()}function _u(){return new Pa(n=>n.toString(),(n,e)=>n.isEqual(e))}const fO=new wt(Ae.comparator),pO=new Ft(Ae.comparator);function Fe(...n){let e=pO;for(const t of n)e=e.add(t);return e}const mO=new Ft(Ue);function gO(){return mO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$h(e)?"-0":e}}function t1(n){return{integerValue:""+n}}function vO(n,e){return H2(e)?t1(e):yg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(){this._=void 0}}function yO(n,e,t){return n instanceof Zh?function(a,l){const c={fields:{[VT]:{stringValue:jT},[BT]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&fg(l)&&(l=Sd(l)),l&&(c.fields[UT]=l),{mapValue:c}}(t,e):n instanceof Iu?i1(n,e):n instanceof Ou?r1(n,e):function(a,l){const c=n1(a,l),f=pE(c)+pE(a.Ee);return Tm(c)&&Tm(a.Ee)?t1(f):yg(a.serializer,f)}(n,e)}function _O(n,e,t){return n instanceof Iu?i1(n,e):n instanceof Ou?r1(n,e):t}function n1(n,e){return n instanceof Xh?function(r){return Tm(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class Zh extends Rd{}class Iu extends Rd{constructor(e){super(),this.elements=e}}function i1(n,e){const t=s1(e);for(const r of n.elements)t.some(a=>Ji(a,r))||t.push(r);return{arrayValue:{values:t}}}class Ou extends Rd{constructor(e){super(),this.elements=e}}function r1(n,e){let t=s1(e);for(const r of n.elements)t=t.filter(a=>!Ji(a,r));return{arrayValue:{values:t}}}class Xh extends Rd{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function pE(n){return Lt(n.integerValue||n.doubleValue)}function s1(n){return pg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function EO(n,e){return n.field.isEqual(e.field)&&function(r,a){return r instanceof Iu&&a instanceof Iu||r instanceof Ou&&a instanceof Ou?zo(r.elements,a.elements,Ji):r instanceof Xh&&a instanceof Xh?Ji(r.Ee,a.Ee):r instanceof Zh&&a instanceof Zh}(n.transform,e.transform)}class bO{constructor(e,t){this.version=e,this.transformResults=t}}class Yi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yi}static exists(e){return new Yi(void 0,e)}static updateTime(e){return new Yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ld{}function a1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new l1(n.key,Yi.none()):new Fu(n.key,n.data,Yi.none());{const t=n.data,r=xn.empty();let a=new Ft(ln.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new zs(n.key,r,new Bn(a.toArray()),Yi.none())}}function wO(n,e,t){n instanceof Fu?function(a,l,c){const f=a.value.clone(),p=gE(a.fieldTransforms,l,c.transformResults);f.setAll(p),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof zs?function(a,l,c){if(!Dh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=gE(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(o1(a)),p.setAll(f),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Eu(n,e,t,r){return n instanceof Fu?function(l,c,f,p){if(!Dh(l.precondition,c))return f;const g=l.value.clone(),_=vE(l.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,r):n instanceof zs?function(l,c,f,p){if(!Dh(l.precondition,c))return f;const g=vE(l.fieldTransforms,p,c),_=c.data;return _.setAll(o1(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,r):function(l,c,f){return Dh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,e,t)}function TO(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=n1(r.transform,a||null);l!=null&&(t===null&&(t=xn.empty()),t.set(r.field,l))}return t||null}function mE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&zo(r,a,(l,c)=>EO(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Fu extends Ld{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class zs extends Ld{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function o1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function gE(n,e,t){const r=new Map;at(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,f=e.data.field(l.field);r.set(l.field,_O(c,f,t[a]))}return r}function vE(n,e,t){const r=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);r.set(a.field,yO(l,c,e))}return r}class l1 extends Ld{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SO extends Ld{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&wO(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Eu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Eu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=e1();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(a.key)?null:f;const p=a1(c,f);p!==null&&r.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Me.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fe())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,(t,r)=>mE(t,r))&&zo(this.baseMutations,e.baseMutations,(t,r)=>mE(t,r))}}class _g{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){at(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let a=function(){return fO}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new _g(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Xe;function RO(n){switch(n){case he.OK:return Ie(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Ie(15467,{code:n})}}function u1(n){if(n===void 0)return jr("GRPC error has no .code"),he.UNKNOWN;switch(n){case Pt.OK:return he.OK;case Pt.CANCELLED:return he.CANCELLED;case Pt.UNKNOWN:return he.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return he.INTERNAL;case Pt.UNAVAILABLE:return he.UNAVAILABLE;case Pt.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Pt.NOT_FOUND:return he.NOT_FOUND;case Pt.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Pt.ABORTED:return he.ABORTED;case Pt.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Pt.DATA_LOSS:return he.DATA_LOSS;default:return Ie(39323,{code:n})}}(Xe=Pt||(Pt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=new Rs([4294967295,4294967295],0);function yE(n){const e=MT().encode(n),t=new ST;return t.update(e),new Uint8Array(t.digest())}function _E(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Rs([t,r],0),new Rs([a,l],0)]}class Eg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new fu(`Invalid padding: ${t}`);if(r<0)throw new fu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new fu(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Rs.fromNumber(this.fe)}pe(e,t,r){let a=e.add(t.multiply(Rs.fromNumber(r)));return a.compare(LO)===1&&(a=new Rs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=yE(e),[r,a]=_E(t);for(let l=0;l<this.hashCount;l++){const c=this.pe(r,a,l);if(!this.ye(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Eg(l,a,t);return r.forEach(f=>c.insert(f)),c}insert(e){if(this.fe===0)return;const t=yE(e),[r,a]=_E(t);for(let l=0;l<this.hashCount;l++){const c=this.pe(r,a,l);this.we(c)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Gu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Id(Me.min(),a,new wt(Ue),Vr(),Fe())}}class Gu{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Gu(r,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t,r,a){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=a}}class c1{constructor(e,t){this.targetId=e,this.De=t}}class h1{constructor(e,t,r=un.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class EE{constructor(){this.ve=0,this.Ce=bE(),this.Fe=un.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Fe(),t=Fe(),r=Fe();return this.Ce.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Ie(38017,{changeType:l})}}),new Gu(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=bE()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class IO{constructor(e){this.We=e,this.Ge=new Map,this.ze=Vr(),this.je=_h(),this.Je=_h(),this.He=new wt(Ue)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Ie(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,a)=>{this.nt(a)&&t(a)})}it(e){const t=e.targetId,r=e.De.count,a=this.st(t);if(a){const l=a.target;if(Cm(l))if(r===0){const c=new Ae(l.path);this.Xe(t,c,vn.newNoDocument(c,Me.min()))}else at(r===1,20013,{expectedCount:r});else{const c=this.ot(t);if(c!==r){const f=this._t(e),p=f?this.ut(f,e,c):1;if(p!==0){this.rt(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let c,f;try{c=Ps(r).toUint8Array()}catch(p){if(p instanceof kT)return Ms("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Eg(c,a,l)}catch(p){return Ms(p instanceof fu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.fe===0?null:f}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let a=0;return r.forEach(l=>{const c=this.We.lt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.Xe(t,l,null),a++)}),a}Pt(e){const t=new Map;this.Ge.forEach((l,c)=>{const f=this.st(c);if(f){if(l.current&&Cm(f.target)){const p=new Ae(f.target.path);this.Tt(p).has(c)||this.It(c,p)||this.Xe(c,p,vn.newNoDocument(p,e))}l.Ne&&(t.set(c,l.Le()),l.ke())}});let r=Fe();this.Je.forEach((l,c)=>{let f=!0;c.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(l))}),this.ze.forEach((l,c)=>c.setReadTime(e));const a=new Id(e,t,this.He,this.ze,r);return this.ze=Vr(),this.je=_h(),this.Je=_h(),this.He=new wt(Ue),a}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const a=this.tt(e);this.It(e,t)?a.qe(t,1):a.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new EE,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Ft(Ue),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Ft(Ue),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new EE),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function _h(){return new wt(Ae.comparator)}function bE(){return new wt(Ae.comparator)}const OO={asc:"ASCENDING",desc:"DESCENDING"},MO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DO={and:"AND",or:"OR"};class NO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xm(n,e){return n.useProto3Json||Td(e)?e:{value:e}}function Jh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function d1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function PO(n,e){return Jh(n,e.toTimestamp())}function Wi(n){return at(!!n,49232),Me.fromTimestamp(function(t){const r=Ns(t);return new gt(r.seconds,r.nanos)}(n))}function bg(n,e){return Rm(n,e).canonicalString()}function Rm(n,e){const t=function(a){return new bt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function f1(n){const e=bt.fromString(n);return at(y1(e),10190,{key:e.toString()}),e}function Lm(n,e){return bg(n.databaseId,e.path)}function Xp(n,e){const t=f1(e);if(t.get(1)!==n.databaseId.projectId)throw new Te(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Te(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ae(m1(t))}function p1(n,e){return bg(n.databaseId,e)}function kO(n){const e=f1(n);return e.length===4?bt.emptyPath():m1(e)}function Im(n){return new bt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function m1(n){return at(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function wE(n,e,t){return{name:Lm(n,e),fields:t.value.mapValue.fields}}function jO(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ie(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,_){return g.useProto3Json?(at(_===void 0||typeof _=="string",58123),un.fromBase64String(_||"")):(at(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),un.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(g){const _=g.code===void 0?he.UNKNOWN:u1(g.code);return new Te(_,g.message||"")}(c);t=new h1(r,a,l,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Xp(n,r.document.name),l=Wi(r.document.updateTime),c=r.document.createTime?Wi(r.document.createTime):Me.min(),f=new xn({mapValue:{fields:r.document.fields}}),p=vn.newFoundDocument(a,l,c,f),g=r.targetIds||[],_=r.removedTargetIds||[];t=new Nh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Xp(n,r.document),l=r.readTime?Wi(r.readTime):Me.min(),c=vn.newNoDocument(a,l),f=r.removedTargetIds||[];t=new Nh([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Xp(n,r.document),l=r.removedTargetIds||[];t=new Nh([],l,a,null)}else{if(!("filter"in e))return Ie(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new xO(a,l),f=r.targetId;t=new c1(f,c)}}return t}function VO(n,e){let t;if(e instanceof Fu)t={update:wE(n,e.key,e.value)};else if(e instanceof l1)t={delete:Lm(n,e.key)};else if(e instanceof zs)t={update:wE(n,e.key,e.data),updateMask:KO(e.fieldMask)};else{if(!(e instanceof SO))return Ie(16599,{Rt:e.type});t={verify:Lm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(l,c){const f=c.transform;if(f instanceof Zh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Iu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ou)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Xh)return{fieldPath:c.field.canonicalString(),increment:f.Ee};throw Ie(20930,{transform:c.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:PO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ie(27497)}(n,e.precondition)),t}function UO(n,e){return n&&n.length>0?(at(e!==void 0,14353),n.map(t=>function(a,l){let c=a.updateTime?Wi(a.updateTime):Wi(l);return c.isEqual(Me.min())&&(c=Wi(l)),new bO(c,a.transformResults||[])}(t,e))):[]}function BO(n,e){return{documents:[p1(n,e.path)]}}function zO(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=p1(n,a);const l=function(g){if(g.length!==0)return v1(er.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(_=>function(b){return{field:Oo(b.field),direction:FO(b.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=xm(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:t,parent:a}}function qO(n){let e=kO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){at(r===1,65062);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(T){const b=g1(T);return b instanceof er&&$T(b)?b.getFilters():[b]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(b=>function(C){return new Wh(Mo(C.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(b))}(t.orderBy));let f=null;t.limit&&(f=function(T){let b;return b=typeof T=="object"?T.value:T,Td(b)?null:b}(t.limit));let p=null;t.startAt&&(p=function(T){const b=!!T.before,R=T.values||[];return new Yh(R,b)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const b=!T.before,R=T.values||[];return new Yh(R,b)}(t.endAt)),oO(e,a,c,l,f,"F",p,g)}function HO(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function g1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Mo(t.unaryFilter.field);return qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Mo(t.unaryFilter.field);return qt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Mo(t.unaryFilter.field);return qt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Mo(t.unaryFilter.field);return qt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}}(n):n.fieldFilter!==void 0?function(t){return qt.create(Mo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return er.create(t.compositeFilter.filters.map(r=>g1(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}}(t.compositeFilter.op))}(n):Ie(30097,{filter:n})}function FO(n){return OO[n]}function GO(n){return MO[n]}function $O(n){return DO[n]}function Oo(n){return{fieldPath:n.canonicalString()}}function Mo(n){return ln.fromServerFormat(n.fieldPath)}function v1(n){return n instanceof qt?function(t){if(t.op==="=="){if(uE(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NAN"}};if(lE(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(uE(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NOT_NAN"}};if(lE(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(t.field),op:GO(t.op),value:t.value}}}(n):n instanceof er?function(t){const r=t.getFilters().map(a=>v1(a));return r.length===1?r[0]:{compositeFilter:{op:$O(t.op),filters:r}}}(n):Ie(54877,{filter:n})}function KO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function y1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,t,r,a,l=Me.min(),c=Me.min(),f=un.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.gt=e}}function YO(n){const e=qO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Am(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.Dn=new ZO}addToCollectionParentIndex(e,t){return this.Dn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(Ds.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(Ds.min())}updateCollectionGroup(e,t,r){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class ZO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Ft(bt.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Ft(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_1=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(_1,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Fo(0)}static ur(){return new Fo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="LruGarbageCollector",XO=1048576;function CE([n,e],[t,r]){const a=Ue(n,t);return a===0?Ue(e,r):a}class JO{constructor(e){this.Tr=e,this.buffer=new Ft(CE),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();CE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class eM{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ge(SE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Jo(t)?ge(SE,"Ignoring IndexedDB error during garbage collection: ",t):await Xo(t)}await this.Rr(3e5)})}}class tM{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return le.resolve(wd.ue);const r=new JO(t);return this.Vr.forEachTarget(e,a=>r.Er(a.sequenceNumber)).next(()=>this.Vr.gr(e,a=>r.Er(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(TE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TE):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,a,l,c,f,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a))).next(T=>(r=T,f=Date.now(),this.removeTargets(e,r,t))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,r))).next(T=>(g=Date.now(),Lo()<=He.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T})))}}function nM(n,e){return new tM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(){this.changes=new Pa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?le.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&Eu(r.mutation,a,Bn.empty(),gt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Fe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Fe()){const a=Ta();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(l=>{let c=du();return l.forEach((f,p)=>{c=c.insert(f,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Ta();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Fe()))}populateOverlays(e,t,r){const a=[];return r.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,r,a){let l=Vr();const c=_u(),f=function(){return _u()}();return t.forEach((p,g)=>{const _=r.get(g.key);a.has(g.key)&&(_===void 0||_.mutation instanceof zs)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),Eu(_.mutation,g,_.mutation.getFieldMask(),gt.now())):c.set(g.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,_)=>c.set(g,_)),t.forEach((g,_)=>{var T;return f.set(g,new rM(_,(T=c.get(g))!==null&&T!==void 0?T:null))}),f))}recalculateAndSaveOverlays(e,t){const r=_u();let a=new wt((c,f)=>c-f),l=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=r.get(p)||Bn.empty();_=f.applyToLocalView(g,_),r.set(p,_);const T=(a.get(f.batchId)||Fe()).add(p);a=a.insert(f.batchId,T)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),g=p.key,_=p.value,T=e1();_.forEach(b=>{if(!l.has(b)){const R=a1(t.get(b),r.get(b));R!==null&&T.set(b,R),l=l.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return le.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(c){return Ae.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):lO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):le.resolve(Ta());let f=Au,p=l;return c.next(g=>le.forEach(g,(_,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(_)?le.resolve():this.remoteDocumentCache.getEntry(e,_).next(b=>{p=p.insert(_,b)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,Fe())).next(_=>({batchId:f,changes:JT(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next(r=>{let a=du();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let c=du();return this.indexManager.getCollectionParents(e,l).next(f=>le.forEach(f,p=>{const g=function(T,b){return new Cd(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,r,a).next(_=>{_.forEach((T,b)=>{c=c.insert(T,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a))).next(c=>{l.forEach((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,vn.newInvalidDocument(_)))});let f=du();return c.forEach((p,g)=>{const _=l.get(p);_!==void 0&&Eu(_.mutation,g,Bn.empty(),gt.now()),xd(t,g)&&(f=f.insert(p,g))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return le.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Wi(a.createTime)}}(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(a){return{name:a.name,query:YO(a.bundledQuery),readTime:Wi(a.readTime)}}(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(){this.overlays=new wt(Ae.comparator),this.kr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ta();return le.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,l)=>{this.wt(e,t,l)}),le.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.kr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.kr.delete(r)),le.resolve()}getOverlaysForCollection(e,t,r){const a=Ta(),l=t.length+1,c=new Ae(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>r&&a.set(p.getKey(),p)}return le.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new wt((g,_)=>g-_);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let _=l.get(g.largestBatchId);_===null&&(_=Ta(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const f=Ta(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>f.set(g,_)),!(f.size()>=a)););return le.resolve(f)}wt(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.kr.get(a.largestBatchId).delete(r.key);this.kr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new AO(t,r));let l=this.kr.get(t);l===void 0&&(l=Fe(),this.kr.set(t,l)),this.kr.set(t,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(){this.qr=new Ft(Zt.Qr),this.$r=new Ft(Zt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new Zt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Zt(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){const t=new Ae(new bt([])),r=new Zt(t,e),a=new Zt(t,e+1),l=[];return this.$r.forEachInRange([r,a],c=>{this.Wr(c),l.push(c.key)}),l}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Ae(new bt([])),r=new Zt(t,e),a=new Zt(t,e+1);let l=Fe();return this.$r.forEachInRange([r,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Zt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Zt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Ae.comparator(e.key,t.key)||Ue(e.Hr,t.Hr)}static Ur(e,t){return Ue(e.Hr,t.Hr)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Ft(Zt.Qr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new CO(l,t,r,a);this.mutationQueue.push(c);for(const f of a)this.Yr=this.Yr.add(new Zt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return le.resolve(c)}lookupMutationBatch(e,t){return le.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Xr(r),l=a<0?0:a;return le.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?dg:this.er-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Zt(t,0),a=new Zt(t,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([r,a],c=>{const f=this.Zr(c.Hr);l.push(f)}),le.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ft(Ue);return t.forEach(a=>{const l=new Zt(a,0),c=new Zt(a,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,c],f=>{r=r.add(f.Hr)})}),le.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;Ae.isDocumentKey(l)||(l=l.child(""));const c=new Zt(new Ae(l),0);let f=new Ft(Ue);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===a&&(f=f.add(p.Hr)),!0)},c),le.resolve(this.ei(f))}ei(e){const t=[];return e.forEach(r=>{const a=this.Zr(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){at(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return le.forEach(t.mutations,a=>{const l=new Zt(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){const r=new Zt(t,0),a=this.Yr.firstAfterOrEqual(r);return le.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.ni=e,this.docs=function(){return new wt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,c=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return le.resolve(r?r.document.mutableCopy():vn.newInvalidDocument(t))}getEntries(e,t){let r=Vr();return t.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():vn.newInvalidDocument(a))}),le.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=Vr();const c=t.path,f=new Ae(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||U2(V2(_),r)<=0||(a.has(_.key)||xd(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return le.resolve(l)}getAllFromCollectionGroup(e,t,r,a){Ie(9500)}ri(e,t){return le.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new hM(this)}getSize(e){return le.resolve(this.size)}}class hM extends iM{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.Or.addEntry(e,a)):this.Or.removeEntry(r)}),le.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.persistence=e,this.ii=new Pa(t=>mg(t),gg),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.si=0,this.oi=new wg,this.targetCount=0,this._i=Fo.ar()}forEachTarget(e,t){return this.ii.forEach((r,a)=>t(a)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),le.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Fo(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.hr(t),le.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.ii.forEach((c,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.ii.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),le.waitFor(l).next(()=>a)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return le.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),le.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),le.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),le.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return le.resolve(r)}containsKey(e,t){return le.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,t){this.ai={},this.overlays={},this.ui=new wd(0),this.ci=!1,this.ci=!0,this.li=new lM,this.referenceDelegate=e(this),this.hi=new dM(this),this.indexManager=new WO,this.remoteDocumentCache=function(a){return new cM(a)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new QO(t),this.Ti=new aM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new oM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new uM(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){ge("MemoryPersistence","Starting transaction:",e);const a=new fM(this.ui.next());return this.referenceDelegate.Ii(),r(a).next(l=>this.referenceDelegate.di(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ei(e,t){return le.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}}class fM extends z2{constructor(e){super(),this.currentSequenceNumber=e}}class Tg{constructor(e){this.persistence=e,this.Ai=new wg,this.Ri=null}static Vi(e){return new Tg(e)}get mi(){if(this.Ri)return this.Ri;throw Ie(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),le.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),le.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(a=>this.mi.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.mi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.mi,r=>{const a=Ae.fromPath(r);return this.fi(e,a).next(l=>{l||t.removeEntry(a,Me.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return le.or([()=>le.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class ed{constructor(e,t){this.persistence=e,this.gi=new Pa(r=>F2(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=nM(this,t)}static Vi(e,t){return new ed(e,t)}Ii(){}di(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return le.forEach(this.gi,(r,a)=>this.Sr(e,r,a).next(l=>l?le.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ri(e,c=>this.Sr(e,c,t).next(f=>{f||(r++,l.removeEntry(c,Me.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),le.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Oh(e.data.value)),t}Sr(e,t,r){return le.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.gi.get(t);return le.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=a}static Es(e,t){let r=Fe(),a=Fe();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Sg(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return zx()?8:q2(yn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.ps(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ys(e,t,a,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new pM;return this.ws(e,t,c).next(f=>{if(l.result=f,this.Rs)return this.Ss(e,t,c,f.size)})}).next(()=>l.result)}Ss(e,t,r,a){return r.documentReadCount<this.Vs?(Lo()<=He.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Io(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),le.resolve()):(Lo()<=He.DEBUG&&ge("QueryEngine","Query:",Io(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.fs*a?(Lo()<=He.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Io(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(t))):le.resolve())}ps(e,t){if(fE(t))return le.resolve(null);let r=Qi(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Am(t,null,"F"),r=Qi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const c=Fe(...l);return this.gs.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,r).next(p=>{const g=this.bs(t,f);return this.Ds(t,g,c,p.readTime)?this.ps(e,Am(t,null,"F")):this.vs(e,g,t,p)}))})))}ys(e,t,r,a){return fE(t)||a.isEqual(Me.min())?le.resolve(null):this.gs.getDocuments(e,r).next(l=>{const c=this.bs(t,l);return this.Ds(t,c,r,a)?le.resolve(null):(Lo()<=He.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Io(t)),this.vs(e,c,t,j2(a,Au)).next(f=>f))})}bs(e,t){let r=new Ft(ZT(e));return t.forEach((a,l)=>{xd(e,l)&&(r=r.add(l))}),r}Ds(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ws(e,t,r){return Lo()<=He.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Io(t)),this.gs.getDocumentsMatchingQuery(e,t,Ds.min(),r)}vs(e,t,r,a){return this.gs.getDocumentsMatchingQuery(e,r,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="LocalStore",gM=3e8;class vM{constructor(e,t,r,a){this.persistence=e,this.Cs=t,this.serializer=a,this.Fs=new wt(Ue),this.Ms=new Pa(l=>mg(l),gg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sM(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function yM(n,e,t,r){return new vM(n,e,t,r)}async function b1(n,e){const t=Ne(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],f=[];let p=Fe();for(const g of a){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of l){f.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(r,p).next(g=>({Bs:g,removedBatchIds:c,addedBatchIds:f}))})})}function _M(n,e){const t=Ne(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=t.Os.newChangeBuffer({trackRemovals:!0});return function(f,p,g,_){const T=g.batch,b=T.keys();let R=le.resolve();return b.forEach(C=>{R=R.next(()=>_.getEntry(p,C)).next(k=>{const I=g.docVersions.get(C);at(I!==null,48541),k.version.compareTo(I)<0&&(T.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),_.addEntry(k)))})}),R.next(()=>f.mutationQueue.removeMutationBatch(p,T))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let p=Fe();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(p=p.add(f.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function w1(n){const e=Ne(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function EM(n,e){const t=Ne(n),r=e.snapshotVersion;let a=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Os.newChangeBuffer({trackRemovals:!0});a=t.Fs;const f=[];e.targetChanges.forEach((_,T)=>{const b=a.get(T);if(!b)return;f.push(t.hi.removeMatchingKeys(l,_.removedDocuments,T).next(()=>t.hi.addMatchingKeys(l,_.addedDocuments,T)));let R=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?R=R.withResumeToken(un.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):_.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(_.resumeToken,r)),a=a.insert(T,R),function(k,I,U){return k.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=gM?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(b,R,_)&&f.push(t.hi.updateTargetData(l,R))});let p=Vr(),g=Fe();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),f.push(bM(l,c,e.documentUpdates).next(_=>{p=_.Ls,g=_.ks})),!r.isEqual(Me.min())){const _=t.hi.getLastRemoteSnapshotVersion(l).next(T=>t.hi.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(_)}return le.waitFor(f).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.Fs=a,l))}function bM(n,e,t){let r=Fe(),a=Fe();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let c=Vr();return t.forEach((f,p)=>{const g=l.get(f);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(Me.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):ge(Cg,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)}),{Ls:c,ks:a}})}function wM(n,e){const t=Ne(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=dg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function TM(n,e){const t=Ne(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.hi.getTargetData(r,e).next(l=>l?(a=l,le.resolve(a)):t.hi.allocateTargetId(r).next(c=>(a=new Ss(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Fs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function Om(n,e,t){const r=Ne(n),a=r.Fs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Jo(c))throw c;ge(Cg,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(a.target)}function AE(n,e,t){const r=Ne(n);let a=Me.min(),l=Fe();return r.persistence.runTransaction("Execute query","readwrite",c=>function(p,g,_){const T=Ne(p),b=T.Ms.get(_);return b!==void 0?le.resolve(T.Fs.get(b)):T.hi.getTargetData(g,_)}(r,c,Qi(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(c,f.targetId).next(p=>{l=p})}).next(()=>r.Cs.getDocumentsMatchingQuery(c,e,t?a:Me.min(),t?l:Fe())).next(f=>(SM(r,cO(e),f),{documents:f,qs:l})))}function SM(n,e,t){let r=n.xs.get(e)||Me.min();t.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.xs.set(e,r)}class xE{constructor(){this.activeTargetIds=gO()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CM{constructor(){this.Fo=new xE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new xE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="ConnectivityMonitor";class LE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ge(RE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ge(RE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eh=null;function Mm(){return Eh===null?Eh=function(){return 268435456+Math.round(2147483648*Math.random())}():Eh++,"0x"+Eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="RestConnection",xM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RM{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${a}`,this.Ko=this.databaseId.database===Kh?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(e,t,r,a,l){const c=Mm(),f=this.Go(e,t.toUriEncodedString());ge(Jp,`Sending RPC '${e}' ${c}:`,f,r);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,a,l);const{host:g}=new URL(f),_=Da(g);return this.jo(e,f,p,r,_).then(T=>(ge(Jp,`Received RPC '${e}' ${c}: `,T),T),T=>{throw Ms(Jp,`RPC '${e}' ${c} failed with error: `,T,"url: ",f,"request:",r),T})}Jo(e,t,r,a,l,c){return this.Wo(e,t,r,a,l)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),r&&r.headers.forEach((a,l)=>e[l]=a)}Go(e,t){const r=xM[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class IM extends RM{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,a,l){const c=Mm();return new Promise((f,p)=>{const g=new CT;g.setWithCredentials(!0),g.listenOnce(AT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Ih.NO_ERROR:const T=g.getResponseJson();ge(mn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),f(T);break;case Ih.TIMEOUT:ge(mn,`RPC '${e}' ${c} timed out`),p(new Te(he.DEADLINE_EXCEEDED,"Request time out"));break;case Ih.HTTP_ERROR:const b=g.getStatus();if(ge(mn,`RPC '${e}' ${c} failed with status:`,b,"response text:",g.getResponseText()),b>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const C=R==null?void 0:R.error;if(C&&C.status&&C.message){const k=function(U){const z=U.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(z)>=0?z:he.UNKNOWN}(C.status);p(new Te(k,C.message))}else p(new Te(he.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Te(he.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{c_:e,streamId:c,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ge(mn,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(a);ge(mn,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",_,r,15)})}P_(e,t,r){const a=Mm(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=LT(),f=RT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const _=l.join("");ge(mn,`Creating RPC '${e}' stream ${a}: ${_}`,p);const T=c.createWebChannel(_,p);this.T_(T);let b=!1,R=!1;const C=new LM({Ho:I=>{R?ge(mn,`Not sending because RPC '${e}' stream ${a} is closed:`,I):(b||(ge(mn,`Opening RPC '${e}' stream ${a} transport.`),T.open(),b=!0),ge(mn,`RPC '${e}' stream ${a} sending:`,I),T.send(I))},Yo:()=>T.close()}),k=(I,U,z)=>{I.listen(U,K=>{try{z(K)}catch(F){setTimeout(()=>{throw F},0)}})};return k(T,hu.EventType.OPEN,()=>{R||(ge(mn,`RPC '${e}' stream ${a} transport opened.`),C.s_())}),k(T,hu.EventType.CLOSE,()=>{R||(R=!0,ge(mn,`RPC '${e}' stream ${a} transport closed`),C.__(),this.I_(T))}),k(T,hu.EventType.ERROR,I=>{R||(R=!0,Ms(mn,`RPC '${e}' stream ${a} transport errored. Name:`,I.name,"Message:",I.message),C.__(new Te(he.UNAVAILABLE,"The operation could not be completed")))}),k(T,hu.EventType.MESSAGE,I=>{var U;if(!R){const z=I.data[0];at(!!z,16349);const K=z,F=(K==null?void 0:K.error)||((U=K[0])===null||U===void 0?void 0:U.error);if(F){ge(mn,`RPC '${e}' stream ${a} received error:`,F);const q=F.status;let W=function(A){const D=Pt[A];if(D!==void 0)return u1(D)}(q),M=F.message;W===void 0&&(W=he.INTERNAL,M="Unknown error status: "+q+" with message "+F.message),R=!0,C.__(new Te(W,M)),T.close()}else ge(mn,`RPC '${e}' stream ${a} received:`,z),C.a_(z)}}),k(f,xT.STAT_EVENT,I=>{I.stat===Em.PROXY?ge(mn,`RPC '${e}' stream ${a} detected buffering proxy`):I.stat===Em.NOPROXY&&ge(mn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{C.o_()},0),C}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(n){return new NO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=a,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),a=Math.max(0,t-r);a>0&&ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="PersistentStream";class S1{constructor(e,t,r,a,l,c,f,p){this.Fi=e,this.w_=r,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new T1(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(jr(t.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.b_===t&&this.W_(r,a)},r=>{e(()=>{const a=new Te(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(a)})})}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(a=>{r(()=>this.G_(a))}),this.stream.onMessage(a=>{r(()=>++this.C_==1?this.j_(a):this.onNext(a))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ge(IE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(ge(IE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OM extends S1{constructor(e,t,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=jO(this.serializer,e),r=function(l){if(!("targetChange"in l))return Me.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Me.min():c.readTime?Wi(c.readTime):Me.min()}(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=Im(this.serializer),t.addTarget=function(l,c){let f;const p=c.target;if(f=Cm(p)?{documents:BO(l,p)}:{query:zO(l,p).Vt},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=d1(l,c.resumeToken);const g=xm(l,c.expectedCount);g!==null&&(f.expectedCount=g)}else if(c.snapshotVersion.compareTo(Me.min())>0){f.readTime=Jh(l,c.snapshotVersion.toTimestamp());const g=xm(l,c.expectedCount);g!==null&&(f.expectedCount=g)}return f}(this.serializer,e);const r=HO(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=Im(this.serializer),t.removeTarget=e,this.k_(t)}}class MM extends S1{constructor(e,t,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=UO(e.writeResults,e.commitTime),r=Wi(e.commitTime);return this.listener.ta(r,t)}na(){const e={};e.database=Im(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>VO(this.serializer,r))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{}class NM extends DM{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ra=!1}ia(){if(this.ra)throw new Te(he.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Wo(e,Rm(t,r),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Te(he.UNKNOWN,l.toString())})}Jo(e,t,r,a,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Jo(e,Rm(t,r),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Te(he.UNKNOWN,c.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class PM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(jr(t),this._a=!1):ge("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="RemoteStore";class kM{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo(c=>{r.enqueueAndForget(async()=>{ka(this)&&(ge(Oa,"Restarting streams for network reachability change."),await async function(p){const g=Ne(p);g.Ia.add(4),await $u(g),g.Aa.set("Unknown"),g.Ia.delete(4),await Md(g)}(this))})}),this.Aa=new PM(r,a)}}async function Md(n){if(ka(n))for(const e of n.da)await e(!0)}async function $u(n){for(const e of n.da)await e(!1)}function C1(n,e){const t=Ne(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Lg(t)?Rg(t):el(t).x_()&&xg(t,e))}function Ag(n,e){const t=Ne(n),r=el(t);t.Ta.delete(e),r.x_()&&A1(t,e),t.Ta.size===0&&(r.x_()?r.B_():ka(t)&&t.Aa.set("Unknown"))}function xg(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}el(n).H_(e)}function A1(n,e){n.Ra.$e(e),el(n).Y_(e)}function Rg(n){n.Ra=new IO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),el(n).start(),n.Aa.aa()}function Lg(n){return ka(n)&&!el(n).M_()&&n.Ta.size>0}function ka(n){return Ne(n).Ia.size===0}function x1(n){n.Ra=void 0}async function jM(n){n.Aa.set("Online")}async function VM(n){n.Ta.forEach((e,t)=>{xg(n,e)})}async function UM(n,e){x1(n),Lg(n)?(n.Aa.la(e),Rg(n)):n.Aa.set("Unknown")}async function BM(n,e,t){if(n.Aa.set("Online"),e instanceof h1&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ta.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ta.delete(f),a.Ra.removeTarget(f))}(n,e)}catch(r){ge(Oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await td(n,r)}else if(e instanceof Nh?n.Ra.Ye(e):e instanceof c1?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Me.min()))try{const r=await w1(n.localStore);t.compareTo(r)>=0&&await function(l,c){const f=l.Ra.Pt(c);return f.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.Ta.get(g);_&&l.Ta.set(g,_.withResumeToken(p.resumeToken,c))}}),f.targetMismatches.forEach((p,g)=>{const _=l.Ta.get(p);if(!_)return;l.Ta.set(p,_.withResumeToken(un.EMPTY_BYTE_STRING,_.snapshotVersion)),A1(l,p);const T=new Ss(_.target,p,g,_.sequenceNumber);xg(l,T)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(r){ge(Oa,"Failed to raise snapshot:",r),await td(n,r)}}async function td(n,e,t){if(!Jo(e))throw e;n.Ia.add(1),await $u(n),n.Aa.set("Offline"),t||(t=()=>w1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ge(Oa,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Md(n)})}function R1(n,e){return e().catch(t=>td(n,t,e))}async function Dd(n){const e=Ne(n),t=js(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:dg;for(;zM(e);)try{const a=await wM(e.localStore,r);if(a===null){e.Pa.length===0&&t.B_();break}r=a.batchId,qM(e,a)}catch(a){await td(e,a)}L1(e)&&I1(e)}function zM(n){return ka(n)&&n.Pa.length<10}function qM(n,e){n.Pa.push(e);const t=js(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function L1(n){return ka(n)&&!js(n).M_()&&n.Pa.length>0}function I1(n){js(n).start()}async function HM(n){js(n).na()}async function FM(n){const e=js(n);for(const t of n.Pa)e.X_(t.mutations)}async function GM(n,e,t){const r=n.Pa.shift(),a=_g.from(r,e,t);await R1(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Dd(n)}async function $M(n,e){e&&js(n).Z_&&await async function(r,a){if(function(c){return RO(c)&&c!==he.ABORTED}(a.code)){const l=r.Pa.shift();js(r).N_(),await R1(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Dd(r)}}(n,e),L1(n)&&I1(n)}async function OE(n,e){const t=Ne(n);t.asyncQueue.verifyOperationInProgress(),ge(Oa,"RemoteStore received new credentials");const r=ka(t);t.Ia.add(3),await $u(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Md(t)}async function KM(n,e){const t=Ne(n);e?(t.Ia.delete(2),await Md(t)):e||(t.Ia.add(2),await $u(t),t.Aa.set("Unknown"))}function el(n){return n.Va||(n.Va=function(t,r,a){const l=Ne(t);return l.ia(),new OM(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{Zo:jM.bind(null,n),e_:VM.bind(null,n),n_:UM.bind(null,n),J_:BM.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),Lg(n)?Rg(n):n.Aa.set("Unknown")):(await n.Va.stop(),x1(n))})),n.Va}function js(n){return n.ma||(n.ma=function(t,r,a){const l=Ne(t);return l.ia(),new MM(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:HM.bind(null,n),n_:$M.bind(null,n),ea:FM.bind(null,n),ta:GM.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await Dd(n)):(await n.ma.stop(),n.Pa.length>0&&(ge(Oa,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const c=Date.now()+r,f=new Ig(e,t,c,a,l);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Og(n,e){if(jr("AsyncQueue",`${e}: ${n}`),Jo(n))return new Te(he.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{static emptySet(e){return new Vo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ae.comparator(t.key,r.key):(t,r)=>Ae.comparator(t.key,r.key),this.keyedMap=du(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Vo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(){this.fa=new wt(Ae.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ie(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}}class Go{constructor(e,t,r,a,l,c,f,p,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,a,l){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new Go(e,t,Vo.emptySet(t),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class YM{constructor(){this.queries=DE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const a=Ne(t),l=a.queries;a.queries=DE(),l.forEach((c,f)=>{for(const p of f.wa)p.onError(r)})})(this,new Te(he.ABORTED,"Firestore shutting down"))}}function DE(){return new Pa(n=>WT(n),Ad)}async function WM(n,e){const t=Ne(n);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.Sa()&&e.ba()&&(r=2):(l=new QM,r=e.ba()?0:1);try{switch(r){case 0:l.ya=await t.onListen(a,!0);break;case 1:l.ya=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const f=Og(c,`Initialization of query '${Io(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.wa.push(e),e.va(t.onlineState),l.ya&&e.Ca(l.ya)&&Mg(t)}async function ZM(n,e){const t=Ne(n),r=e.query;let a=3;const l=t.queries.get(r);if(l){const c=l.wa.indexOf(e);c>=0&&(l.wa.splice(c,1),l.wa.length===0?a=e.ba()?0:1:!l.Sa()&&e.ba()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function XM(n,e){const t=Ne(n);let r=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const f of c.wa)f.Ca(a)&&(r=!0);c.ya=a}}r&&Mg(t)}function JM(n,e,t){const r=Ne(n),a=r.queries.get(e);if(a)for(const l of a.wa)l.onError(t);r.queries.delete(e)}function Mg(n){n.Da.forEach(e=>{e.next()})}var Dm,NE;(NE=Dm||(Dm={})).Fa="default",NE.Cache="cache";class eD{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Go(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Dm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this.key=e}}class M1{constructor(e){this.key=e}}class tD{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Fe(),this.mutatedKeys=Fe(),this.Xa=ZT(e),this.eu=new Vo(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new ME,a=t?t.eu:this.eu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((_,T)=>{const b=a.get(_),R=xd(this.query,T)?T:null,C=!!b&&this.mutatedKeys.has(b.key),k=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let I=!1;b&&R?b.data.isEqual(R.data)?C!==k&&(r.track({type:3,doc:R}),I=!0):this.iu(b,R)||(r.track({type:2,doc:R}),I=!0,(p&&this.Xa(R,p)>0||g&&this.Xa(R,g)<0)&&(f=!0)):!b&&R?(r.track({type:0,doc:R}),I=!0):b&&!R&&(r.track({type:1,doc:b}),I=!0,(p||g)&&(f=!0)),I&&(R?(c=c.add(R),l=k?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),r.track({type:1,doc:_})}return{eu:c,ru:r,Ds:f,mutatedKeys:l}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const c=e.ru.pa();c.sort((_,T)=>function(R,C){const k=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{At:I})}};return k(R)-k(C)}(_.type,T.type)||this.Xa(_.doc,T.doc)),this.su(r),a=a!=null&&a;const f=t&&!a?this.ou():[],p=this.Za.size===0&&this.current&&!a?1:0,g=p!==this.Ya;return this.Ya=p,c.length!==0||g?{snapshot:new Go(this.query,e.eu,l,c,e.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:f}:{_u:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new ME,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Fe(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new M1(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new O1(r))}),t}uu(e){this.Ha=e.qs,this.Za=Fe();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Go.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Dg="SyncEngine";class nD{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class iD{constructor(e){this.key=e,this.lu=!1}}class rD{constructor(e,t,r,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new Pa(f=>WT(f),Ad),this.Tu=new Map,this.Iu=new Set,this.du=new wt(Ae.comparator),this.Eu=new Map,this.Au=new wg,this.Ru={},this.Vu=new Map,this.mu=Fo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function sD(n,e,t=!0){const r=V1(n);let a;const l=r.Pu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.cu()):a=await D1(r,e,t,!0),a}async function aD(n,e){const t=V1(n);await D1(t,e,!0,!1)}async function D1(n,e,t,r){const a=await TM(n.localStore,Qi(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return r&&(f=await oD(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&C1(n.remoteStore,a),f}async function oD(n,e,t,r,a){n.gu=(T,b,R)=>async function(k,I,U,z){let K=I.view.nu(U);K.Ds&&(K=await AE(k.localStore,I.query,!1).then(({documents:M})=>I.view.nu(M,K)));const F=z&&z.targetChanges.get(I.targetId),q=z&&z.targetMismatches.get(I.targetId)!=null,W=I.view.applyChanges(K,k.isPrimaryClient,F,q);return kE(k,I.targetId,W._u),W.snapshot}(n,T,b,R);const l=await AE(n.localStore,e,!0),c=new tD(e,l.qs),f=c.nu(l.documents),p=Gu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),g=c.applyChanges(f,n.isPrimaryClient,p);kE(n,t,g._u);const _=new nD(e,t,c);return n.Pu.set(e,_),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),g.snapshot}async function lD(n,e,t){const r=Ne(n),a=r.Pu.get(e),l=r.Tu.get(a.targetId);if(l.length>1)return r.Tu.set(a.targetId,l.filter(c=>!Ad(c,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Om(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Ag(r.remoteStore,a.targetId),Nm(r,a.targetId)}).catch(Xo)):(Nm(r,a.targetId),await Om(r.localStore,a.targetId,!0))}async function uD(n,e){const t=Ne(n),r=t.Pu.get(e),a=t.Tu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ag(t.remoteStore,r.targetId))}async function cD(n,e,t){const r=vD(n);try{const a=await function(c,f){const p=Ne(c),g=gt.now(),_=f.reduce((R,C)=>R.add(C.key),Fe());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",R=>{let C=Vr(),k=Fe();return p.Os.getEntries(R,_).next(I=>{C=I,C.forEach((U,z)=>{z.isValidDocument()||(k=k.add(U))})}).next(()=>p.localDocuments.getOverlayedDocuments(R,C)).next(I=>{T=I;const U=[];for(const z of f){const K=TO(z,T.get(z.key).overlayedDocument);K!=null&&U.push(new zs(z.key,K,HT(K.value.mapValue),Yi.exists(!0)))}return p.mutationQueue.addMutationBatch(R,g,U,f)}).next(I=>{b=I;const U=I.applyToLocalDocumentSet(T,k);return p.documentOverlayCache.saveOverlays(R,I.batchId,U)})}).then(()=>({batchId:b.batchId,changes:JT(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(c,f,p){let g=c.Ru[c.currentUser.toKey()];g||(g=new wt(Ue)),g=g.insert(f,p),c.Ru[c.currentUser.toKey()]=g}(r,a.batchId,t),await Ku(r,a.changes),await Dd(r.remoteStore)}catch(a){const l=Og(a,"Failed to persist write");t.reject(l)}}async function N1(n,e){const t=Ne(n);try{const r=await EM(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Eu.get(l);c&&(at(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.lu=!0:a.modifiedDocuments.size>0?at(c.lu,14607):a.removedDocuments.size>0&&(at(c.lu,42227),c.lu=!1))}),await Ku(t,r,e)}catch(r){await Xo(r)}}function PE(n,e,t){const r=Ne(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Pu.forEach((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)}),function(c,f){const p=Ne(c);p.onlineState=f;let g=!1;p.queries.forEach((_,T)=>{for(const b of T.wa)b.va(f)&&(g=!0)}),g&&Mg(p)}(r.eventManager,e),a.length&&r.hu.J_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function hD(n,e,t){const r=Ne(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Eu.get(e),l=a&&a.key;if(l){let c=new wt(Ae.comparator);c=c.insert(l,vn.newNoDocument(l,Me.min()));const f=Fe().add(l),p=new Id(Me.min(),new Map,new wt(Ue),c,f);await N1(r,p),r.du=r.du.remove(l),r.Eu.delete(e),Ng(r)}else await Om(r.localStore,e,!1).then(()=>Nm(r,e,t)).catch(Xo)}async function dD(n,e){const t=Ne(n),r=e.batch.batchId;try{const a=await _M(t.localStore,e);k1(t,r,null),P1(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ku(t,a)}catch(a){await Xo(a)}}async function fD(n,e,t){const r=Ne(n);try{const a=await function(c,f){const p=Ne(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,f).next(T=>(at(T!==null,37113),_=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(r.localStore,e);k1(r,e,t),P1(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ku(r,a)}catch(a){await Xo(a)}}function P1(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function k1(n,e,t){const r=Ne(n);let a=r.Ru[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.Ru[r.currentUser.toKey()]=a}}function Nm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||j1(n,r)})}function j1(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Ag(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),Ng(n))}function kE(n,e,t){for(const r of t)r instanceof O1?(n.Au.addReference(r.key,e),pD(n,r)):r instanceof M1?(ge(Dg,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||j1(n,r.key)):Ie(19791,{yu:r})}function pD(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(ge(Dg,"New document in limbo: "+t),n.Iu.add(r),Ng(n))}function Ng(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new Ae(bt.fromString(e)),r=n.mu.next();n.Eu.set(r,new iD(t)),n.du=n.du.insert(t,r),C1(n.remoteStore,new Ss(Qi(vg(t.path)),r,"TargetPurposeLimboResolution",wd.ue))}}async function Ku(n,e,t){const r=Ne(n),a=[],l=[],c=[];r.Pu.isEmpty()||(r.Pu.forEach((f,p)=>{c.push(r.gu(p,e,t).then(g=>{var _;if((g||t)&&r.isPrimaryClient){const T=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){a.push(g);const T=Sg.Es(p.targetId,g);l.push(T)}}))}),await Promise.all(c),r.hu.J_(a),await async function(p,g){const _=Ne(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>le.forEach(g,b=>le.forEach(b.Is,R=>_.persistence.referenceDelegate.addReference(T,b.targetId,R)).next(()=>le.forEach(b.ds,R=>_.persistence.referenceDelegate.removeReference(T,b.targetId,R)))))}catch(T){if(!Jo(T))throw T;ge(Cg,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const R=_.Fs.get(b),C=R.snapshotVersion,k=R.withLastLimboFreeSnapshotVersion(C);_.Fs=_.Fs.insert(b,k)}}}(r.localStore,l))}async function mD(n,e){const t=Ne(n);if(!t.currentUser.isEqual(e)){ge(Dg,"User change. New user:",e.toKey());const r=await b1(t.localStore,e);t.currentUser=e,function(l,c){l.Vu.forEach(f=>{f.forEach(p=>{p.reject(new Te(he.CANCELLED,c))})}),l.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ku(t,r.Bs)}}function gD(n,e){const t=Ne(n),r=t.Eu.get(e);if(r&&r.lu)return Fe().add(r.key);{let a=Fe();const l=t.Tu.get(e);if(!l)return a;for(const c of l){const f=t.Pu.get(c);a=a.unionWith(f.view.tu)}return a}}function V1(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=N1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hD.bind(null,e),e.hu.J_=XM.bind(null,e.eventManager),e.hu.pu=JM.bind(null,e.eventManager),e}function vD(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fD.bind(null,e),e}class nd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Od(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return yM(this.persistence,new mM,e.initialUser,this.serializer)}Du(e){return new E1(Tg.Vi,this.serializer)}bu(e){return new CM}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nd.provider={build:()=>new nd};class yD extends nd{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){at(this.persistence.referenceDelegate instanceof ed,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new eM(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new E1(r=>ed.Vi(r,t),this.serializer)}}class Pm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>PE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mD.bind(null,this.syncEngine),await KM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new YM}()}createDatastore(e){const t=Od(e.databaseInfo.databaseId),r=function(l){return new IM(l)}(e.databaseInfo);return function(l,c,f,p){return new NM(l,c,f,p)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,l,c,f){return new kM(r,a,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>PE(this.syncEngine,t,0),function(){return LE.C()?new LE:new AM}())}createSyncEngine(e,t){return function(a,l,c,f,p,g,_){const T=new rD(a,l,c,f,p,g);return _&&(T.fu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Ne(a);ge(Oa,"RemoteStore shutting down."),l.Ia.add(5),await $u(l),l.Ea.shutdown(),l.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Pm.provider={build:()=>new Pm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="FirestoreClient";class ED{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=gn.UNAUTHENTICATED,this.clientId=cg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{ge(Vs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(ge(Vs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Og(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function tm(n,e){n.asyncQueue.verifyOperationInProgress(),ge(Vs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await b1(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>{Ms("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{ge("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(a=>{Ms("Terminating Firestore due to IndexedDb database deletion failed",a)})}),n._offlineComponents=e}async function jE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await bD(n);ge(Vs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>OE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>OE(e.remoteStore,a)),n._onlineComponents=e}async function bD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge(Vs,"Using user provided OfflineComponentProvider");try{await tm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===he.FAILED_PRECONDITION||a.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Ms("Error using user provided cache. Falling back to memory cache: "+t),await tm(n,new nd)}}else ge(Vs,"Using default OfflineComponentProvider"),await tm(n,new yD(void 0));return n._offlineComponents}async function U1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge(Vs,"Using user provided OnlineComponentProvider"),await jE(n,n._uninitializedComponentsProvider._online)):(ge(Vs,"Using default OnlineComponentProvider"),await jE(n,new Pm))),n._onlineComponents}function wD(n){return U1(n).then(e=>e.syncEngine)}async function TD(n){const e=await U1(n),t=e.eventManager;return t.onListen=sD.bind(null,e.syncEngine),t.onUnlisten=lD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=aD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=uD.bind(null,e.syncEngine),t}function SD(n,e,t={}){const r=new Ls;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,g){const _=new _D({next:b=>{_.Ou(),c.enqueueAndForget(()=>ZM(l,T));const R=b.docs.has(f);!R&&b.fromCache?g.reject(new Te(he.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&b.fromCache&&p&&p.source==="server"?g.reject(new Te(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new eD(vg(f.path),_,{includeMetadataChanges:!0,ka:!0});return WM(l,T)}(await TD(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="firestore.googleapis.com",UE=!0;class BE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=z1,this.ssl=UE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:UE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XO)throw new Te(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}k2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Te(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Te(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Te(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pg{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new A2;switch(r.type){case"firstParty":return new I2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=VE.get(t);r&&(ge("ComponentProvider","Removing Datastore"),VE.delete(t),r.terminate())}(this),Promise.resolve()}}function CD(n,e,t,r={}){var a;n=Ia(n,Pg);const l=Da(e),c=n._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;l&&(Ym(`https://${p}`),Wm("Firestore",!0)),c.host!==z1&&c.host!==p&&Ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:p,ssl:l,emulatorOptions:r});if(!Ca(g,f)&&(n._setSettings(g),r.mockUserToken)){let _,T;if(typeof r.mockUserToken=="string")_=r.mockUserToken,T=gn.MOCK_USER;else{_=kw(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Te(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new gn(b)}n._authCredentials=new x2(new OT(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new kg(this.firestore,e,this._query)}}class Ht{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Hu(t,Ht._jsonSchema))return new Ht(e,r||null,new Ae(bt.fromString(t.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:kt("string",Ht._jsonSchemaVersion),referencePath:kt("string")};class Mu extends kg{constructor(e,t,r){super(e,t,vg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new Ae(e))}withConverter(e){return new Mu(this.firestore,e,this._path)}}function km(n,e,...t){if(n=Xt(n),arguments.length===1&&(e=cg.newId()),P2("doc","path",e),n instanceof Pg){const r=bt.fromString(e,...t);return eE(r),new Ht(n,null,new Ae(r))}{if(!(n instanceof Ht||n instanceof Mu))throw new Te(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bt.fromString(e,...t));return eE(r),new Ht(n.firestore,n instanceof Mu?n.converter:null,new Ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="AsyncQueue";class qE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new T1(this,"async_queue_retry"),this.oc=()=>{const r=em();r&&ge(zE,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=em();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=em();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new Ls;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Jo(e))throw e;ge(zE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,jr("INTERNAL UNHANDLED ERROR: ",HE(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const a=Ig.createAndSchedule(this,e,t,r,l=>this.lc(l));return this.ec.push(a),a}ac(){this.tc&&Ie(47125,{hc:HE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function HE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Nd extends Pg{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new qE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qE(e),this._firestoreClient=void 0,await e}}}function AD(n,e){const t=typeof n=="object"?n:Jm(),r=typeof n=="string"?n:Kh,a=yd(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=Dw("firestore");l&&CD(a,...l)}return a}function q1(n){if(n._terminated)throw new Te(he.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||xD(n),n._firestoreClient}function xD(n){var e,t,r;const a=n._freezeSettings(),l=function(f,p,g,_){return new K2(f,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,B1(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new ED(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ai(un.fromBase64String(e))}catch(t){throw new Te(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ai(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hu(e,ai._jsonSchema))return ai.fromBase64String(e.bytes)}}ai._jsonSchemaVersion="firestore/bytes/1.0",ai._jsonSchema={type:kt("string",ai._jsonSchemaVersion),bytes:kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Te(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zi._jsonSchemaVersion}}static fromJSON(e){if(Hu(e,Zi._jsonSchema))return new Zi(e.latitude,e.longitude)}}Zi._jsonSchemaVersion="firestore/geoPoint/1.0",Zi._jsonSchema={type:kt("string",Zi._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hu(e,Xi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Xi(e.vectorValues);throw new Te(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xi._jsonSchemaVersion="firestore/vectorValue/1.0",Xi._jsonSchema={type:kt("string",Xi._jsonSchemaVersion),vectorValues:kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=/^__.*__$/;class LD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fu(e,this.data,t,this.fieldTransforms)}}class H1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new zs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function F1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ec:n})}}class Vg{constructor(e,t,r,a,l,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Vg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Rc({path:r,mc:!1});return a.fc(e),a}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Rc({path:r,mc:!1});return a.Ac(),a}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return id(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(F1(this.Ec)&&RD.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class ID{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Od(e)}Dc(e,t,r,a=!1){return new Vg({Ec:e,methodName:t,bc:r,path:ln.emptyPath(),mc:!1,Sc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function G1(n){const e=n._freezeSettings(),t=Od(n._databaseId);return new ID(n._databaseId,!!e.ignoreUndefinedProperties,t)}function OD(n,e,t,r,a,l={}){const c=n.Dc(l.merge||l.mergeFields?2:0,e,t,a);Ug("Data must be an object, but it was:",c,r);const f=$1(r,c);let p,g;if(l.merge)p=new Bn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const b=jm(e,T,t);if(!c.contains(b))throw new Te(he.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);Q1(_,b)||_.push(b)}p=new Bn(_),g=c.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=c.fieldTransforms;return new LD(new xn(f),p,g)}class kd extends jg{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kd}}function MD(n,e,t,r){const a=n.Dc(1,e,t);Ug("Data must be an object, but it was:",a,r);const l=[],c=xn.empty();Bs(r,(p,g)=>{const _=Bg(e,p,t);g=Xt(g);const T=a.gc(_);if(g instanceof kd)l.push(_);else{const b=jd(g,T);b!=null&&(l.push(_),c.set(_,b))}});const f=new Bn(l);return new H1(c,f,a.fieldTransforms)}function DD(n,e,t,r,a,l){const c=n.Dc(1,e,t),f=[jm(e,r,t)],p=[a];if(l.length%2!=0)throw new Te(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)f.push(jm(e,l[b])),p.push(l[b+1]);const g=[],_=xn.empty();for(let b=f.length-1;b>=0;--b)if(!Q1(g,f[b])){const R=f[b];let C=p[b];C=Xt(C);const k=c.gc(R);if(C instanceof kd)g.push(R);else{const I=jd(C,k);I!=null&&(g.push(R),_.set(R,I))}}const T=new Bn(g);return new H1(_,T,c.fieldTransforms)}function jd(n,e){if(K1(n=Xt(n)))return Ug("Unsupported field value:",e,n),$1(n,e);if(n instanceof jg)return function(r,a){if(!F1(a.Ec))throw a.wc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.wc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,a){const l=[];let c=0;for(const f of r){let p=jd(f,a.yc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(r,a){if((r=Xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vO(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=gt.fromDate(r);return{timestampValue:Jh(a.serializer,l)}}if(r instanceof gt){const l=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jh(a.serializer,l)}}if(r instanceof Zi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ai)return{bytesValue:d1(a.serializer,r._byteString)};if(r instanceof Ht){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:bg(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Xi)return function(c,f){return{mapValue:{fields:{[zT]:{stringValue:qT},[Qh]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw f.wc("VectorValues must only contain numeric values.");return yg(f.serializer,g)})}}}}}}(r,a);throw a.wc(`Unsupported field value: ${hg(r)}`)}(n,e)}function $1(n,e){const t={};return PT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(n,(r,a)=>{const l=jd(a,e.Vc(r));l!=null&&(t[r]=l)}),{mapValue:{fields:t}}}function K1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof gt||n instanceof Zi||n instanceof ai||n instanceof Ht||n instanceof jg||n instanceof Xi)}function Ug(n,e,t){if(!K1(t)||!DT(t)){const r=hg(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function jm(n,e,t){if((e=Xt(e))instanceof Pd)return e._internalPath;if(typeof e=="string")return Bg(n,e);throw id("Field path arguments must be of type string or ",n,!1,void 0,t)}const ND=new RegExp("[~\\*/\\[\\]]");function Bg(n,e,t){if(e.search(ND)>=0)throw id(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Pd(...e.split("."))._internalPath}catch{throw id(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function id(n,e,t,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${r}`),c&&(p+=` in document ${a}`),p+=")"),new Te(he.INVALID_ARGUMENT,f+n+p)}function Q1(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(W1("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class PD extends Y1{data(){return super.data()}}function W1(n,e){return typeof e=="string"?Bg(n,e):e instanceof Pd?e._internalPath:e._delegate._internalPath}class kD{convertValue(e,t="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Bs(e,(a,l)=>{r[a]=this.convertValue(l,t)}),r}convertVectorValue(e){var t,r,a;const l=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[Qh].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>Lt(c.doubleValue));return new Xi(l)}convertGeoPoint(e){return new Zi(Lt(e.latitude),Lt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Sd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(xu(e));default:return null}}convertTimestamp(e){const t=Ns(e);return new gt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=bt.fromString(e);at(y1(r),9688,{name:e});const a=new Ru(r.get(1),r.get(3)),l=new Ae(r.popFirst(5));return a.isEqual(t)||jr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class pu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sa extends Y1{constructor(e,t,r,a,l,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(W1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Sa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Sa._jsonSchema={type:kt("string",Sa._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class Ph extends Sa{data(e={}){return super.data(e)}}class bu{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new pu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ph(this._firestore,this._userDataWriter,r.key,r,new pu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Te(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const p=new Ph(a._firestore,a._userDataWriter,f.doc.key,f.doc,new pu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new Ph(a._firestore,a._userDataWriter,f.doc.key,f.doc,new pu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,_=-1;return f.type!==0&&(g=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),_=c.indexOf(f.doc.key)),{type:VD(f.type),doc:p,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function VD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(n){n=Ia(n,Ht);const e=Ia(n.firestore,Nd);return SD(q1(e),n._key).then(t=>HD(e,n,t))}bu._jsonSchemaVersion="firestore/querySnapshot/1.0",bu._jsonSchema={type:kt("string",bu._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};class BD extends kD{constructor(e){super(),this.firestore=e}convertBytes(e){return new ai(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,t)}}function zD(n,e,t){n=Ia(n,Ht);const r=Ia(n.firestore,Nd),a=jD(n.converter,e);return Z1(r,[OD(G1(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Yi.none())])}function qD(n,e,t,...r){n=Ia(n,Ht);const a=Ia(n.firestore,Nd),l=G1(a);let c;return c=typeof(e=Xt(e))=="string"||e instanceof Pd?DD(l,"updateDoc",n._key,e,t,r):MD(l,"updateDoc",n._key,e),Z1(a,[c.toMutation(n._key,Yi.exists(!0))])}function Z1(n,e){return function(r,a){const l=new Ls;return r.asyncQueue.enqueueAndForget(async()=>cD(await wD(r),a,l)),l.promise}(q1(n),e)}function HD(n,e,t){const r=t.docs.get(e._key),a=new BD(n);return new Sa(n,a,e._key,r,new pu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Zo=a})(Na),Aa(new Os("firestore",(r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new Nd(new R2(r.getProvider("auth-internal")),new O2(c,r.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Te(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ru(g.options.projectId,_)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Gi(Y0,W0,e),Gi(Y0,W0,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="firebasestorage.googleapis.com",FD="storageBucket",GD=2*60*1e3,$D=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr extends nr{constructor(e,t,r=0){super(nm(e),`Firebase Storage: ${t} (${nm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return nm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var tr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(tr||(tr={}));function nm(n){return"storage/"+n}function KD(){const n="An unknown error occurred, please check the error payload for server response.";return new rr(tr.UNKNOWN,n)}function QD(){return new rr(tr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function YD(){return new rr(tr.CANCELED,"User canceled the upload/download.")}function WD(n){return new rr(tr.INVALID_URL,"Invalid URL '"+n+"'.")}function ZD(n){return new rr(tr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function FE(n){return new rr(tr.INVALID_ARGUMENT,n)}function J1(){return new rr(tr.APP_DELETED,"The Firebase app was deleted.")}function XD(n){return new rr(tr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=vi.makeFromUrl(e,t)}catch{return new vi(e,"")}if(r.path==="")return r;throw ZD(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),p={bucket:1,path:3};function g(F){F.path_=decodeURIComponent(F.path)}const _="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",R=new RegExp(`^https?://${T}/${_}/b/${a}/o${b}`,"i"),C={bucket:1,path:3},k=t===X1?"(?:storage.googleapis.com|storage.cloud.google.com)":t,I="([^?#]*)",U=new RegExp(`^https?://${k}/${a}/${I}`,"i"),K=[{regex:f,indices:p,postModify:l},{regex:R,indices:C,postModify:g},{regex:U,indices:{bucket:1,path:2},postModify:g}];for(let F=0;F<K.length;F++){const q=K[F],W=q.regex.exec(e);if(W){const M=W[q.indices.bucket];let O=W[q.indices.path];O||(O=""),r=new vi(M,O),q.postModify(r);break}}if(r==null)throw WD(e);return r}}class JD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(n,e,t){let r=1,a=null,l=null,c=!1,f=0;function p(){return f===2}let g=!1;function _(...I){g||(g=!0,e.apply(null,I))}function T(I){a=setTimeout(()=>{a=null,n(R,p())},I)}function b(){l&&clearTimeout(l)}function R(I,...U){if(g){b();return}if(I){b(),_.call(null,I,...U);return}if(p()||c){b(),_.call(null,I,...U);return}r<64&&(r*=2);let K;f===1?(f=2,K=0):K=(r+Math.random())*1e3,T(K)}let C=!1;function k(I){C||(C=!0,b(),!g&&(a!==null?(I||(f=2),clearTimeout(a),T(0)):I||(f=1)))}return T(0),l=setTimeout(()=>{c=!0,k(!0)},t),k}function tN(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(n){return n!==void 0}function GE(n,e,t,r){if(r<e)throw FE(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw FE(`Invalid value for '${n}'. Expected ${t} or less.`)}function iN(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const a=e(r)+"="+e(n[r]);t=t+a+"&"}return t=t.slice(0,-1),t}var rd;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(rd||(rd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,t,r,a,l,c,f,p,g,_,T,b=!0,R=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=T,this.retry=b,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,k)=>{this.resolve_=C,this.reject_=k,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new bh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const p=f.loaded,g=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===rd.NO_ERROR,p=l.getStatus();if(!f||rN(p,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===rd.ABORT;r(!1,new bh(!1,null,_));return}const g=this.successCodes_.indexOf(p)!==-1;r(!0,new bh(g,l))})},t=(r,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());nN(p)?l(p):l()}catch(p){c(p)}else if(f!==null){const p=KD();p.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,p)):c(p)}else if(a.canceled){const p=this.appDelete_?J1():YD();c(p)}else{const p=QD();c(p)}};this.canceled_?t(!1,new bh(!1,null,!0)):this.backoffId_=eN(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&tN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class bh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function aN(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function oN(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function lN(n,e){e&&(n["X-Firebase-GMPID"]=e)}function uN(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function cN(n,e,t,r,a,l,c=!0,f=!1){const p=iN(n.urlParams),g=n.url+p,_=Object.assign({},n.headers);return lN(_,e),aN(_,t),oN(_,l),uN(_,r),new sN(g,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function dN(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,t){this._service=e,t instanceof vi?this._location=t:this._location=vi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new sd(e,t)}get root(){const e=new vi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dN(this._location.path)}get storage(){return this._service}get parent(){const e=hN(this._location.path);if(e===null)return null;const t=new vi(this._location.bucket,e);return new sd(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw XD(e)}}function $E(n,e){const t=e==null?void 0:e[FD];return t==null?null:vi.makeFromBucketSpec(t,n)}function fN(n,e,t,r={}){n.host=`${e}:${t}`;const a=Da(e);a&&(Ym(`https://${n.host}/b`),Wm("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=r;l&&(n._overrideAuthToken=typeof l=="string"?l:kw(l,n.app.options.projectId))}class pN{constructor(e,t,r,a,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=X1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=GD,this._maxUploadRetryTime=$D,this._requests=new Set,a!=null?this._bucket=vi.makeFromBucketSpec(a,this._host):this._bucket=$E(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vi.makeFromBucketSpec(this._url,e):this._bucket=$E(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){GE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){GE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sd(this,e)}_makeRequest(e,t,r,a,l=!0){if(this._deleted)return new JD(J1());{const c=cN(e,this._appId,r,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,a).getPromise()}}const KE="@firebase/storage",QE="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="storage";function mN(n=Jm(),e){n=Xt(n);const r=yd(n,eS).getImmediate({identifier:e}),a=Dw("storage");return a&&gN(r,...a),r}function gN(n,e,t,r={}){fN(n,e,t,r)}function vN(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new pN(t,r,a,e,Na)}function yN(){Aa(new Os(eS,vN,"PUBLIC").setMultipleInstances(!0)),Gi(KE,QE,""),Gi(KE,QE,"esm2017")}yN();const _N={apiKey:"AIzaSyAQmvtKebPux-xqc1MrxVLXVutC3x9M5M0",authDomain:"msp-trade-locator.firebaseapp.com",projectId:"msp-trade-locator",storageBucket:"msp-trade-locator.firebasestorage.app",messagingSenderId:"1097476622606",appId:"1:1097476622606:web:a4434ba33f5cdb2cd72f5f"},zg=Uw(_N),Is=S2(zg),Vm=AD(zg);mN(zg);const tS=y.createContext({user:null,loading:!0}),EN=({children:n})=>{const[e,t]=y.useState(Is.currentUser),[r,a]=y.useState(!0);return y.useEffect(()=>Is.onAuthStateChanged(async c=>{c?(await c.reload(),t(Is.currentUser)):t(null),a(!1)}),[]),E.jsx(tS.Provider,{value:{user:e,loading:r},children:n})},vs=({children:n})=>{const{user:e,loading:t}=Vd(),r=cn();return t?E.jsx("div",{children:"Loading..."}):e?e.emailVerified?E.jsx(E.Fragment,{children:n}):E.jsxs("div",{className:"container py-5 text-center",children:[E.jsx("h2",{children:"Please verify your email address"}),E.jsx("p",{children:"Check your inbox for a verification email before accessing this page."})]}):E.jsx(zA,{to:"/login",state:{from:r},replace:!0})};function Vd(){return y.useContext(tS)}const bN=({})=>{const[n,e]=y.useState(!1),{user:t,loading:r}=Vd(),a=Ma(),l=()=>{window.innerWidth<992&&e(!1)},c=async()=>{await fI(Is),a("/login")},f=t&&t.emailVerified;return r?null:E.jsx("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:E.jsxs("div",{className:"container",children:[E.jsx(Je,{className:"navbar-brand",to:"/",children:"MSP"}),E.jsx("button",{className:"navbar-toggler",type:"button","aria-controls":"main-navbar","aria-expanded":n,"aria-label":"Toggle navigation",onClick:()=>e(p=>!p),children:E.jsx("span",{className:"navbar-toggler-icon"})}),E.jsxs("div",{className:`collapse navbar-collapse${n?" show":""}`,id:"main-navbar",children:[E.jsx("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:f&&t?E.jsxs(E.Fragment,{children:[E.jsx("li",{className:"nav-item",children:E.jsx(Je,{to:"/services",className:"nav-link",onClick:l,children:"Services"})}),E.jsx("li",{className:"nav-item",children:E.jsx(Je,{to:"/carpentry",className:"nav-link",onClick:l,children:"Carpentry"})}),E.jsx("li",{className:"nav-item",children:E.jsx(Je,{to:"/electrical",className:"nav-link",onClick:l,children:"Electrical"})}),E.jsx("li",{className:"nav-item",children:E.jsx(Je,{to:"/engineering",className:"nav-link",onClick:l,children:"Engineering"})}),E.jsx("li",{className:"nav-item",children:E.jsx(Je,{to:"/garden",className:"nav-link",onClick:l,children:"Garden"})}),E.jsx("li",{className:"nav-item",children:E.jsx(Je,{to:"/masonry",className:"nav-link",onClick:l,children:"Masonry"})}),E.jsx("li",{className:"nav-item",children:E.jsx(Je,{to:"/plumbing",className:"nav-link",onClick:l,children:"Plumbing"})})]}):E.jsxs(E.Fragment,{children:[E.jsx("li",{className:"nav-item",children:E.jsx(Je,{to:"/specials",className:"nav-link",onClick:l,children:"Specials"})}),E.jsx("li",{className:"nav-item",children:E.jsx(Je,{to:"/pricing",className:"nav-link",onClick:l,children:"Pricing"})}),E.jsx("li",{className:"nav-item",children:E.jsx(Je,{to:"/faqs",className:"nav-link",onClick:l,children:"FAQs"})}),E.jsx("li",{className:"nav-item",children:E.jsx(Je,{to:"/about",className:"nav-link",onClick:l,children:"About"})}),E.jsx("li",{className:"nav-item",children:E.jsx(Je,{to:"/quote",className:"nav-link",onClick:l,children:"Instant Quote"})})]})}),E.jsx("div",{className:"d-flex",children:f?E.jsxs(E.Fragment,{children:[E.jsxs("span",{className:"navbar-text text-light me-2 d-flex align-items-center",children:[t.displayName||t.email,E.jsx(Je,{to:"/account-settings",className:"ms-2 text-light",title:"Account Settings",style:{fontSize:"1.2rem"},children:E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-gear",viewBox:"0 0 16 16",children:[E.jsx("path",{d:"M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492M5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0"}),E.jsx("path",{d:"M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115z"})]})})]}),E.jsx("button",{className:"btn btn-outline-light",onClick:c,children:"Log out"})]}):E.jsxs(E.Fragment,{children:[E.jsx(Je,{to:"/login",className:"btn btn-outline-light me-2",onClick:l,children:"Login"}),E.jsx(Je,{to:"/sign-up",className:"btn btn-warning",onClick:l,children:"Sign-Up"})]})})]})]})})},wN=({title:n,slogan:e})=>E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"p-3 bg-primary text-white text-center",children:[E.jsx("h1",{children:n}),E.jsx("p",{children:e||"Slogan goes here"})]}),E.jsx(bN,{})]}),TN=({title:n})=>E.jsxs("footer",{className:"p-4 bg-dark text-white text-center",role:"contentinfo",children:[E.jsxs("span",{children:["© ",new Date().getFullYear()," ",n]}),E.jsxs("nav",{"aria-label":"Social media",className:"d-inline-block ms-3",children:[E.jsx("a",{href:"https://twitter.com/","aria-label":"Twitter",target:"_blank",rel:"noopener noreferrer",style:{margin:"0 10px"},children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-twitter-x",viewBox:"0 0 16 16",children:E.jsx("path",{d:"M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865z"})})}),E.jsx("a",{href:"https://facebook.com/","aria-label":"Facebook",target:"_blank",rel:"noopener noreferrer",style:{margin:"0 10px"},children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-facebook",viewBox:"0 0 16 16",children:E.jsx("path",{d:"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951"})})}),E.jsx("a",{href:"https://whatsapp.com/","aria-label":"WhatsApp",target:"_blank",rel:"noopener noreferrer",style:{margin:"0 10px"},children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-whatsapp",viewBox:"0 0 16 16",children:E.jsx("path",{d:"M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.9 7.9 0 0 0 13.6 2.326zM7.994 14.521a6.6 6.6 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654s.71 1.916.81 2.049c.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232"})})}),E.jsx("a",{href:"mailto:info@example.com","aria-label":"Email",style:{margin:"0 10px"},children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-envelope",viewBox:"0 0 16 16",children:E.jsx("path",{d:"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1zm13 2.383-4.708 2.825L15 11.105zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741M1 11.105l4.708-2.897L1 5.383z"})})}),E.jsx("a",{href:"tel:+1234567890","aria-label":"Phone",style:{margin:"0 10px"},children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-telephone",viewBox:"0 0 16 16",children:E.jsx("path",{d:"M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.6 17.6 0 0 0 4.168 6.608 17.6 17.6 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.68.68 0 0 0-.58-.122l-2.19.547a1.75 1.75 0 0 1-1.657-.459L5.482 8.062a1.75 1.75 0 0 1-.46-1.657l.548-2.19a.68.68 0 0 0-.122-.58zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877z"})})})]})]}),SN=({id:n})=>E.jsxs("div",{id:n,style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[E.jsx(wN,{title:"MSP Trade Locator"}),E.jsx("div",{style:{flex:1},children:E.jsx("div",{className:"container mt-5",children:E.jsx(qA,{})})}),E.jsx(TN,{title:"Powered by MSP Software Solutions"})]}),YE=({})=>E.jsx("div",{id:"home-page",className:"container py-5",children:E.jsxs("div",{className:"text-center",children:[E.jsx("h1",{className:"mb-4",children:"Welcome to Trade Locator"}),E.jsx("p",{className:"lead mb-4",children:"This is a placeholder home page. Use the navigation menu to explore services, get instant quotes, or sign up for an account."}),E.jsxs("div",{className:"d-flex justify-content-center gap-3",children:[E.jsx("a",{href:"/trade-locator/specials",className:"btn btn-primary",children:"View Specials"}),E.jsx(Je,{to:"/quote",className:"btn btn-outline-secondary",children:"Get a Quote"})]})]})}),CN=({className:n})=>{const e=cn();return E.jsxs("div",{className:`container py-5 ${n||""}`,id:"carpentry-page",children:[E.jsx("h1",{className:"mb-4 text-center",children:"Carpentry Services"}),E.jsx("div",{className:"row mb-4",children:E.jsx("div",{className:"col-12",children:E.jsxs("div",{className:"alert alert-danger text-center",role:"alert",children:[E.jsx("strong",{children:"Emergency Carpentry Help"}),E.jsx("br",{}),"Broken door? Damaged structure? ",E.jsx("br",{}),E.jsx(Je,{to:"/services",className:"btn btn-danger mt-2",state:{fromPage:e.pathname},children:"Request Emergency Carpenter"}),E.jsx("div",{className:"mt-2 small text-muted",children:"Available 24/7 in your area"})]})})}),E.jsxs("div",{className:"row mb-4",children:[E.jsx("div",{className:"col-md-6 mb-3",children:E.jsx("div",{className:"card shadow-sm h-100",children:E.jsxs("div",{className:"card-body",children:[E.jsx("h5",{className:"card-title",children:"General Inquiries"}),E.jsx("p",{className:"card-text",children:"Need advice or want to schedule a carpentry project? Our skilled carpenters can help with repairs, installations, and custom work."}),E.jsx("button",{className:"btn btn-primary",children:"Book a Carpenter"})]})})}),E.jsx("div",{className:"col-md-6 mb-3",children:E.jsx("div",{className:"card shadow-sm h-100",children:E.jsxs("div",{className:"card-body",children:[E.jsx("h5",{className:"card-title",children:"Quote & Pricing"}),E.jsx("p",{className:"card-text",children:"Get an instant quote for your carpentry needs. Transparent pricing, no hidden fees."}),E.jsx(Je,{to:"/quote",state:{fromPage:e.pathname},className:"btn btn-outline-primary",children:"Get Instant Quote"})]})})})]}),E.jsx("div",{className:"row",children:E.jsx("div",{className:"col-12",children:E.jsx("div",{className:"card shadow-sm",children:E.jsxs("div",{className:"card-body",children:[E.jsx("h5",{className:"card-title",children:"How It Works"}),E.jsxs("ol",{children:[E.jsx("li",{children:"Choose your service (emergency, general, or quote)."}),E.jsx("li",{children:"Book instantly or request a callback."}),E.jsx("li",{children:"A qualified carpenter will be dispatched to your location."}),E.jsx("li",{children:"Track your carpenter in real-time and rate your experience!"})]})]})})})})]})},AN=({className:n})=>{const e=cn();return E.jsxs("div",{className:`container py-5 ${n||""}`,id:"plumbing-page",children:[E.jsx("h1",{className:"mb-4 text-center",children:"Plumbing Services"}),E.jsx("div",{className:"row mb-4",children:E.jsx("div",{className:"col-12",children:E.jsxs("div",{className:"alert alert-danger text-center",role:"alert",children:[E.jsx("strong",{children:"Emergency Plumbing Help"}),E.jsx("br",{}),"Burst pipe? Major leak? ",E.jsx("br",{}),E.jsx(Je,{to:"/services",className:"btn btn-danger mt-2",state:{fromPage:e.pathname},children:"Request Emergency Plumber"}),E.jsx("div",{className:"mt-2 small text-muted",children:"Available 24/7 in your area"})]})})}),E.jsxs("div",{className:"row mb-4",children:[E.jsx("div",{className:"col-md-6 mb-3",children:E.jsx("div",{className:"card shadow-sm h-100",children:E.jsxs("div",{className:"card-body",children:[E.jsx("h5",{className:"card-title",children:"General Inquiries"}),E.jsx("p",{className:"card-text",children:"Need advice or want to schedule a routine plumbing job? Our team is ready to help with installations, maintenance, and more."}),E.jsx("button",{className:"btn btn-primary",children:"Book a Plumber"})]})})}),E.jsx("div",{className:"col-md-6 mb-3",children:E.jsx("div",{className:"card shadow-sm h-100",children:E.jsxs("div",{className:"card-body",children:[E.jsx("h5",{className:"card-title",children:"Quote & Pricing"}),E.jsx("p",{className:"card-text",children:"Get an instant quote for your plumbing needs. Transparent pricing, no hidden fees."}),E.jsx(Je,{to:"/quote",state:{fromPage:e.pathname},className:"btn btn-outline-primary",children:"Get Instant Quote"})]})})})]}),E.jsx("div",{className:"row",children:E.jsx("div",{className:"col-12",children:E.jsx("div",{className:"card shadow-sm",children:E.jsxs("div",{className:"card-body",children:[E.jsx("h5",{className:"card-title",children:"How It Works"}),E.jsxs("ol",{children:[E.jsx("li",{children:"Choose your service (emergency, general, or quote)."}),E.jsx("li",{children:"Book instantly or request a callback."}),E.jsx("li",{children:"A qualified plumber will be dispatched to your location."}),E.jsx("li",{children:"Track your plumber in real-time and rate your experience!"})]})]})})})})]})},xN=({className:n})=>{const e=cn();return E.jsxs("div",{className:`container py-5 ${n||""}`,id:"masonry-page",children:[E.jsx("h1",{className:"mb-4 text-center",children:"Masonry Services"}),E.jsx("div",{className:"row mb-4",children:E.jsx("div",{className:"col-12",children:E.jsxs("div",{className:"alert alert-danger text-center",role:"alert",children:[E.jsx("strong",{children:"Emergency Masonry Help"}),E.jsx("br",{}),"Structural crack? Wall collapse? ",E.jsx("br",{}),E.jsx(Je,{to:"/services",className:"btn btn-danger mt-2",state:{fromPage:e.pathname},children:"Request Emergency Mason"}),E.jsx("div",{className:"mt-2 small text-muted",children:"Available 24/7 in your area"})]})})}),E.jsxs("div",{className:"row mb-4",children:[E.jsx("div",{className:"col-md-6 mb-3",children:E.jsx("div",{className:"card shadow-sm h-100",children:E.jsxs("div",{className:"card-body",children:[E.jsx("h5",{className:"card-title",children:"General Inquiries"}),E.jsx("p",{className:"card-text",children:"Need advice or want to schedule a masonry project? Our experts can help with repairs, installations, and more."}),E.jsx("button",{className:"btn btn-primary",children:"Book a Mason"})]})})}),E.jsx("div",{className:"col-md-6 mb-3",children:E.jsx("div",{className:"card shadow-sm h-100",children:E.jsxs("div",{className:"card-body",children:[E.jsx("h5",{className:"card-title",children:"Quote & Pricing"}),E.jsx("p",{className:"card-text",children:"Get an instant quote for your masonry needs. Transparent pricing, no hidden fees."}),E.jsx(Je,{to:"/quote",state:{fromPage:e.pathname},className:"btn btn-outline-primary",children:"Get Instant Quote"})]})})})]}),E.jsx("div",{className:"row",children:E.jsx("div",{className:"col-12",children:E.jsx("div",{className:"card shadow-sm",children:E.jsxs("div",{className:"card-body",children:[E.jsx("h5",{className:"card-title",children:"How It Works"}),E.jsxs("ol",{children:[E.jsx("li",{children:"Choose your service (emergency, general, or quote)."}),E.jsx("li",{children:"Book instantly or request a callback."}),E.jsx("li",{children:"A qualified mason will be dispatched to your location."}),E.jsx("li",{children:"Track your mason in real-time and rate your experience!"})]})]})})})})]})},RN=({className:n})=>{const e=cn();return E.jsxs("div",{className:`container py-5 ${n||""}`,id:"engineering-page",children:[E.jsx("h1",{className:"mb-4 text-center",children:"Engineering Services"}),E.jsx("div",{className:"row mb-4",children:E.jsx("div",{className:"col-12",children:E.jsxs("div",{className:"alert alert-danger text-center",role:"alert",children:[E.jsx("strong",{children:"Emergency Engineering Help"}),E.jsx("br",{}),"Structural failure? Urgent inspection needed? ",E.jsx("br",{}),E.jsx(Je,{to:"/services",className:"btn btn-danger mt-2",state:{fromPage:e.pathname},children:"Request Emergency Engineer"}),E.jsx("div",{className:"mt-2 small text-muted",children:"Available 24/7 for critical issues"})]})})}),E.jsxs("div",{className:"row mb-4",children:[E.jsx("div",{className:"col-md-6 mb-3",children:E.jsx("div",{className:"card shadow-sm h-100",children:E.jsxs("div",{className:"card-body",children:[E.jsx("h5",{className:"card-title",children:"General Inquiries"}),E.jsx("p",{className:"card-text",children:"Need advice or want to schedule an engineering consultation? Our network includes civil, structural, and mechanical engineers for assessments, reports, and project planning."}),E.jsx(Je,{to:"/quote",className:"btn btn-outline-primary",children:"Get a Quote"})]})})}),E.jsx("div",{className:"col-md-6 mb-3",children:E.jsx("div",{className:"card shadow-sm h-100",children:E.jsxs("div",{className:"card-body",children:[E.jsx("h5",{className:"card-title",children:"Quote & Pricing"}),E.jsx("p",{className:"card-text",children:"Get an instant quote for engineering services. Transparent pricing, no hidden fees."}),E.jsx(Je,{to:"/quote",state:{fromPage:e.pathname},className:"btn btn-outline-primary",children:"Get Instant Quote"})]})})})]}),E.jsx("div",{className:"row",children:E.jsx("div",{className:"col-12",children:E.jsx("div",{className:"card shadow-sm",children:E.jsxs("div",{className:"card-body",children:[E.jsx("h5",{className:"card-title",children:"How It Works"}),E.jsxs("ol",{children:[E.jsx("li",{children:"Choose your service (emergency, general, or quote)."}),E.jsx("li",{children:"Book instantly or request a callback."}),E.jsx("li",{children:"A qualified engineer will be assigned to your project or issue."}),E.jsx("li",{children:"Track your engineer and receive detailed reports and updates."})]})]})})})})]})},LN=({className:n})=>E.jsx("div",{className:n,id:"notFound-page",children:"NotFound"}),IN=({className:n})=>{const{user:e}=Vd();return E.jsxs("div",{className:`container py-5 ${n||""}`,id:"specials-page",children:[E.jsx("h1",{className:"mb-4 text-center",children:"Special Offers"}),E.jsx("p",{className:"lead text-center mb-5",children:"Check back soon for our latest deals and special offers!"}),E.jsx("div",{className:"d-flex justify-content-center",children:E.jsx("div",{className:"card shadow-sm",style:{maxWidth:400},children:E.jsxs("div",{className:"card-body text-center",children:[E.jsx("h5",{className:"card-title",children:"No specials available right now"}),E.jsx("p",{className:"card-text",children:"Sign up for our newsletter to be the first to know about new promotions."}),!e&&E.jsx(Je,{to:"/sign-up",className:"btn btn-primary",children:"Sign Up for Updates"})]})})})]})},ON=({className:n})=>E.jsxs("main",{className:`container py-5 ${n||""}`,id:"pricing-page",children:[E.jsx("h1",{className:"mb-4 text-center",children:"Pricing"}),E.jsx("p",{className:"lead text-center mb-5",children:"Transparent and competitive pricing for all our services. Please contact us for a custom quote or check back soon for updated pricing information."}),E.jsxs("section",{"aria-labelledby":"pricing-table-title",className:"mx-auto",style:{maxWidth:600},children:[E.jsx("h2",{id:"pricing-table-title",className:"h5 mb-3 text-center",children:"Services"}),E.jsxs("table",{className:"table table-bordered table-striped","aria-describedby":"pricing-table-desc",children:[E.jsx("caption",{id:"pricing-table-desc",className:"visually-hidden",children:"List of available services. Pricing will be published soon."}),E.jsx("thead",{className:"table-dark",children:E.jsxs("tr",{children:[E.jsx("th",{scope:"col",children:"Service"}),E.jsx("th",{scope:"col",children:"Pricing"})]})}),E.jsxs("tbody",{children:[E.jsxs("tr",{children:[E.jsx("td",{children:"Plumbing"}),E.jsx("td",{children:"Contact us for pricing"})]}),E.jsxs("tr",{children:[E.jsx("td",{children:"Carpentry"}),E.jsx("td",{children:"Contact us for pricing"})]}),E.jsxs("tr",{children:[E.jsx("td",{children:"Masonry"}),E.jsx("td",{children:"Contact us for pricing"})]}),E.jsxs("tr",{children:[E.jsx("td",{children:"Engineering Consultation"}),E.jsx("td",{children:"Contact us for pricing"})]})]})]})]}),E.jsx("div",{className:"text-center mt-4",children:E.jsx(Je,{to:"/quote",className:"btn btn-primary","aria-label":"Request a custom quote",children:"Request a Custom Quote"})})]}),MN=({className:n})=>{const[e,t]=y.useState(!1),r=a=>{a.preventDefault(),t(!0)};return E.jsxs("main",{className:`container py-5 ${n||""}`,id:"faqs-page",children:[E.jsx("h1",{className:"mb-4 text-center",id:"faqs-title",children:"Frequently Asked Questions"}),E.jsx("p",{className:"lead text-center mb-5",children:"Have questions? We're here to help! Check back soon for answers to our most common questions."}),E.jsx("div",{className:"d-flex justify-content-center mb-4",children:E.jsx("div",{className:"card shadow-sm",style:{maxWidth:500},children:E.jsxs("div",{className:"card-body text-center",children:[E.jsx("h2",{className:"card-title h5",children:"No FAQs available yet"}),E.jsx("p",{className:"card-text",children:"If you have a question, please contact our support team or use the form below."})]})})}),E.jsx("div",{className:"d-flex justify-content-center",children:E.jsxs("form",{className:"w-100",style:{maxWidth:500},onSubmit:r,"aria-labelledby":"faq-form-title",children:[E.jsx("h2",{className:"mb-3 text-center h5",id:"faq-form-title",children:"Submit a Question"}),E.jsxs("div",{className:"mb-3",children:[E.jsx("label",{htmlFor:"faq-name",className:"form-label",children:"Name"}),E.jsx("input",{type:"text",className:"form-control",id:"faq-name",placeholder:"Your name",required:!0,disabled:e,autoComplete:"name"})]}),E.jsxs("div",{className:"mb-3",children:[E.jsx("label",{htmlFor:"faq-email",className:"form-label",children:"Email"}),E.jsx("input",{type:"email",className:"form-control",id:"faq-email",placeholder:"Your email",required:!0,disabled:e,autoComplete:"email"})]}),E.jsxs("div",{className:"mb-3",children:[E.jsx("label",{htmlFor:"faq-question",className:"form-label",children:"Your Question"}),E.jsx("textarea",{className:"form-control",id:"faq-question",rows:3,placeholder:"Type your question here...",required:!0,disabled:e})]}),E.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:e,"aria-disabled":e,children:e?"Submitted":"Submit Question"}),E.jsx("div",{className:"mt-3","aria-live":"polite","aria-atomic":"true",children:e&&E.jsx("div",{className:"alert alert-success",role:"alert",children:"Thank you! Your question has been submitted."})})]})})]})},DN=({className:n})=>E.jsxs("main",{className:`container py-5 ${n||""}`,id:"about-page",children:[E.jsx("h1",{className:"mb-4 text-center",children:"About Us"}),E.jsx("p",{className:"lead text-center mb-4",children:"We provide world-class services at your fingertips, bringing comfort and convenience to your home."}),E.jsx("div",{className:"text-center",children:E.jsx("div",{style:{width:120,height:120,background:"#e9ecef",borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",color:"#6c757d",marginBottom:"1rem"},"aria-label":"Team photo placeholder",children:E.jsx("span",{children:"Our Team"})})}),E.jsxs("section",{className:"mx-auto",style:{maxWidth:600},children:[E.jsx("p",{children:"At Trade Locator, our mission is to connect you with trusted professionals for all your home and business needs. Whether you need plumbing, carpentry, masonry, or engineering services, our platform makes it easy to find and book the right expert."}),E.jsx("p",{children:"We are committed to quality, transparency, and customer satisfaction. Thank you for choosing us!"})]})]}),Fi=({id:n,label:e,type:t,placeholder:r,value:a,onChange:l,autoComplete:c,disabled:f})=>E.jsxs("div",{className:"w-100",children:[E.jsx("label",{htmlFor:n,className:"form-label",children:e}),E.jsx("input",{id:n,className:"form-control",type:t,placeholder:r,value:a,onChange:l,autoComplete:c,disabled:f})]}),NN=({className:n})=>{var T;const[e,t]=y.useState(null),r=y.useRef(null),a=cn(),l=["application/pdf","image/png","image/jpeg","image/gif","image/webp"],c=5*1024*1024,f=((T=a.state)==null?void 0:T.fromPage)||document.referrer||a.pathname,[p,g]=y.useState(f&&f!=="/quote"?`[From: ${f}] `:""),_=b=>{var C;const R=(C=b.target.files)==null?void 0:C[0];if(R){if(!l.includes(R.type)){alert("Only PDF and image files are allowed."),b.target.value="",t(null);return}if(R.size>c){alert("File is too large. Maximum size is 5MB."),b.target.value="",t(null);return}t(R.name)}else t(null)};return E.jsxs("div",{className:`container py-5 ${n||""}`,id:"quote-page",children:[E.jsx("h1",{className:"mb-4 text-center",children:"Get an Instant Quote"}),E.jsx("p",{className:"lead text-center mb-5",children:"Fill out the form below and we’ll get back to you with a personalized quote as soon as possible."}),E.jsxs("form",{className:"mx-auto",style:{maxWidth:400},children:[E.jsx("div",{className:"mb-3",children:E.jsx(Fi,{id:"name",label:"Your Name",type:"text",placeholder:"Enter your name",value:"",onChange:()=>{},autoComplete:"name",disabled:!0})}),E.jsx("div",{className:"mb-3",children:E.jsx(Fi,{id:"email",label:"Email address",type:"email",placeholder:"Enter your email",value:"",onChange:()=>{},autoComplete:"email",disabled:!0})}),E.jsxs("div",{className:"mb-3",children:[E.jsx("label",{htmlFor:"details",className:"form-label",children:"Project Details"}),E.jsx("textarea",{className:"form-control",id:"details",rows:3,placeholder:"Describe your project",value:p,onChange:b=>g(b.target.value),disabled:!0})]}),E.jsxs("div",{className:"mb-3",children:[E.jsx("label",{htmlFor:"file",className:"form-label",children:"Attach PDF or Image"}),E.jsx("input",{type:"file",className:"form-control",id:"file",ref:r,accept:".pdf,image/*",onChange:_,disabled:!0}),e&&E.jsxs("div",{className:"form-text",children:["Selected file: ",e]})]}),E.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:!0,children:"Submit (Coming Soon)"})]})]})};function im(n){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)}function rm(n){return n.length>=8&&/[A-Za-z]/.test(n)&&/\d/.test(n)}const PN=({className:n})=>{const[e,t]=y.useState(""),[r,a]=y.useState(""),[l,c]=y.useState(""),[f,p]=y.useState(""),[g,_]=y.useState(!1),[T,b]=y.useState(!1),[R,C]=y.useState(!1),[k,I]=y.useState(null),U=y.useRef(null),z=Ma(),K=async q=>{q.preventDefault(),I(null);const W=l===f&&l.length>0,M=im(r),O=rm(l);if(!W||!M||!O){M||b(!0),O||C(!0);return}try{const D=(await oI(Is,r,l)).user;await cI(D,{displayName:e}),await fT(D),alert("A verification email has been sent to your email address. Please verify your email before logging in."),await zD(km(Vm,"users",D.uid),{email:D.email,displayName:e,createdAt:new Date}),z("/login")}catch(A){A.code==="auth/email-already-in-use"?I("This email address is already in use. Please use a different email or log in."):I(A.message||"Sign up failed. Please try again."),console.error(A)}},F=()=>{t(""),a(""),c(""),p(""),b(!1),C(!1),setTimeout(()=>{var q;(q=U.current)==null||q.focus()},0)};return E.jsx("div",{className:`d-flex justify-content-center align-items-center ${n||""}`,id:"sign-up-page",style:{minHeight:"300px"},children:E.jsxs("form",{onSubmit:K,className:"d-flex flex-column align-items-center gap-3 bg-light p-4 rounded shadow",style:{minWidth:340,width:370,maxWidth:"100%"},"aria-labelledby":"signup-title",children:[E.jsx("h2",{id:"signup-title",className:"mb-3",children:"Sign Up"}),E.jsx(Fi,{id:"username",label:"Username",type:"text",placeholder:"Username",value:e,onChange:q=>t(q.target.value),autoComplete:"username"}),E.jsx(Fi,{id:"email",label:"Email",type:"email",placeholder:"Email",value:r,onChange:q=>a(q.target.value),autoComplete:"email"}),T&&!im(r)&&E.jsx("div",{id:"email-error",className:"text-danger small w-100 text-start","aria-live":"polite",children:"Please enter a valid email address."}),E.jsx(Fi,{id:"password",label:"Password",type:g?"text":"password",placeholder:"Password",value:l,onChange:q=>c(q.target.value),autoComplete:"new-password"}),R&&!rm(l)&&E.jsx("div",{id:"password-error",className:"text-danger small w-100 text-start","aria-live":"polite",children:"Password must be at least 8 characters and contain both a letter and a number."}),E.jsx(Fi,{id:"confirm-password",label:"Confirm Password",type:g?"text":"password",placeholder:"Confirm Password",value:f,onChange:q=>p(q.target.value),autoComplete:"new-password"}),l!==f&&f.length>0&&E.jsx("div",{className:"text-danger small w-100 text-start","aria-live":"polite",children:"Passwords do not match"}),k&&E.jsx("div",{className:"text-danger small w-100 text-center mb-2","aria-live":"polite",children:k}),E.jsxs("div",{className:"d-flex w-100 gap-2 mt-2",children:[E.jsx("button",{className:"btn btn-primary flex-grow-1",type:"submit",disabled:l!==f||!im(r)||!rm(l),children:"Sign Up"}),E.jsx("button",{type:"button",className:"btn btn-light px-2",title:"Clear",onClick:F,style:{fontSize:"1.2rem",lineHeight:1},"aria-label":"Clear all fields",children:"×"})]})]})})};function WE(n){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)}const kN=({className:n,placeholder1:e="Username",placeholder2:t="Password",type1:r="text",type2:a="password",button1Label:l="Login",button2Label:c="Cancel",onSubmit:f})=>{const[p,g]=y.useState(""),[_,T]=y.useState(""),[b,R]=y.useState(!1),[C,k]=y.useState(null),[I,U]=y.useState(null),[z,K]=y.useState(!1),[F,q]=y.useState(""),W=Ma(),M=async A=>{if(A.preventDefault(),k(null),!p||!_){k("Please fill in both fields.");return}if(r==="email"&&!WE(p)){k("Please enter a valid email address.");return}R(!0);try{const D=await lI(Is,p,_),P=D.user;if(await P.reload(),!P.emailVerified){await fT(P),k("Please verify your email address. We've sent you a new verification email.");return}f&&f(p,_),localStorage.setItem("loginTimestamp",Date.now().toString()),W("/",{state:{userEmail:D.user.email}}),console.log("Login successful:",P)}catch(D){k(D.message||"Login failed"),console.log("Login failed:",D)}finally{R(!1)}},O=async A=>{if(A.preventDefault(),U(null),k(null),!F||!WE(F)){k("Please enter a valid email address to reset your password.");return}R(!0);try{await aI(Is,F),U("A password reset email has been sent. Please check your inbox."),setTimeout(()=>{K(!1),U(null),k(null),q("")},2e3)}catch(D){k(D.message||"Failed to send password reset email.")}finally{R(!1)}};return E.jsx("div",{className:`inputbox-container d-flex justify-content-center align-items-center ${n||""}`,style:{minHeight:"300px"},children:z?E.jsxs("form",{className:"d-flex flex-column align-items-center gap-3 bg-light p-4 rounded shadow",style:{minWidth:300},onSubmit:O,children:[E.jsx("h2",{className:"mb-3",children:"Reset Password"}),E.jsx(Fi,{id:"reset-email",label:"Email for password reset",type:"email",placeholder:"Enter your email",value:F,onChange:A=>q(A.target.value),autoComplete:"email",disabled:!!I}),C&&E.jsx("div",{className:"text-danger small w-100 text-center","aria-live":"polite",children:C}),I&&E.jsx("div",{className:"text-success small w-100 text-center","aria-live":"polite",children:I}),E.jsx("button",{className:"btn btn-secondary w-100 mt-2",type:"submit",disabled:b||!!I,children:b?"Sending...":"Send Password Reset Email"}),E.jsx("button",{type:"button",className:"btn btn-link p-0 small",style:{textDecoration:"underline"},onClick:()=>{K(!1),U(null),k(null)},children:"Back to Login"})]}):E.jsxs("form",{onSubmit:M,className:"d-flex flex-column align-items-center gap-3 bg-light p-4 rounded shadow",style:{minWidth:300},"aria-labelledby":"login-title",children:[E.jsx("h2",{id:"login-title",className:"mb-3",children:"Login"}),E.jsx(Fi,{id:"login-username",label:r==="email"?"Email":"Username",type:r,placeholder:e,value:p,onChange:A=>g(A.target.value),autoComplete:"username"}),E.jsx(Fi,{id:"login-password",label:"Password",type:a,placeholder:t,value:_,onChange:A=>T(A.target.value),autoComplete:"current-password"}),C&&E.jsx("div",{className:"text-danger small w-100 text-center","aria-live":"polite",children:C}),I&&E.jsx("div",{className:"text-success small w-100 text-center","aria-live":"polite",children:I}),E.jsxs("div",{className:"d-flex gap-2 w-100 justify-content-center",children:[E.jsx("button",{className:"btn btn-primary",type:"submit",disabled:b,children:b?"Logging in...":l}),E.jsx("button",{className:"btn btn-warning",type:"button",disabled:b,children:c})]}),E.jsx("div",{className:"w-100 text-end",children:E.jsx("button",{type:"button",className:"btn btn-link p-0 small",style:{textDecoration:"underline"},onClick:()=>K(!0),tabIndex:0,children:"Forgot password?"})})]})})},jN=()=>{const{user:n}=Vd(),[e,t]=y.useState(""),[r,a]=y.useState(!0),[l,c]=y.useState(null),[f,p]=y.useState(null),g=Ma();y.useEffect(()=>{n&&(async()=>{try{const b=await UD(km(Vm,"users",n.uid));b.exists()&&t(b.data().displayName||"")}catch{p("Failed to load user data.")}finally{a(!1)}})()},[n]);const _=async T=>{if(T.preventDefault(),p(null),c(null),!!n)try{await qD(km(Vm,"users",n.uid),{displayName:e}),c("Profile updated!"),setTimeout(()=>{g("/")},1200)}catch{p("Failed to update profile.")}};return r?E.jsx("div",{children:"Loading..."}):E.jsxs("div",{className:"container py-5",style:{maxWidth:500},children:[E.jsx("h2",{className:"mb-4",children:"Account Settings"}),E.jsxs("form",{onSubmit:_,children:[E.jsx(Fi,{id:"displayName",label:"Display Name",type:"text",placeholder:"Enter your display name",value:e,onChange:T=>t(T.target.value)}),E.jsx("button",{className:"btn btn-primary mt-3",type:"submit",children:"Save Changes"}),l&&E.jsx("div",{className:"alert alert-success mt-3",children:l}),f&&E.jsx("div",{className:"alert alert-danger mt-3",children:f})]})]})},VN=({className:n})=>{const e=cn();return E.jsxs("div",{className:`container py-5 ${n||""}`,id:"electrical-page",children:[E.jsx("h1",{className:"mb-4 text-center",children:"Electrical Services"}),E.jsx("div",{className:"row mb-4",children:E.jsx("div",{className:"col-12",children:E.jsxs("div",{className:"alert alert-danger text-center",role:"alert",children:[E.jsx("strong",{children:"Emergency Electrical Help"}),E.jsx("br",{}),"Power outage? Exposed wires? Electrical fire risk?",E.jsx("br",{}),E.jsx(Je,{to:"/services",className:"btn btn-danger mt-2",state:{fromPage:e.pathname},children:"Request Emergency Electrician"}),E.jsx("div",{className:"mt-2 small text-muted",children:"Available 24/7 for urgent electrical issues"})]})})}),E.jsxs("div",{className:"row mb-4",children:[E.jsx("div",{className:"col-md-6 mb-3",children:E.jsx("div",{className:"card shadow-sm h-100",children:E.jsxs("div",{className:"card-body",children:[E.jsx("h5",{className:"card-title",children:"General Inquiries"}),E.jsx("p",{className:"card-text",children:"Need help with installations, repairs, or upgrades? Our certified electricians can assist with lighting, wiring, and more."}),E.jsx("button",{className:"btn btn-primary",children:"Book an Electrician"})]})})}),E.jsx("div",{className:"col-md-6 mb-3",children:E.jsx("div",{className:"card shadow-sm h-100",children:E.jsxs("div",{className:"card-body",children:[E.jsx("h5",{className:"card-title",children:"Quote & Pricing"}),E.jsx("p",{className:"card-text",children:"Get an instant quote for your electrical needs. Transparent pricing, no hidden fees."}),E.jsx(Je,{to:"/quote",state:{fromPage:e.pathname},className:"btn btn-outline-primary",children:"Get Instant Quote"})]})})})]}),E.jsx("div",{className:"row",children:E.jsx("div",{className:"col-12",children:E.jsx("div",{className:"card shadow-sm",children:E.jsxs("div",{className:"card-body",children:[E.jsx("h5",{className:"card-title",children:"How It Works"}),E.jsxs("ol",{children:[E.jsx("li",{children:"Choose your service (emergency, general, or quote)."}),E.jsx("li",{children:"Book instantly or request a callback."}),E.jsx("li",{children:"A qualified electrician will be dispatched to your location."}),E.jsx("li",{children:"Track your electrician in real-time and rate your experience!"})]})]})})})})]})},UN=({className:n})=>{const e=cn();return E.jsxs("div",{className:`container py-5 ${n||""}`,id:"garden-page",children:[E.jsx("h1",{className:"mb-4 text-center",children:"Garden & Landscaping Services"}),E.jsx("div",{className:"row mb-4",children:E.jsx("div",{className:"col-12",children:E.jsxs("div",{className:"alert alert-success text-center",role:"alert",children:[E.jsx("strong",{children:"Need Urgent Garden Help?"}),E.jsx("br",{}),"Storm damage? Fallen tree? Broken irrigation?",E.jsx("br",{}),E.jsx(Je,{to:"/services",className:"btn btn-danger mt-2",state:{fromPage:e.pathname},children:"Request Emergency Gardener"}),E.jsx("div",{className:"mt-2 small text-muted",children:"Available 7 days a week for urgent garden issues"})]})})}),E.jsxs("div",{className:"row mb-4",children:[E.jsx("div",{className:"col-md-6 mb-3",children:E.jsx("div",{className:"card shadow-sm h-100",children:E.jsxs("div",{className:"card-body",children:[E.jsx("h5",{className:"card-title",children:"General Inquiries"}),E.jsx("p",{className:"card-text",children:"Need regular maintenance, landscaping, or advice? Our gardeners can help with mowing, planting, design, and more."}),E.jsx("button",{className:"btn btn-primary",children:"Book a Gardener"})]})})}),E.jsx("div",{className:"col-md-6 mb-3",children:E.jsx("div",{className:"card shadow-sm h-100",children:E.jsxs("div",{className:"card-body",children:[E.jsx("h5",{className:"card-title",children:"Quote & Pricing"}),E.jsx("p",{className:"card-text",children:"Get an instant quote for your garden or landscaping project. Transparent pricing, no hidden fees."}),E.jsx(Je,{to:"/quote",state:{fromPage:e.pathname},className:"btn btn-outline-primary",children:"Get Instant Quote"})]})})})]}),E.jsx("div",{className:"row",children:E.jsx("div",{className:"col-12",children:E.jsx("div",{className:"card shadow-sm",children:E.jsxs("div",{className:"card-body",children:[E.jsx("h5",{className:"card-title",children:"How It Works"}),E.jsxs("ol",{children:[E.jsx("li",{children:"Choose your service (emergency, general, or quote)."}),E.jsx("li",{children:"Book instantly or request a callback."}),E.jsx("li",{children:"A qualified gardener will be dispatched to your location."}),E.jsx("li",{children:"Track your gardener in real-time and rate your experience!"})]})]})})})})]})},nS=y.createContext({location:null,setLocation:()=>{},locationError:null}),BN=()=>y.useContext(nS),zN=({children:n})=>{const[e,t]=y.useState(null),[r,a]=y.useState(null);return y.useEffect(()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition(l=>{t({lat:l.coords.latitude,lng:l.coords.longitude}),a(null)},l=>{a("Location access is required to use this app. Please enable location services in your browser."),t(null)}):a("Geolocation is not supported in this browser.")},[]),r||!e?E.jsxs("div",{style:{minHeight:"100vh"},className:"d-flex flex-column justify-content-center align-items-center bg-light",children:[E.jsx("h2",{children:"Location Required"}),E.jsx("p",{children:r||"Waiting for location..."}),E.jsx("button",{className:"btn btn-primary mt-3",onClick:()=>window.location.reload(),children:"Retry"})]}):E.jsx(nS.Provider,{value:{location:e,setLocation:t,locationError:r},children:n})};function qN(n,e,t,r){const l=(t-n)*Math.PI/180,c=(r-e)*Math.PI/180,f=Math.sin(l/2)*Math.sin(l/2)+Math.cos(n*Math.PI/180)*Math.cos(t*Math.PI/180)*Math.sin(c/2)*Math.sin(c/2);return 6371*(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)))}function HN(n,e,t,r,a=google.maps.TravelMode.DRIVING){return new Promise((l,c)=>{if(!window.google||!window.google.maps){c(new Error("Google Maps JS API not loaded"));return}new window.google.maps.DistanceMatrixService().getDistanceMatrix({origins:[{lat:n,lng:e}],destinations:[{lat:t,lng:r}],travelMode:a},(p,g)=>{if(g==="OK"&&p&&p.rows&&p.rows[0]&&p.rows[0].elements&&p.rows[0].elements[0]&&p.rows[0].elements[0].status==="OK"){const _=p.rows[0].elements[0];l({distanceText:_.distance.text,distanceValue:_.distance.value,durationText:_.duration.text,durationValue:_.duration.value})}else c(new Error("Distance Matrix request failed: "+g))})})}function FN(n,e=60){return!n||n<=0?0:Math.round(n/e*60)}function Du(n){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(n)}function GN(n,e){if(Du(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function $N(n){var e=GN(n,"string");return Du(e)=="symbol"?e:e+""}function se(n,e,t){return(e=$N(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function iS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var sm,ZE;function KN(){if(ZE)return sm;ZE=1;var n=function(t,r,a,l,c,f,p,g){if(!t){var _;if(r===void 0)_=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var T=[a,l,c,f,p,g],b=0;_=new Error(r.replace(/%s/g,function(){return T[b++]})),_.name="Invariant Violation"}throw _.framesToPop=1,_}};return sm=n,sm}var QN=KN(),Gt=iS(QN),je=y.createContext(null);function YN(){Gt(!!y.useContext,"useGoogleMap is React hook and requires React version 16.8+");var n=y.useContext(je);return Gt(!!n,"useGoogleMap needs a GoogleMap available up in the tree"),n}function WN(n,e,t){return Object.keys(n).reduce(function(a,l){return e(a,n[l],l)},t)}function ZN(n,e){Object.keys(n).forEach(t=>e(n[t],t))}function XN(n,e,t,r){var a={},l=(c,f)=>{var p=t[f];p!==e[f]&&(a[f]=p,c(r,p))};return ZN(n,l),a}function JN(n,e,t){var r=WN(t,function(l,c,f){return typeof n[f]=="function"&&l.push(google.maps.event.addListener(e,c,n[f])),l},[]);return r}function eP(n){google.maps.event.removeListener(n)}function $e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];n.forEach(eP)}function Ge(n){var{updaterMap:e,eventMap:t,prevProps:r,nextProps:a,instance:l}=n,c=JN(a,l,t);return XN(e,r,a,l),c}function tP(n){var{children:e,options:t,id:r,mapContainerStyle:a,mapContainerClassName:l,center:c,onClick:f,onDblClick:p,onDrag:g,onDragEnd:_,onDragStart:T,onMouseMove:b,onMouseOut:R,onMouseOver:C,onMouseDown:k,onMouseUp:I,onRightClick:U,onCenterChanged:z,onLoad:K,onUnmount:F}=n,[q,W]=y.useState(null),M=y.useRef(null),[O,A]=y.useState(null),[D,P]=y.useState(null),[B,N]=y.useState(null),[we,ye]=y.useState(null),[Z,ue]=y.useState(null),[de,be]=y.useState(null),[j,ie]=y.useState(null),[ce,ne]=y.useState(null),[pe,ee]=y.useState(null),[me,De]=y.useState(null),[ve,nt]=y.useState(null),[Se,Pe]=y.useState(null);return y.useEffect(()=>{t&&q!==null&&q.setOptions(t)},[q,t]),y.useEffect(()=>{q!==null&&typeof c<"u"&&q.setCenter(c)},[q,c]),y.useEffect(()=>{q&&p&&(D!==null&&google.maps.event.removeListener(D),P(google.maps.event.addListener(q,"dblclick",p)))},[p]),y.useEffect(()=>{q&&_&&(B!==null&&google.maps.event.removeListener(B),N(google.maps.event.addListener(q,"dragend",_)))},[_]),y.useEffect(()=>{q&&T&&(we!==null&&google.maps.event.removeListener(we),ye(google.maps.event.addListener(q,"dragstart",T)))},[T]),y.useEffect(()=>{q&&k&&(Z!==null&&google.maps.event.removeListener(Z),ue(google.maps.event.addListener(q,"mousedown",k)))},[k]),y.useEffect(()=>{q&&b&&(de!==null&&google.maps.event.removeListener(de),be(google.maps.event.addListener(q,"mousemove",b)))},[b]),y.useEffect(()=>{q&&R&&(j!==null&&google.maps.event.removeListener(j),ie(google.maps.event.addListener(q,"mouseout",R)))},[R]),y.useEffect(()=>{q&&C&&(ce!==null&&google.maps.event.removeListener(ce),ne(google.maps.event.addListener(q,"mouseover",C)))},[C]),y.useEffect(()=>{q&&I&&(pe!==null&&google.maps.event.removeListener(pe),ee(google.maps.event.addListener(q,"mouseup",I)))},[I]),y.useEffect(()=>{q&&U&&(me!==null&&google.maps.event.removeListener(me),De(google.maps.event.addListener(q,"rightclick",U)))},[U]),y.useEffect(()=>{q&&f&&(ve!==null&&google.maps.event.removeListener(ve),nt(google.maps.event.addListener(q,"click",f)))},[f]),y.useEffect(()=>{q&&g&&(Se!==null&&google.maps.event.removeListener(Se),Pe(google.maps.event.addListener(q,"drag",g)))},[g]),y.useEffect(()=>{q&&z&&(O!==null&&google.maps.event.removeListener(O),A(google.maps.event.addListener(q,"center_changed",z)))},[f]),y.useEffect(()=>{var jt=M.current===null?null:new google.maps.Map(M.current,t);return W(jt),jt!==null&&K&&K(jt),()=>{jt!==null&&F&&F(jt)}},[]),E.jsx("div",{id:r,ref:M,style:a,className:l,children:E.jsx(je.Provider,{value:q,children:q!==null?e:null})})}y.memo(tP);function XE(n,e,t,r,a,l,c){try{var f=n[l](c),p=f.value}catch(g){return void t(g)}f.done?e(p):Promise.resolve(p).then(r,a)}function rS(n){return function(){var e=this,t=arguments;return new Promise(function(r,a){var l=n.apply(e,t);function c(p){XE(l,r,a,c,f,"next",p)}function f(p){XE(l,r,a,c,f,"throw",p)}c(void 0)})}}function sS(n){var{googleMapsApiKey:e,googleMapsClientId:t,version:r="weekly",language:a,region:l,libraries:c,channel:f,mapIds:p,authReferrerPolicy:g,apiUrl:_="https://maps.googleapis.com"}=n,T=[];return Gt(e&&t||!(e&&t),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?T.push("key=".concat(e)):t&&T.push("client=".concat(t)),r&&T.push("v=".concat(r)),a&&T.push("language=".concat(a)),l&&T.push("region=".concat(l)),c&&c.length&&T.push("libraries=".concat(c.sort().join(","))),f&&T.push("channel=".concat(f)),p&&p.length&&T.push("map_ids=".concat(p.join(","))),g&&T.push("auth_referrer_policy=".concat(g)),T.push("loading=async"),T.push("callback=initMap"),"".concat(_,"/maps/api/js?").concat(T.join("&"))}var Cs=typeof document<"u";function aS(n){var{url:e,id:t,nonce:r}=n;return Cs?new Promise(function(l,c){var f=document.getElementById(t),p=window;if(f){var g=f.getAttribute("data-state");if(f.src===e&&g!=="error"){if(g==="ready")return l(t);var _=p.initMap,T=f.onerror;p.initMap=function(){_&&_(),l(t)},f.onerror=function(R){T&&T(R),c(R)};return}else f.remove()}var b=document.createElement("script");b.type="text/javascript",b.src=e,b.id=t,b.async=!0,b.nonce=r||"",b.onerror=function(C){b.setAttribute("data-state","error"),c(C)},p.initMap=function(){b.setAttribute("data-state","ready"),l(t)},document.head.appendChild(b)}).catch(a=>{throw console.error("injectScript error: ",a),a}):Promise.reject(new Error("document is undefined"))}function JE(n){var e=n.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:n.tagName.toLowerCase()==="style"&&n.styleSheet&&n.styleSheet.cssText&&n.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(n.styleSheet.cssText="",!0):n.tagName.toLowerCase()==="style"&&n.innerHTML&&n.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(n.innerHTML="",!0):n.tagName.toLowerCase()==="style"&&!n.styleSheet&&!n.innerHTML}function qg(){var n=document.getElementsByTagName("head")[0];if(n){var e=n.insertBefore.bind(n);n.insertBefore=function(a,l){return JE(a)||Reflect.apply(e,n,[a,l]),a};var t=n.appendChild.bind(n);n.appendChild=function(a){return JE(a)||Reflect.apply(t,n,[a]),a}}}var au=!1;function oS(){return E.jsx("div",{children:"Loading..."})}var Nu={id:"script-loader",version:"weekly"};class nP extends y.PureComponent{constructor(){super(...arguments),se(this,"check",null),se(this,"state",{loaded:!1}),se(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),se(this,"isCleaningUp",rS(function*(){function e(t){if(!au)t();else if(Cs)var r=window.setInterval(function(){au||(window.clearInterval(r),t())},1)}return new Promise(e)})),se(this,"cleanup",()=>{au=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),se(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&qg(),Gt(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:sS(this.props)};aS(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(t=>{this.props.onError&&this.props.onError(t),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),se(this,"getRef",e=>{this.check=e})}componentDidMount(){if(Cs){if(window.google&&window.google.maps&&!au){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(t){console.error("Error at injecting script after cleaning up: ",t)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Cs&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Cs){this.cleanup();var e=()=>{this.check||(delete window.google,au=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return E.jsxs(E.Fragment,{children:[E.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||E.jsx(oS,{})]})}}se(nP,"defaultProps",Nu);function iP(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}function Hg(n,e){if(n==null)return{};var t,r,a=iP(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(r=0;r<l.length;r++)t=l[r],e.includes(t)||{}.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}var eb;function rP(n){var{id:e=Nu.id,version:t=Nu.version,nonce:r,googleMapsApiKey:a,googleMapsClientId:l,language:c,region:f,libraries:p,preventGoogleFontsLoading:g,channel:_,mapIds:T,authReferrerPolicy:b,apiUrl:R="https://maps.googleapis.com"}=n,C=y.useRef(!1),[k,I]=y.useState(!1),[U,z]=y.useState(void 0);y.useEffect(function(){return C.current=!0,()=>{C.current=!1}},[]),y.useEffect(function(){Cs&&g&&qg()},[g]),y.useEffect(function(){k&&Gt(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[k]);var K=sS({version:t,googleMapsApiKey:a,googleMapsClientId:l,language:c,region:f,libraries:p,channel:_,mapIds:T,authReferrerPolicy:b,apiUrl:R});y.useEffect(function(){if(!Cs)return;function W(){C.current&&(I(!0),eb=K)}if(window.google&&window.google.maps&&eb===K){W();return}aS({id:e,url:K,nonce:r}).then(W).catch(function(O){C.current&&z(O),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(a||"-",") or Client ID (").concat(l||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(O)})},[e,K,r]);var F=y.useRef(void 0);return y.useEffect(function(){F.current&&p!==F.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),F.current=p},[p]),{isLoaded:k,loadError:U,url:K}}var sP=["loadingElement","onLoad","onError","onUnmount","children"],aP=E.jsx(oS,{});function oP(n){var{loadingElement:e,onLoad:t,onError:r,onUnmount:a,children:l}=n,c=Hg(n,sP),{isLoaded:f,loadError:p}=rP(c);return y.useEffect(function(){f&&typeof t=="function"&&t()},[f,t]),y.useEffect(function(){p&&typeof r=="function"&&r(p)},[p,r]),y.useEffect(function(){return()=>{a&&a()}},[a]),f?l:e||aP}y.memo(oP);function lP(n,e,t,r){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function f(_){try{g(r.next(_))}catch(T){c(T)}}function p(_){try{g(r.throw(_))}catch(T){c(T)}}function g(_){_.done?l(_.value):a(_.value).then(f,p)}g((r=r.apply(n,[])).next())})}function uP(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var cP=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,a,l;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(a=r;a--!==0;)if(!n(e[a],t[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(l=Object.keys(e),r=l.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,l[a]))return!1;for(a=r;a--!==0;){var c=l[a];if(!n(e[c],t[c]))return!1}return!0}return e!==e&&t!==t},hP=uP(cP),tb="__googleMapsScriptId",No;(function(n){n[n.INITIALIZED=0]="INITIALIZED",n[n.LOADING=1]="LOADING",n[n.SUCCESS=2]="SUCCESS",n[n.FAILURE=3]="FAILURE"})(No||(No={}));class wa{constructor(e){var{apiKey:t,authReferrerPolicy:r,channel:a,client:l,id:c=tb,language:f,libraries:p=[],mapIds:g,nonce:_,region:T,retries:b=3,url:R="https://maps.googleapis.com/maps/api/js",version:C}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=r,this.channel=a,this.client=l,this.id=c||tb,this.language=f,this.libraries=p,this.mapIds=g,this.nonce=_,this.region=T,this.retries=b,this.url=R,this.version=C,wa.instance){if(!hP(this.options,wa.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(wa.instance.options)));return wa.instance}wa.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?No.FAILURE:this.done?No.SUCCESS:this.loading?No.LOADING:No.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,t)=>{this.loadCallback(r=>{r?t(r.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,t;if(document.getElementById(this.id)){this.callback();return}var r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach(l=>!r[l]&&delete r[l]),!((t=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||t===void 0)&&t.importLibrary||(l=>{var c,f,p,g="The Google Maps JavaScript API",_="google",T="importLibrary",b="__ib__",R=document,C=window;C=C[_]||(C[_]={});var k=C.maps||(C.maps={}),I=new Set,U=new URLSearchParams,z=()=>c||(c=new Promise((K,F)=>lP(this,void 0,void 0,function*(){var q;yield f=R.createElement("script"),f.id=this.id,U.set("libraries",[...I]+"");for(p in l)U.set(p.replace(/[A-Z]/g,W=>"_"+W[0].toLowerCase()),l[p]);U.set("callback",_+".maps."+b),f.src=this.url+"?"+U,k[b]=K,f.onerror=()=>c=F(Error(g+" could not load.")),f.nonce=this.nonce||((q=R.querySelector("script[nonce]"))===null||q===void 0?void 0:q.nonce)||"",R.head.append(f)})));k[T]?console.warn(g+" only loads once. Ignoring:",l):k[T]=function(K){for(var F=arguments.length,q=new Array(F>1?F-1:0),W=1;W<F;W++)q[W-1]=arguments[W];return I.add(K)&&z().then(()=>k[T](K,...q))}})(r);var a=this.libraries.map(l=>this.importLibrary(l));a.length||a.push(this.importLibrary("core")),Promise.all(a).then(()=>this.callback(),l=>{var c=new ErrorEvent("error",{error:l});this.loadErrorCallback(c)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var t=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(t," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},t)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var dP=["maps"];function fP(n){var{id:e=Nu.id,version:t=Nu.version,nonce:r,googleMapsApiKey:a,language:l,region:c,libraries:f=dP,preventGoogleFontsLoading:p,mapIds:g,authReferrerPolicy:_}=n,T=y.useRef(!1),[b,R]=y.useState(!1),[C,k]=y.useState(void 0);y.useEffect(function(){return T.current=!0,()=>{T.current=!1}},[]);var I=y.useMemo(()=>new wa({id:e,apiKey:a,version:t,libraries:f,language:l||"en",region:c||"US",mapIds:g||[],nonce:r||"",authReferrerPolicy:_||"origin"}),[e,a,t,f,l,c,g,r,_]);y.useEffect(function(){b||I.load().then(()=>{T.current&&R(!0)}).catch(K=>{k(K)})},[]),y.useEffect(()=>{Cs&&p&&qg()},[p]);var U=y.useRef();return y.useEffect(()=>{U.current&&f!==U.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),U.current=f},[f]),{isLoaded:b,loadError:C}}function nb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function ad(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nb(Object(t),!0).forEach(function(r){se(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var ib={},rb={options(n,e){n.setOptions(e)}};function pP(n){var{options:e,onLoad:t,onUnmount:r}=n,a=y.useContext(je),[l,c]=y.useState(null);return y.useEffect(()=>{l!==null&&l.setMap(a)},[a]),y.useEffect(()=>{e&&l!==null&&l.setOptions(e)},[l,e]),y.useEffect(()=>{var f=new google.maps.TrafficLayer(ad(ad({},e),{},{map:a}));return c(f),t&&t(f),()=>{l!==null&&(r&&r(l),l.setMap(null))}},[]),null}y.memo(pP);class mP extends y.PureComponent{constructor(){super(...arguments),se(this,"state",{trafficLayer:null}),se(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),se(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(ad(ad({},this.props.options),{},{map:this.context}));this.registeredEvents=Ge({updaterMap:rb,eventMap:ib,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&($e(this.registeredEvents),this.registeredEvents=Ge({updaterMap:rb,eventMap:ib,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),$e(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}se(mP,"contextType",je);function gP(n){var{onLoad:e,onUnmount:t}=n,r=y.useContext(je),[a,l]=y.useState(null);return y.useEffect(()=>{a!==null&&a.setMap(r)},[r]),y.useEffect(()=>{var c=new google.maps.BicyclingLayer;return l(c),c.setMap(r),e&&e(c),()=>{c!==null&&(t&&t(c),c.setMap(null))}},[]),null}y.memo(gP);class vP extends y.PureComponent{constructor(){super(...arguments),se(this,"state",{bicyclingLayer:null}),se(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}se(vP,"contextType",je);function yP(n){var{onLoad:e,onUnmount:t}=n,r=y.useContext(je),[a,l]=y.useState(null);return y.useEffect(()=>{a!==null&&a.setMap(r)},[r]),y.useEffect(()=>{var c=new google.maps.TransitLayer;return l(c),c.setMap(r),e&&e(c),()=>{a!==null&&(t&&t(a),a.setMap(null))}},[]),null}y.memo(yP);class _P extends y.PureComponent{constructor(){super(...arguments),se(this,"state",{transitLayer:null}),se(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}se(_P,"contextType",je);function sb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function od(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sb(Object(t),!0).forEach(function(r){se(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var ab={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},ob={drawingMode(n,e){n.setDrawingMode(e)},options(n,e){n.setOptions(e)}};function EP(n){var{options:e,drawingMode:t,onCircleComplete:r,onMarkerComplete:a,onOverlayComplete:l,onPolygonComplete:c,onPolylineComplete:f,onRectangleComplete:p,onLoad:g,onUnmount:_}=n,T=y.useContext(je),[b,R]=y.useState(null),[C,k]=y.useState(null),[I,U]=y.useState(null),[z,K]=y.useState(null),[F,q]=y.useState(null),[W,M]=y.useState(null),[O,A]=y.useState(null);return y.useEffect(()=>{b!==null&&b.setMap(T)},[T]),y.useEffect(()=>{e&&b!==null&&b.setOptions(e)},[b,e]),y.useEffect(()=>{b!==null&&b.setDrawingMode(t??null)},[b,t]),y.useEffect(()=>{b&&r&&(C!==null&&google.maps.event.removeListener(C),k(google.maps.event.addListener(b,"circlecomplete",r)))},[b,r]),y.useEffect(()=>{b&&a&&(I!==null&&google.maps.event.removeListener(I),U(google.maps.event.addListener(b,"markercomplete",a)))},[b,a]),y.useEffect(()=>{b&&l&&(z!==null&&google.maps.event.removeListener(z),K(google.maps.event.addListener(b,"overlaycomplete",l)))},[b,l]),y.useEffect(()=>{b&&c&&(F!==null&&google.maps.event.removeListener(F),q(google.maps.event.addListener(b,"polygoncomplete",c)))},[b,c]),y.useEffect(()=>{b&&f&&(W!==null&&google.maps.event.removeListener(W),M(google.maps.event.addListener(b,"polylinecomplete",f)))},[b,f]),y.useEffect(()=>{b&&p&&(O!==null&&google.maps.event.removeListener(O),A(google.maps.event.addListener(b,"rectanglecomplete",p)))},[b,p]),y.useEffect(()=>{Gt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var D=new google.maps.drawing.DrawingManager(od(od({},e),{},{map:T}));return t&&D.setDrawingMode(t),r&&k(google.maps.event.addListener(D,"circlecomplete",r)),a&&U(google.maps.event.addListener(D,"markercomplete",a)),l&&K(google.maps.event.addListener(D,"overlaycomplete",l)),c&&q(google.maps.event.addListener(D,"polygoncomplete",c)),f&&M(google.maps.event.addListener(D,"polylinecomplete",f)),p&&A(google.maps.event.addListener(D,"rectanglecomplete",p)),R(D),g&&g(D),()=>{b!==null&&(C&&google.maps.event.removeListener(C),I&&google.maps.event.removeListener(I),z&&google.maps.event.removeListener(z),F&&google.maps.event.removeListener(F),W&&google.maps.event.removeListener(W),O&&google.maps.event.removeListener(O),_&&_(b),b.setMap(null))}},[]),null}y.memo(EP);class bP extends y.PureComponent{constructor(e){super(e),se(this,"registeredEvents",[]),se(this,"state",{drawingManager:null}),se(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Gt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(od(od({},this.props.options),{},{map:this.context}));this.registeredEvents=Ge({updaterMap:ob,eventMap:ab,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&($e(this.registeredEvents),this.registeredEvents=Ge({updaterMap:ob,eventMap:ab,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),$e(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}se(bP,"contextType",je);function lb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Uo(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lb(Object(t),!0).forEach(function(r){se(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):lb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var ub={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},cb={animation(n,e){n.setAnimation(e)},clickable(n,e){n.setClickable(e)},cursor(n,e){n.setCursor(e)},draggable(n,e){n.setDraggable(e)},icon(n,e){n.setIcon(e)},label(n,e){n.setLabel(e)},map(n,e){n.setMap(e)},opacity(n,e){n.setOpacity(e)},options(n,e){n.setOptions(e)},position(n,e){n.setPosition(e)},shape(n,e){n.setShape(e)},title(n,e){n.setTitle(e)},visible(n,e){n.setVisible(e)},zIndex(n,e){n.setZIndex(e)}},ld={};function wP(n){var{position:e,options:t,clusterer:r,noClustererRedraw:a,children:l,draggable:c,visible:f,animation:p,clickable:g,cursor:_,icon:T,label:b,opacity:R,shape:C,title:k,zIndex:I,onClick:U,onDblClick:z,onDrag:K,onDragEnd:F,onDragStart:q,onMouseOut:W,onMouseOver:M,onMouseUp:O,onMouseDown:A,onRightClick:D,onClickableChanged:P,onCursorChanged:B,onAnimationChanged:N,onDraggableChanged:we,onFlatChanged:ye,onIconChanged:Z,onPositionChanged:ue,onShapeChanged:de,onTitleChanged:be,onVisibleChanged:j,onZindexChanged:ie,onLoad:ce,onUnmount:ne}=n,pe=y.useContext(je),[ee,me]=y.useState(null),[De,ve]=y.useState(null),[nt,Se]=y.useState(null),[Pe,jt]=y.useState(null),[Jt,Rn]=y.useState(null),[Ke,qs]=y.useState(null),[en,ja]=y.useState(null),[wi,sr]=y.useState(null),[zn,Va]=y.useState(null),[oi,Br]=y.useState(null),[Hs,mt]=y.useState(null),[Qe,hn]=y.useState(null),[Ct,Fs]=y.useState(null),[zr,Ti]=y.useState(null),[qn,Si]=y.useState(null),[dn,ar]=y.useState(null),[Hn,qr]=y.useState(null),[Ci,Hr]=y.useState(null),[Fn,Gn]=y.useState(null),[Ai,Ln]=y.useState(null),[xi,li]=y.useState(null),[ui,ci]=y.useState(null);y.useEffect(()=>{ee!==null&&ee.setMap(pe)},[pe]),y.useEffect(()=>{typeof t<"u"&&ee!==null&&ee.setOptions(t)},[ee,t]),y.useEffect(()=>{typeof c<"u"&&ee!==null&&ee.setDraggable(c)},[ee,c]),y.useEffect(()=>{e&&ee!==null&&ee.setPosition(e)},[ee,e]),y.useEffect(()=>{typeof f<"u"&&ee!==null&&ee.setVisible(f)},[ee,f]),y.useEffect(()=>{ee==null||ee.setAnimation(p)},[ee,p]),y.useEffect(()=>{ee&&g!==void 0&&ee.setClickable(g)},[ee,g]),y.useEffect(()=>{ee&&_!==void 0&&ee.setCursor(_)},[ee,_]),y.useEffect(()=>{ee&&T!==void 0&&ee.setIcon(T)},[ee,T]),y.useEffect(()=>{ee&&b!==void 0&&ee.setLabel(b)},[ee,b]),y.useEffect(()=>{ee&&R!==void 0&&ee.setOpacity(R)},[ee,R]),y.useEffect(()=>{ee&&C!==void 0&&ee.setShape(C)},[ee,C]),y.useEffect(()=>{ee&&k!==void 0&&ee.setTitle(k)},[ee,k]),y.useEffect(()=>{ee&&I!==void 0&&ee.setZIndex(I)},[ee,I]),y.useEffect(()=>{ee&&z&&(De!==null&&google.maps.event.removeListener(De),ve(google.maps.event.addListener(ee,"dblclick",z)))},[z]),y.useEffect(()=>{ee&&F&&(nt!==null&&google.maps.event.removeListener(nt),Se(google.maps.event.addListener(ee,"dragend",F)))},[F]),y.useEffect(()=>{ee&&q&&(Pe!==null&&google.maps.event.removeListener(Pe),jt(google.maps.event.addListener(ee,"dragstart",q)))},[q]),y.useEffect(()=>{ee&&A&&(Jt!==null&&google.maps.event.removeListener(Jt),Rn(google.maps.event.addListener(ee,"mousedown",A)))},[A]),y.useEffect(()=>{ee&&W&&(Ke!==null&&google.maps.event.removeListener(Ke),qs(google.maps.event.addListener(ee,"mouseout",W)))},[W]),y.useEffect(()=>{ee&&M&&(en!==null&&google.maps.event.removeListener(en),ja(google.maps.event.addListener(ee,"mouseover",M)))},[M]),y.useEffect(()=>{ee&&O&&(wi!==null&&google.maps.event.removeListener(wi),sr(google.maps.event.addListener(ee,"mouseup",O)))},[O]),y.useEffect(()=>{ee&&D&&(zn!==null&&google.maps.event.removeListener(zn),Va(google.maps.event.addListener(ee,"rightclick",D)))},[D]),y.useEffect(()=>{ee&&U&&(oi!==null&&google.maps.event.removeListener(oi),Br(google.maps.event.addListener(ee,"click",U)))},[U]),y.useEffect(()=>{ee&&K&&(Hs!==null&&google.maps.event.removeListener(Hs),mt(google.maps.event.addListener(ee,"drag",K)))},[K]),y.useEffect(()=>{ee&&P&&(Qe!==null&&google.maps.event.removeListener(Qe),hn(google.maps.event.addListener(ee,"clickable_changed",P)))},[P]),y.useEffect(()=>{ee&&B&&(Ct!==null&&google.maps.event.removeListener(Ct),Fs(google.maps.event.addListener(ee,"cursor_changed",B)))},[B]),y.useEffect(()=>{ee&&N&&(zr!==null&&google.maps.event.removeListener(zr),Ti(google.maps.event.addListener(ee,"animation_changed",N)))},[N]),y.useEffect(()=>{ee&&we&&(qn!==null&&google.maps.event.removeListener(qn),Si(google.maps.event.addListener(ee,"draggable_changed",we)))},[we]),y.useEffect(()=>{ee&&ye&&(dn!==null&&google.maps.event.removeListener(dn),ar(google.maps.event.addListener(ee,"flat_changed",ye)))},[ye]),y.useEffect(()=>{ee&&Z&&(Hn!==null&&google.maps.event.removeListener(Hn),qr(google.maps.event.addListener(ee,"icon_changed",Z)))},[Z]),y.useEffect(()=>{ee&&ue&&(Ci!==null&&google.maps.event.removeListener(Ci),Hr(google.maps.event.addListener(ee,"position_changed",ue)))},[ue]),y.useEffect(()=>{ee&&de&&(Fn!==null&&google.maps.event.removeListener(Fn),Gn(google.maps.event.addListener(ee,"shape_changed",de)))},[de]),y.useEffect(()=>{ee&&be&&(Ai!==null&&google.maps.event.removeListener(Ai),Ln(google.maps.event.addListener(ee,"title_changed",be)))},[be]),y.useEffect(()=>{ee&&j&&(xi!==null&&google.maps.event.removeListener(xi),li(google.maps.event.addListener(ee,"visible_changed",j)))},[j]),y.useEffect(()=>{ee&&ie&&(ui!==null&&google.maps.event.removeListener(ui),ci(google.maps.event.addListener(ee,"zindex_changed",ie)))},[ie]),y.useEffect(()=>{var rt=Uo(Uo(Uo({},t||ld),r?ld:{map:pe}),{},{position:e}),Ee=new google.maps.Marker(rt);return r?r.addMarker(Ee,!!a):Ee.setMap(pe),e&&Ee.setPosition(e),typeof f<"u"&&Ee.setVisible(f),typeof c<"u"&&Ee.setDraggable(c),typeof g<"u"&&Ee.setClickable(g),typeof _=="string"&&Ee.setCursor(_),T&&Ee.setIcon(T),typeof b<"u"&&Ee.setLabel(b),typeof R<"u"&&Ee.setOpacity(R),C&&Ee.setShape(C),typeof k=="string"&&Ee.setTitle(k),typeof I=="number"&&Ee.setZIndex(I),z&&ve(google.maps.event.addListener(Ee,"dblclick",z)),F&&Se(google.maps.event.addListener(Ee,"dragend",F)),q&&jt(google.maps.event.addListener(Ee,"dragstart",q)),A&&Rn(google.maps.event.addListener(Ee,"mousedown",A)),W&&qs(google.maps.event.addListener(Ee,"mouseout",W)),M&&ja(google.maps.event.addListener(Ee,"mouseover",M)),O&&sr(google.maps.event.addListener(Ee,"mouseup",O)),D&&Va(google.maps.event.addListener(Ee,"rightclick",D)),U&&Br(google.maps.event.addListener(Ee,"click",U)),K&&mt(google.maps.event.addListener(Ee,"drag",K)),P&&hn(google.maps.event.addListener(Ee,"clickable_changed",P)),B&&Fs(google.maps.event.addListener(Ee,"cursor_changed",B)),N&&Ti(google.maps.event.addListener(Ee,"animation_changed",N)),we&&Si(google.maps.event.addListener(Ee,"draggable_changed",we)),ye&&ar(google.maps.event.addListener(Ee,"flat_changed",ye)),Z&&qr(google.maps.event.addListener(Ee,"icon_changed",Z)),ue&&Hr(google.maps.event.addListener(Ee,"position_changed",ue)),de&&Gn(google.maps.event.addListener(Ee,"shape_changed",de)),be&&Ln(google.maps.event.addListener(Ee,"title_changed",be)),j&&li(google.maps.event.addListener(Ee,"visible_changed",j)),ie&&ci(google.maps.event.addListener(Ee,"zindex_changed",ie)),me(Ee),ce&&ce(Ee),()=>{De!==null&&google.maps.event.removeListener(De),nt!==null&&google.maps.event.removeListener(nt),Pe!==null&&google.maps.event.removeListener(Pe),Jt!==null&&google.maps.event.removeListener(Jt),Ke!==null&&google.maps.event.removeListener(Ke),en!==null&&google.maps.event.removeListener(en),wi!==null&&google.maps.event.removeListener(wi),zn!==null&&google.maps.event.removeListener(zn),oi!==null&&google.maps.event.removeListener(oi),Qe!==null&&google.maps.event.removeListener(Qe),Ct!==null&&google.maps.event.removeListener(Ct),zr!==null&&google.maps.event.removeListener(zr),qn!==null&&google.maps.event.removeListener(qn),dn!==null&&google.maps.event.removeListener(dn),Hn!==null&&google.maps.event.removeListener(Hn),Ci!==null&&google.maps.event.removeListener(Ci),Ai!==null&&google.maps.event.removeListener(Ai),xi!==null&&google.maps.event.removeListener(xi),ui!==null&&google.maps.event.removeListener(ui),ne&&ne(Ee),r?r.removeMarker(Ee,!!a):Ee&&Ee.setMap(null)}},[]);var Ua=y.useMemo(()=>l?y.Children.map(l,rt=>{if(!y.isValidElement(rt))return rt;var Ee=rt;return y.cloneElement(Ee,{anchor:ee})}):null,[l,ee]);return E.jsx(E.Fragment,{children:Ua})||null}y.memo(wP);class TP extends y.PureComponent{constructor(){super(...arguments),se(this,"registeredEvents",[])}componentDidMount(){var e=this;return rS(function*(){var t=Uo(Uo(Uo({},e.props.options||ld),e.props.clusterer?ld:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(t),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=Ge({updaterMap:cb,eventMap:ub,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&($e(this.registeredEvents),this.registeredEvents=Ge({updaterMap:cb,eventMap:ub,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),$e(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?y.Children.map(this.props.children,t=>{if(!y.isValidElement(t))return t;var r=t;return y.cloneElement(r,{anchor:this.marker})}):null;return e||null}}se(TP,"contextType",je);var SP=function(){function n(e,t){e.getClusterer().extend(n,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=t,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return n.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},n.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},n.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var r=t.getMaxZoom(),a=this.cluster.getBounds(),l=t.getMap();l!==null&&"fitBounds"in l&&l.fitBounds(a),this.timeOut=window.setTimeout(function(){var c=t.getMap();if(c!==null){"fitBounds"in c&&c.fitBounds(a);var f=c.getZoom()||0;r!==null&&f>r&&c.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},n.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},n.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},n.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();t!==null&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},n.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},n.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},n.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},n.prototype.show=function(){var e,t,r,a,l,c;if(this.div&&this.center){var f=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,p=this.backgroundPosition.split(" "),g=parseInt(((e=p[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),_=parseInt(((t=p[1])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),T=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(T!==null?"".concat(T.y,"px"):"0","; left: ").concat(T!==null?"".concat(T.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var b=document.createElement("img");b.alt=f,b.src=this.url,b.width=this.width,b.height=this.height,b.setAttribute("style","position: absolute; top: ".concat(_,"px; left: ").concat(g,"px")),this.cluster.getClusterer().enableRetinaIcons||(b.style.clip="rect(-".concat(_,"px, -").concat(g+this.width,"px, -").concat(_+this.height,", -").concat(g,")"));var R=document.createElement("div");R.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(R.innerText="".concat((a=this.sums)===null||a===void 0?void 0:a.text)),!((l=this.sums)===null||l===void 0)&&l.html&&(R.innerHTML="".concat((c=this.sums)===null||c===void 0?void 0:c.html)),this.div.innerHTML="",this.div.appendChild(b),this.div.appendChild(R),this.div.title=f,this.div.style.display=""}this.visible=!0},n.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),r=t[Math.min(t.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},n.prototype.setCenter=function(e){this.center=e},n.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t!==null&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},n}(),CP=function(){function n(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new SP(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return n.prototype.getSize=function(){return this.markers.length},n.prototype.getMarkers=function(){return this.markers},n.prototype.getCenter=function(){return this.center},n.prototype.getMap=function(){return this.map},n.prototype.getClusterer=function(){return this.markerClusterer},n.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=this.getMarkers(),r=0,a=t;r<a.length;r++){var l=a[r],c=l.getPosition();c&&e.extend(c)}return e},n.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},n.prototype.addMarker=function(e){var t;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var a=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(a-1)+r.lat())/a,(this.center.lng()*(a-1)+r.lng())/a),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var l=this.markers.length,c=this.markerClusterer.getMaxZoom(),f=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(c!==null&&typeof f<"u"&&f>c)e.getMap()!==this.map&&e.setMap(this.map);else if(l<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(l===this.minClusterSize)for(var p=0,g=this.markers;p<g.length;p++){var _=g[p];_.setMap(null)}else e.setMap(null);return!0},n.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},n.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},n.prototype.updateIcon=function(){var e,t=this.markers.length,r=this.markerClusterer.getMaxZoom(),a=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof a<"u"&&a>r){this.clusterIcon.hide();return}if(t<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},n.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},n}();function AP(n,e){var t=n.length,r=t.toString().length,a=Math.min(r,e);return{text:t.toString(),index:a,title:""}}var xP=2e3,RP=500,LP="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",IP="png",OP=[53,56,66,78,90],MP="cluster",lS=function(){function n(e,t,r){t===void 0&&(t=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(n,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||LP,this.imageExtension=r.imageExtension||IP,this.imageSizes=r.imageSizes||OP,this.calculator=r.calculator||AP,this.batchSize=r.batchSize||xP,this.batchSizeIE=r.batchSizeIE||RP,this.clusterClass=r.clusterClass||MP,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(t,!0),this.setMap(e)}return n.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},n.prototype.onIdle=function(){this.redraw()},n.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},n.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var r=t[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var a=0,l=this.clusters;a<l.length;a++){var c=l[a];c.remove()}this.clusters=[];for(var f=0,p=this.listeners;f<p.length;f++){var g=p[f];google.maps.event.removeListener(g)}this.listeners=[],this.activeMap=null,this.ready=!1},n.prototype.draw=function(){},n.prototype.getMap=function(){return null},n.prototype.getPanes=function(){return null},n.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},n.prototype.setMap=function(){},n.prototype.addListener=function(){return{remove:function(){}}},n.prototype.bindTo=function(){},n.prototype.get=function(){},n.prototype.notify=function(){},n.prototype.set=function(){},n.prototype.setValues=function(){},n.prototype.unbind=function(){},n.prototype.unbindAll=function(){},n.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},n.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,r=0,a=e;r<a.length;r++){var l=a[r],c=l.getPosition();c&&t.extend(c)}var f=this.getMap();f!==null&&"fitBounds"in f&&f.fitBounds(t)},n.prototype.getGridSize=function(){return this.gridSize},n.prototype.setGridSize=function(e){this.gridSize=e},n.prototype.getMinimumClusterSize=function(){return this.minClusterSize},n.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},n.prototype.getMaxZoom=function(){return this.maxZoom},n.prototype.setMaxZoom=function(e){this.maxZoom=e},n.prototype.getStyles=function(){return this.styles},n.prototype.setStyles=function(e){this.styles=e},n.prototype.getTitle=function(){return this.title},n.prototype.setTitle=function(e){this.title=e},n.prototype.getZoomOnClick=function(){return this.zoomOnClick},n.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},n.prototype.getAverageCenter=function(){return this.averageCenter},n.prototype.setAverageCenter=function(e){this.averageCenter=e},n.prototype.getIgnoreHidden=function(){return this.ignoreHidden},n.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},n.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},n.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},n.prototype.getImageExtension=function(){return this.imageExtension},n.prototype.setImageExtension=function(e){this.imageExtension=e},n.prototype.getImagePath=function(){return this.imagePath},n.prototype.setImagePath=function(e){this.imagePath=e},n.prototype.getImageSizes=function(){return this.imageSizes},n.prototype.setImageSizes=function(e){this.imageSizes=e},n.prototype.getCalculator=function(){return this.calculator},n.prototype.setCalculator=function(e){this.calculator=e},n.prototype.getBatchSizeIE=function(){return this.batchSizeIE},n.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},n.prototype.getClusterClass=function(){return this.clusterClass},n.prototype.setClusterClass=function(e){this.clusterClass=e},n.prototype.getMarkers=function(){return this.markers},n.prototype.getTotalMarkers=function(){return this.markers.length},n.prototype.getClusters=function(){return this.clusters},n.prototype.getTotalClusters=function(){return this.clusters.length},n.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},n.prototype.addMarkers=function(e,t){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=e[r];a&&this.pushMarkerTo(a)}t||this.redraw()},n.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){t.ready&&(e.isAdded=!1,t.repaint())}),e.isAdded=!1,this.markers.push(e)},n.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){t=r;break}return t===-1?!1:(e.setMap(null),this.markers.splice(t,1),!0)},n.prototype.removeMarker=function(e,t){var r=this.removeMarker_(e);return!t&&r&&this.repaint(),r},n.prototype.removeMarkers=function(e,t){for(var r=!1,a=0,l=e;a<l.length;a++){var c=l[a];r=r||this.removeMarker_(c)}return!t&&r&&this.repaint(),r},n.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},n.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,a=e;r<a.length;r++){var l=a[r];l.remove()}},0)},n.prototype.getExtendedBounds=function(e){var t=this.getProjection(),r=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var a=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(a!==null&&(a.x-=this.gridSize,a.y+=this.gridSize),r!==null){var l=t.fromDivPixelToLatLng(r);l!==null&&e.extend(l)}if(a!==null){var c=t.fromDivPixelToLatLng(a);c!==null&&e.extend(c)}return e},n.prototype.redraw=function(){this.createClusters(0)},n.prototype.resetViewport=function(e){for(var t=0,r=this.clusters;t<r.length;t++){var a=r[t];a.remove()}this.clusters=[];for(var l=0,c=this.markers;l<c.length;l++){var f=c[l];f.isAdded=!1,e&&f.setMap(null)}},n.prototype.distanceBetweenPoints=function(e,t){var r=6371,a=(t.lat()-e.lat())*Math.PI/180,l=(t.lng()-e.lng())*Math.PI/180,c=Math.sin(a/2)*Math.sin(a/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(l/2)*Math.sin(l/2);return r*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))},n.prototype.isMarkerInBounds=function(e,t){var r=e.getPosition();return r?t.contains(r):!1},n.prototype.addToClosestCluster=function(e){for(var t,r=4e4,a=null,l=0,c=this.clusters;l<c.length;l++){var f=c[l];t=f;var p=t.getCenter(),g=e.getPosition();if(p&&g){var _=this.distanceBetweenPoints(p,g);_<r&&(r=_,a=t)}}a&&a.isMarkerInClusterBounds(e)?a.addMarker(e):(t=new CP(this),t.addMarker(e),this.clusters.push(t))},n.prototype.createClusters=function(e){var t=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),a=r!==null&&("getBounds"in r)?r.getBounds():null,l=(r==null?void 0:r.getZoom())||0,c=l>3?new google.maps.LatLngBounds(a==null?void 0:a.getSouthWest(),a==null?void 0:a.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),f=this.getExtendedBounds(c),p=Math.min(e+this.batchSize,this.markers.length),g=e;g<p;g++){var _=this.markers[g];_&&!_.isAdded&&this.isMarkerInBounds(_,f)&&(!this.ignoreHidden||this.ignoreHidden&&_.getVisible())&&this.addToClosestCluster(_)}if(p<this.markers.length)this.timerRefStatic=window.setTimeout(function(){t.createClusters(p)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var T=0,b=this.clusters;T<b.length;T++){var R=b[T];R.updateIcon()}}}},n.prototype.extend=function(e,t){return(function(a){for(var l in a.prototype){var c=l;this.prototype[c]=a.prototype[c]}return this}).apply(e,[t])},n}();function hb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function DP(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hb(Object(t),!0).forEach(function(r){se(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var si={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},tt={averageCenter(n,e){n.setAverageCenter(e)},batchSizeIE(n,e){n.setBatchSizeIE(e)},calculator(n,e){n.setCalculator(e)},clusterClass(n,e){n.setClusterClass(e)},enableRetinaIcons(n,e){n.setEnableRetinaIcons(e)},gridSize(n,e){n.setGridSize(e)},ignoreHidden(n,e){n.setIgnoreHidden(e)},imageExtension(n,e){n.setImageExtension(e)},imagePath(n,e){n.setImagePath(e)},imageSizes(n,e){n.setImageSizes(e)},maxZoom(n,e){n.setMaxZoom(e)},minimumClusterSize(n,e){n.setMinimumClusterSize(e)},styles(n,e){n.setStyles(e)},title(n,e){n.setTitle(e)},zoomOnClick(n,e){n.setZoomOnClick(e)}},NP={};function PP(n){var{children:e,options:t,averageCenter:r,batchSizeIE:a,calculator:l,clusterClass:c,enableRetinaIcons:f,gridSize:p,ignoreHidden:g,imageExtension:_,imagePath:T,imageSizes:b,maxZoom:R,minimumClusterSize:C,styles:k,title:I,zoomOnClick:U,onClick:z,onClusteringBegin:K,onClusteringEnd:F,onMouseOver:q,onMouseOut:W,onLoad:M,onUnmount:O}=n,[A,D]=y.useState(null),P=y.useContext(je),[B,N]=y.useState(null),[we,ye]=y.useState(null),[Z,ue]=y.useState(null),[de,be]=y.useState(null),[j,ie]=y.useState(null);return y.useEffect(()=>{A&&W&&(de!==null&&google.maps.event.removeListener(de),be(google.maps.event.addListener(A,si.onMouseOut,W)))},[W]),y.useEffect(()=>{A&&q&&(j!==null&&google.maps.event.removeListener(j),ie(google.maps.event.addListener(A,si.onMouseOver,q)))},[q]),y.useEffect(()=>{A&&z&&(B!==null&&google.maps.event.removeListener(B),N(google.maps.event.addListener(A,si.onClick,z)))},[z]),y.useEffect(()=>{A&&K&&(we!==null&&google.maps.event.removeListener(we),ye(google.maps.event.addListener(A,si.onClusteringBegin,K)))},[K]),y.useEffect(()=>{A&&F&&(Z!==null&&google.maps.event.removeListener(Z),ye(google.maps.event.addListener(A,si.onClusteringEnd,F)))},[F]),y.useEffect(()=>{typeof r<"u"&&A!==null&&tt.averageCenter(A,r)},[A,r]),y.useEffect(()=>{typeof a<"u"&&A!==null&&tt.batchSizeIE(A,a)},[A,a]),y.useEffect(()=>{typeof l<"u"&&A!==null&&tt.calculator(A,l)},[A,l]),y.useEffect(()=>{typeof c<"u"&&A!==null&&tt.clusterClass(A,c)},[A,c]),y.useEffect(()=>{typeof f<"u"&&A!==null&&tt.enableRetinaIcons(A,f)},[A,f]),y.useEffect(()=>{typeof p<"u"&&A!==null&&tt.gridSize(A,p)},[A,p]),y.useEffect(()=>{typeof g<"u"&&A!==null&&tt.ignoreHidden(A,g)},[A,g]),y.useEffect(()=>{typeof _<"u"&&A!==null&&tt.imageExtension(A,_)},[A,_]),y.useEffect(()=>{typeof T<"u"&&A!==null&&tt.imagePath(A,T)},[A,T]),y.useEffect(()=>{typeof b<"u"&&A!==null&&tt.imageSizes(A,b)},[A,b]),y.useEffect(()=>{typeof R<"u"&&A!==null&&tt.maxZoom(A,R)},[A,R]),y.useEffect(()=>{typeof C<"u"&&A!==null&&tt.minimumClusterSize(A,C)},[A,C]),y.useEffect(()=>{typeof k<"u"&&A!==null&&tt.styles(A,k)},[A,k]),y.useEffect(()=>{typeof I<"u"&&A!==null&&tt.title(A,I)},[A,I]),y.useEffect(()=>{typeof U<"u"&&A!==null&&tt.zoomOnClick(A,U)},[A,U]),y.useEffect(()=>{if(P){var ce=DP({},t||NP),ne=new lS(P,[],ce);return r&&tt.averageCenter(ne,r),a&&tt.batchSizeIE(ne,a),l&&tt.calculator(ne,l),c&&tt.clusterClass(ne,c),f&&tt.enableRetinaIcons(ne,f),p&&tt.gridSize(ne,p),g&&tt.ignoreHidden(ne,g),_&&tt.imageExtension(ne,_),T&&tt.imagePath(ne,T),b&&tt.imageSizes(ne,b),R&&tt.maxZoom(ne,R),C&&tt.minimumClusterSize(ne,C),k&&tt.styles(ne,k),I&&tt.title(ne,I),U&&tt.zoomOnClick(ne,U),W&&be(google.maps.event.addListener(ne,si.onMouseOut,W)),q&&ie(google.maps.event.addListener(ne,si.onMouseOver,q)),z&&N(google.maps.event.addListener(ne,si.onClick,z)),K&&ye(google.maps.event.addListener(ne,si.onClusteringBegin,K)),F&&ue(google.maps.event.addListener(ne,si.onClusteringEnd,F)),D(ne),M&&M(ne),()=>{de!==null&&google.maps.event.removeListener(de),j!==null&&google.maps.event.removeListener(j),B!==null&&google.maps.event.removeListener(B),we!==null&&google.maps.event.removeListener(we),Z!==null&&google.maps.event.removeListener(Z),O&&O(ne)}}},[]),A!==null&&e(A)||null}y.memo(PP);class kP extends y.PureComponent{constructor(){super(...arguments),se(this,"registeredEvents",[]),se(this,"state",{markerClusterer:null}),se(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new lS(this.context,[],this.props.options);this.registeredEvents=Ge({updaterMap:tt,eventMap:si,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&($e(this.registeredEvents),this.registeredEvents=Ge({updaterMap:tt,eventMap:si,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),$e(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}se(kP,"contextType",je);function db(n){n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation()}var uS=function(){function n(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(n,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return n.prototype.createInfoBoxDiv=function(){var e=this,t=function(_){_.returnValue=!1,_.preventDefault&&_.preventDefault(),e.enableEventPropagation||db(_)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var a=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-a.left-a.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var l=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],c=0,f=l;c<f.length;c++){var p=f[c];this.eventListeners.push(google.maps.event.addListener(this.div,p,db))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",t),google.maps.event.trigger(this,"domready")}},n.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},n.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},n.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},n.prototype.getCloseClickHandler=function(){return this.closeClickHandler},n.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var r=0,a=0,l=t.getBounds();l&&!l.contains(this.position)&&t.setCenter(this.position);var c=t.getDiv(),f=c.offsetWidth,p=c.offsetHeight,g=this.pixelOffset.width,_=this.pixelOffset.height,T=this.div.offsetWidth,b=this.div.offsetHeight,R=this.infoBoxClearance.width,C=this.infoBoxClearance.height,k=this.getProjection(),I=k.fromLatLngToContainerPixel(this.position);I!==null&&(I.x<-g+R?r=I.x+g-R:I.x+T+g+R>f&&(r=I.x+T+g+R-f),this.alignBottom?I.y<-_+C+b?a=I.y+_-C-b:I.y+_+C>p&&(a=I.y+_+C-p):I.y<-_+C?a=I.y+_-C:I.y+b+_+C>p&&(a=I.y+b+_+C-p)),r===0&&a===0||t.panBy(r,a)}}},n.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},n.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,r=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var a=this.div.currentStyle;a&&(e.top=parseInt(a.borderTopWidth||"",10)||0,e.bottom=parseInt(a.borderBottomWidth||"",10)||0,e.left=parseInt(a.borderLeftWidth||"",10)||0,e.right=parseInt(a.borderRightWidth||"",10)||0)}return e},n.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},n.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),t=e.fromLatLngToDivPixel(this.position);t!==null&&(this.div.style.left=t.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(t.y+this.pixelOffset.height)+"px":this.div.style.top=t.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},n.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},n.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},n.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},n.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},n.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},n.prototype.getContent=function(){return this.content},n.prototype.getPosition=function(){return this.position},n.prototype.getZIndex=function(){return this.zIndex},n.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},n.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},n.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},n.prototype.open=function(e,t){var r=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",function(){var a=t.getPosition();r.setPosition(a)}),this.mapListener=google.maps.event.addListener(t,"map_changed",function(){r.setMap(t.map)})),this.setMap(e),this.div&&this.panBox()},n.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var r=t[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},n.prototype.extend=function(e,t){return(function(a){for(var l in a.prototype)Object.prototype.hasOwnProperty.call(this,l)||(this.prototype[l]=a.prototype[l]);return this}).apply(e,[t])},n}(),jP=["position"],VP=["position"];function fb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function ud(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fb(Object(t),!0).forEach(function(r){se(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var pb={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},mb={options(n,e){n.setOptions(e)},position(n,e){e instanceof google.maps.LatLng?n.setPosition(e):n.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(n,e){n.setVisible(e)},zIndex(n,e){n.setZIndex(e)}},UP={};function BP(n){var{children:e,anchor:t,options:r,position:a,zIndex:l,onCloseClick:c,onDomReady:f,onContentChanged:p,onPositionChanged:g,onZindexChanged:_,onLoad:T,onUnmount:b}=n,R=y.useContext(je),[C,k]=y.useState(null),[I,U]=y.useState(null),[z,K]=y.useState(null),[F,q]=y.useState(null),[W,M]=y.useState(null),[O,A]=y.useState(null),D=y.useRef(null);return y.useEffect(()=>{R&&C!==null&&(C.close(),t?C.open(R,t):C.getPosition()&&C.open(R))},[R,C,t]),y.useEffect(()=>{r&&C!==null&&C.setOptions(r)},[C,r]),y.useEffect(()=>{if(a&&C!==null){var P=a instanceof google.maps.LatLng?a:new google.maps.LatLng(a.lat,a.lng);C.setPosition(P)}},[a]),y.useEffect(()=>{typeof l=="number"&&C!==null&&C.setZIndex(l)},[l]),y.useEffect(()=>{C&&c&&(I!==null&&google.maps.event.removeListener(I),U(google.maps.event.addListener(C,"closeclick",c)))},[c]),y.useEffect(()=>{C&&f&&(z!==null&&google.maps.event.removeListener(z),K(google.maps.event.addListener(C,"domready",f)))},[f]),y.useEffect(()=>{C&&p&&(F!==null&&google.maps.event.removeListener(F),q(google.maps.event.addListener(C,"content_changed",p)))},[p]),y.useEffect(()=>{C&&g&&(W!==null&&google.maps.event.removeListener(W),M(google.maps.event.addListener(C,"position_changed",g)))},[g]),y.useEffect(()=>{C&&_&&(O!==null&&google.maps.event.removeListener(O),A(google.maps.event.addListener(C,"zindex_changed",_)))},[_]),y.useEffect(()=>{if(R){var P=r||UP,{position:B}=P,N=Hg(P,jP),we;B&&!(B instanceof google.maps.LatLng)&&(we=new google.maps.LatLng(B.lat,B.lng));var ye=new uS(ud(ud({},N),we?{position:we}:{}));D.current=document.createElement("div"),k(ye),c&&U(google.maps.event.addListener(ye,"closeclick",c)),f&&K(google.maps.event.addListener(ye,"domready",f)),p&&q(google.maps.event.addListener(ye,"content_changed",p)),g&&M(google.maps.event.addListener(ye,"position_changed",g)),_&&A(google.maps.event.addListener(ye,"zindex_changed",_)),ye.setContent(D.current),t?ye.open(R,t):ye.getPosition()?ye.open(R):Gt(!1,"You must provide either an anchor or a position prop for <InfoBox>."),T&&T(ye)}return()=>{C!==null&&(I&&google.maps.event.removeListener(I),F&&google.maps.event.removeListener(F),z&&google.maps.event.removeListener(z),W&&google.maps.event.removeListener(W),O&&google.maps.event.removeListener(O),b&&b(C),C.close())}},[]),D.current?Yo.createPortal(y.Children.only(e),D.current):null}y.memo(BP);class zP extends y.PureComponent{constructor(){super(...arguments),se(this,"registeredEvents",[]),se(this,"containerElement",null),se(this,"state",{infoBox:null}),se(this,"open",(e,t)=>{t?this.context!==null&&e.open(this.context,t):e.getPosition()?this.context!==null&&e.open(this.context):Gt(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),se(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:t}=e,r=Hg(e,VP),a;t&&!(t instanceof google.maps.LatLng)&&(a=new google.maps.LatLng(t.lat,t.lng));var l=new uS(ud(ud({},r),a?{position:a}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Ge({updaterMap:mb,eventMap:pb,prevProps:{},nextProps:this.props,instance:l}),this.setState({infoBox:l},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:t}=this.state;t!==null&&($e(this.registeredEvents),this.registeredEvents=Ge({updaterMap:mb,eventMap:pb,prevProps:e,nextProps:this.props,instance:t}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:t}=this.state;t!==null&&(e&&e(t),$e(this.registeredEvents),t.close())}render(){return this.containerElement?Yo.createPortal(y.Children.only(this.props.children),this.containerElement):null}}se(zP,"contextType",je);var am,gb;function qP(){return gb||(gb=1,am=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,a,l;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(a=r;a--!==0;)if(!n(e[a],t[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(l=Object.keys(e),r=l.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,l[a]))return!1;for(a=r;a--!==0;){var c=l[a];if(!n(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}),am}var HP=qP(),vb=iS(HP),yb=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],om=1,ou=8;class Fg{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[t,r]=new Uint8Array(e,0,2);if(t!==219)throw new Error("Data does not appear to be in a KDBush format.");var a=r>>4;if(a!==om)throw new Error("Got v".concat(a," data when expected v").concat(om,"."));var l=yb[r&15];if(!l)throw new Error("Unrecognized array type.");var[c]=new Uint16Array(e,2,1),[f]=new Uint32Array(e,4,1);return new Fg(f,c,l,e)}constructor(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,a=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var l=yb.indexOf(this.ArrayType),c=e*2*this.ArrayType.BYTES_PER_ELEMENT,f=e*this.IndexArrayType.BYTES_PER_ELEMENT,p=(8-f%8)%8;if(l<0)throw new Error("Unexpected typed array class: ".concat(r,"."));a&&a instanceof ArrayBuffer?(this.data=a,this.ids=new this.IndexArrayType(this.data,ou,e),this.coords=new this.ArrayType(this.data,ou+f+p,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(ou+c+f+p),this.ids=new this.IndexArrayType(this.data,ou,e),this.coords=new this.ArrayType(this.data,ou+f+p,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(om<<4)+l]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=t,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return Um(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,r,a){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:l,coords:c,nodeSize:f}=this,p=[0,l.length-1,0],g=[];p.length;){var _=p.pop()||0,T=p.pop()||0,b=p.pop()||0;if(T-b<=f){for(var R=b;R<=T;R++){var C=c[2*R],k=c[2*R+1];C>=e&&C<=r&&k>=t&&k<=a&&g.push(l[R])}continue}var I=b+T>>1,U=c[2*I],z=c[2*I+1];U>=e&&U<=r&&z>=t&&z<=a&&g.push(l[I]),(_===0?e<=U:t<=z)&&(p.push(b),p.push(I-1),p.push(1-_)),(_===0?r>=U:a>=z)&&(p.push(I+1),p.push(T),p.push(1-_))}return g}within(e,t,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:a,coords:l,nodeSize:c}=this,f=[0,a.length-1,0],p=[],g=r*r;f.length;){var _=f.pop()||0,T=f.pop()||0,b=f.pop()||0;if(T-b<=c){for(var R=b;R<=T;R++)_b(l[2*R],l[2*R+1],e,t)<=g&&p.push(a[R]);continue}var C=b+T>>1,k=l[2*C],I=l[2*C+1];_b(k,I,e,t)<=g&&p.push(a[C]),(_===0?e-r<=k:t-r<=I)&&(f.push(b),f.push(C-1),f.push(1-_)),(_===0?e+r>=k:t+r>=I)&&(f.push(C+1),f.push(T),f.push(1-_))}return p}}function Um(n,e,t,r,a,l){if(!(a-r<=t)){var c=r+a>>1;cS(n,e,c,r,a,l),Um(n,e,t,r,c-1,1-l),Um(n,e,t,c+1,a,1-l)}}function cS(n,e,t,r,a,l){for(;a>r;){if(a-r>600){var c=a-r+1,f=t-r+1,p=Math.log(c),g=.5*Math.exp(2*p/3),_=.5*Math.sqrt(p*g*(c-g)/c)*(f-c/2<0?-1:1),T=Math.max(r,Math.floor(t-f*g/c+_)),b=Math.min(a,Math.floor(t+(c-f)*g/c+_));cS(n,e,t,T,b,l)}var R=e[2*t+l],C=r,k=a;for(lu(n,e,r,t),e[2*a+l]>R&&lu(n,e,r,a);C<k;){for(lu(n,e,C,k),C++,k--;e[2*C+l]<R;)C++;for(;e[2*k+l]>R;)k--}e[2*r+l]===R?lu(n,e,r,k):(k++,lu(n,e,k,a)),k<=t&&(r=k+1),t<=k&&(a=k-1)}}function lu(n,e,t,r){lm(n,t,r),lm(e,2*t,2*r),lm(e,2*t+1,2*r+1)}function lm(n,e,t){var r=n[e];n[e]=n[t],n[t]=r}function _b(n,e,t,r){var a=n-t,l=e-r;return a*a+l*l}var FP={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:n=>n},Eb=Math.fround||(n=>e=>(n[0]=+e,n[0]))(new Float32Array(1)),Ea=2,_s=3,um=4,ys=5,hS=6;class GP{constructor(e){this.options=Object.assign(Object.create(FP),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:t,minZoom:r,maxZoom:a}=this.options;t&&console.time("total time");var l="prepare ".concat(e.length," points");t&&console.time(l),this.points=e;for(var c=[],f=0;f<e.length;f++){var p=e[f];if(p.geometry){var[g,_]=p.geometry.coordinates,T=Eb(wh(g)),b=Eb(Th(_));c.push(T,b,1/0,f,-1,1),this.options.reduce&&c.push(0)}}var R=this.trees[a+1]=this._createTree(c);t&&console.timeEnd(l);for(var C=a;C>=r;C--){var k=+Date.now();R=this.trees[C]=this._createTree(this._cluster(R,C)),t&&console.log("z%d: %d clusters in %dms",C,R.numItems,+Date.now()-k)}return t&&console.timeEnd("total time"),this}getClusters(e,t){var r=((e[0]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[1])),l=e[2]===180?180:((e[2]+180)%360+360)%360-180,c=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,l=180;else if(r>l){var f=this.getClusters([r,a,180,c],t),p=this.getClusters([-180,a,l,c],t);return f.concat(p)}var g=this.trees[this._limitZoom(t)],_=g.range(wh(r),Th(c),wh(l),Th(a)),T=g.data,b=[];for(var R of _){var C=this.stride*R;b.push(T[C+ys]>1?bb(T,C,this.clusterProps):this.points[T[C+_s]])}return b}getChildren(e){var t=this._getOriginId(e),r=this._getOriginZoom(e),a="No cluster with the specified id.",l=this.trees[r];if(!l)throw new Error(a);var c=l.data;if(t*this.stride>=c.length)throw new Error(a);var f=this.options.radius/(this.options.extent*Math.pow(2,r-1)),p=c[t*this.stride],g=c[t*this.stride+1],_=l.within(p,g,f),T=[];for(var b of _){var R=b*this.stride;c[R+um]===e&&T.push(c[R+ys]>1?bb(c,R,this.clusterProps):this.points[c[R+_s]])}if(T.length===0)throw new Error(a);return T}getLeaves(e,t,r){t=t||10,r=r||0;var a=[];return this._appendLeaves(a,e,t,r,0),a}getTile(e,t,r){var a=this.trees[this._limitZoom(e)],l=Math.pow(2,e),{extent:c,radius:f}=this.options,p=f/c,g=(r-p)/l,_=(r+1+p)/l,T={features:[]};return this._addTileFeatures(a.range((t-p)/l,g,(t+1+p)/l,_),a.data,t,r,l,T),t===0&&this._addTileFeatures(a.range(1-p/l,g,1,_),a.data,l,r,l,T),t===l-1&&this._addTileFeatures(a.range(0,g,p/l,_),a.data,-1,r,l,T),T.features.length?T:null}getClusterExpansionZoom(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var r=this.getChildren(e);if(t++,r.length!==1)break;e=r[0].properties.cluster_id}return t}_appendLeaves(e,t,r,a,l){var c=this.getChildren(t);for(var f of c){var p=f.properties;if(p&&p.cluster?l+p.point_count<=a?l+=p.point_count:l=this._appendLeaves(e,p.cluster_id,r,a,l):l<a?l++:e.push(f),e.length===r)break}return l}_createTree(e){for(var t=new Fg(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)t.add(e[r],e[r+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,r,a,l,c){for(var f of e){var p=f*this.stride,g=t[p+ys]>1,_=void 0,T=void 0,b=void 0;if(g)_=dS(t,p,this.clusterProps),T=t[p],b=t[p+1];else{var R=this.points[t[p+_s]];_=R.properties;var[C,k]=R.geometry.coordinates;T=wh(C),b=Th(k)}var I={type:1,geometry:[[Math.round(this.options.extent*(T*l-r)),Math.round(this.options.extent*(b*l-a))]],tags:_},U=void 0;g||this.options.generateId?U=t[p+_s]:U=this.points[t[p+_s]].id,U!==void 0&&(I.id=U),c.features.push(I)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){for(var{radius:r,extent:a,reduce:l,minPoints:c}=this.options,f=r/(a*Math.pow(2,t)),p=e.data,g=[],_=this.stride,T=0;T<p.length;T+=_)if(!(p[T+Ea]<=t)){p[T+Ea]=t;var b=p[T],R=p[T+1],C=e.within(p[T],p[T+1],f),k=p[T+ys],I=k;for(var U of C){var z=U*_;p[z+Ea]>t&&(I+=p[z+ys])}if(I>k&&I>=c){var K=b*k,F=R*k,q=void 0,W=-1,M=((T/_|0)<<5)+(t+1)+this.points.length;for(var O of C){var A=O*_;if(!(p[A+Ea]<=t)){p[A+Ea]=t;var D=p[A+ys];K+=p[A]*D,F+=p[A+1]*D,p[A+um]=M,l&&(q||(q=this._map(p,T,!0),W=this.clusterProps.length,this.clusterProps.push(q)),l(q,this._map(p,A)))}}p[T+um]=M,g.push(K/I,F/I,1/0,M,-1,I),l&&g.push(W)}else{for(var P=0;P<_;P++)g.push(p[T+P]);if(I>1)for(var B of C){var N=B*_;if(!(p[N+Ea]<=t)){p[N+Ea]=t;for(var we=0;we<_;we++)g.push(p[N+we])}}}}return g}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,r){if(e[t+ys]>1){var a=this.clusterProps[e[t+hS]];return r?Object.assign({},a):a}var l=this.points[e[t+_s]].properties,c=this.options.map(l);return r&&c===l?Object.assign({},c):c}}function bb(n,e,t){return{type:"Feature",id:n[e+_s],properties:dS(n,e,t),geometry:{type:"Point",coordinates:[$P(n[e]),KP(n[e+1])]}}}function dS(n,e,t){var r=n[e+ys],a=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,l=n[e+hS],c=l===-1?{}:Object.assign({},t[l]);return Object.assign(c,{cluster:!0,cluster_id:n[e+_s],point_count:r,point_count_abbreviated:a})}function wh(n){return n/360+.5}function Th(n){var e=Math.sin(n*Math.PI/180),t=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return t<0?0:t>1?1:t}function $P(n){return(n-.5)*360}function KP(n){var e=(180-n*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function QP(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t}class Vn{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Bm{constructor(e){var{markers:t,position:r}=e;this.markers=t,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var t of this.markers)e.extend(Vn.getPosition(t));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Vn.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Vn.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class YP{constructor(e){var{maxZoom:t=16}=e;this.maxZoom=t}noop(e){var{markers:t}=e;return WP(t)}}var WP=n=>{var e=n.map(t=>new Bm({position:Vn.getPosition(t),markers:[t]}));return e};class ZP extends YP{constructor(e){var{maxZoom:t,radius:r=60}=e,a=QP(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new GP(Object.assign({maxZoom:this.maxZoom,radius:r},a))}calculate(e){var t=!1,r={zoom:e.map.getZoom()};if(!vb(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var a=this.markers.map(l=>{var c=Vn.getPosition(l),f=[c.lng(),c.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:f},properties:{marker:l}}});this.superCluster.load(a)}return t||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(t=!vb(this.state,r)),this.state=r,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){var{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[t,r]},properties:a}=e;if(a.cluster)return new Bm({markers:this.superCluster.getLeaves(a.cluster_id,1/0).map(c=>c.properties.marker),position:{lat:r,lng:t}});var l=a.marker;return new Bm({markers:[l],position:Vn.getPosition(l)})}}class XP{constructor(e,t){this.markers={sum:e.length};var r=t.map(l=>l.count),a=r.reduce((l,c)=>l+c,0);this.clusters={count:t.length,markers:{mean:a/t.length,sum:a,min:Math.min(...r),max:Math.max(...r)}}}}class JP{render(e,t,r){var{count:a,position:l}=e,c=a>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",f='<svg fill="'.concat(c,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(a,`</text>
</svg>`),p="Cluster of ".concat(a," markers"),g=Number(google.maps.Marker.MAX_ZINDEX)+a;if(Vn.isAdvancedMarkerAvailable(r)){var _=new DOMParser,T=_.parseFromString(f,"image/svg+xml").documentElement;T.setAttribute("transform","translate(0 25)");var b={map:r,position:l,zIndex:g,title:p,content:T};return new google.maps.marker.AdvancedMarkerElement(b)}var R={position:l,zIndex:g,title:p,icon:{url:"data:image/svg+xml;base64,".concat(btoa(f)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(R)}}function ek(n,e){for(var t in e.prototype)n.prototype[t]=e.prototype[t]}class Gg{constructor(){ek(Gg,google.maps.OverlayView)}}var wu;(function(n){n.CLUSTERING_BEGIN="clusteringbegin",n.CLUSTERING_END="clusteringend",n.CLUSTER_CLICK="click"})(wu||(wu={}));var tk=(n,e,t)=>{t.fitBounds(e.bounds)};class nk extends Gg{constructor(e){var{map:t,markers:r=[],algorithmOptions:a={},algorithm:l=new ZP(a),renderer:c=new JP,onClusterClick:f=tk}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=l,this.renderer=c,this.onClusterClick=f,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(r=>{this.addMarker(r,!0)}),t||this.render()}removeMarker(e,t){var r=this.markers.indexOf(e);return r===-1?!1:(Vn.setMap(e,null),this.markers.splice(r,1),t||this.render(),!0)}removeMarkers(e,t){var r=!1;return e.forEach(a=>{r=this.removeMarker(a,!0)||r}),r&&!t&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,wu.CLUSTERING_BEGIN,this);var{clusters:t,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var a=new Set;for(var l of t)l.markers.length==1&&a.add(l.markers[0]);var c=[];for(var f of this.clusters)f.marker!=null&&(f.markers.length==1?a.has(f.marker)||Vn.setMap(f.marker,null):c.push(f.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame(()=>c.forEach(p=>Vn.setMap(p,null)))}google.maps.event.trigger(this,wu.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Vn.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new XP(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,t),r.markers.forEach(a=>Vn.setMap(a,null)),this.onClusterClick&&r.marker.addListener("click",a=>{google.maps.event.trigger(this,wu.CLUSTER_CLICK,r),this.onClusterClick(a,r,t)})),Vn.setMap(r.marker,t)})}}function wb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Tb(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wb(Object(t),!0).forEach(function(r){se(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ik(n){var e=YN(),[t,r]=y.useState(null);return y.useEffect(()=>{if(e&&t===null){var a=new nk(Tb(Tb({},n),{},{map:e}));r(a)}},[e]),t}function rk(n){var{children:e,options:t}=n,r=ik(t);return r!==null?e(r):null}y.memo(rk);var Sb={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Cb={options(n,e){n.setOptions(e)},position(n,e){n.setPosition(e)},zIndex(n,e){n.setZIndex(e)}};function sk(n){var{children:e,anchor:t,options:r,position:a,zIndex:l,onCloseClick:c,onDomReady:f,onContentChanged:p,onPositionChanged:g,onZindexChanged:_,onLoad:T,onUnmount:b}=n,R=y.useContext(je),[C,k]=y.useState(null),[I,U]=y.useState(null),[z,K]=y.useState(null),[F,q]=y.useState(null),[W,M]=y.useState(null),[O,A]=y.useState(null),D=y.useRef(null);return y.useEffect(()=>{C!==null&&(C.close(),t?C.open(R,t):C.getPosition()&&C.open(R))},[R,C,t]),y.useEffect(()=>{r&&C!==null&&C.setOptions(r)},[C,r]),y.useEffect(()=>{a&&C!==null&&C.setPosition(a)},[a]),y.useEffect(()=>{typeof l=="number"&&C!==null&&C.setZIndex(l)},[l]),y.useEffect(()=>{C&&c&&(I!==null&&google.maps.event.removeListener(I),U(google.maps.event.addListener(C,"closeclick",c)))},[c]),y.useEffect(()=>{C&&f&&(z!==null&&google.maps.event.removeListener(z),K(google.maps.event.addListener(C,"domready",f)))},[f]),y.useEffect(()=>{C&&p&&(F!==null&&google.maps.event.removeListener(F),q(google.maps.event.addListener(C,"content_changed",p)))},[p]),y.useEffect(()=>{C&&g&&(W!==null&&google.maps.event.removeListener(W),M(google.maps.event.addListener(C,"position_changed",g)))},[g]),y.useEffect(()=>{C&&_&&(O!==null&&google.maps.event.removeListener(O),A(google.maps.event.addListener(C,"zindex_changed",_)))},[_]),y.useEffect(()=>{var P=new google.maps.InfoWindow(r);return k(P),D.current=document.createElement("div"),c&&U(google.maps.event.addListener(P,"closeclick",c)),f&&K(google.maps.event.addListener(P,"domready",f)),p&&q(google.maps.event.addListener(P,"content_changed",p)),g&&M(google.maps.event.addListener(P,"position_changed",g)),_&&A(google.maps.event.addListener(P,"zindex_changed",_)),P.setContent(D.current),a&&P.setPosition(a),l&&P.setZIndex(l),t?P.open(R,t):P.getPosition()?P.open(R):Gt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),T&&T(P),()=>{I&&google.maps.event.removeListener(I),F&&google.maps.event.removeListener(F),z&&google.maps.event.removeListener(z),W&&google.maps.event.removeListener(W),O&&google.maps.event.removeListener(O),b&&b(P),P.close()}},[]),D.current?Yo.createPortal(y.Children.only(e),D.current):null}y.memo(sk);class ak extends y.PureComponent{constructor(){super(...arguments),se(this,"registeredEvents",[]),se(this,"containerElement",null),se(this,"state",{infoWindow:null}),se(this,"open",(e,t)=>{t?e.open(this.context,t):e.getPosition()?e.open(this.context):Gt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),se(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Ge({updaterMap:Cb,eventMap:Sb,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&($e(this.registeredEvents),this.registeredEvents=Ge({updaterMap:Cb,eventMap:Sb,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&($e(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Yo.createPortal(y.Children.only(this.props.children),this.containerElement):null}}se(ak,"contextType",je);function Ab(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function cd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ab(Object(t),!0).forEach(function(r){se(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ab(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var xb={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Rb={draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},path(n,e){n.setPath(e)},visible(n,e){n.setVisible(e)}},ok={};function lk(n){var{options:e,draggable:t,editable:r,visible:a,path:l,onDblClick:c,onDragEnd:f,onDragStart:p,onMouseDown:g,onMouseMove:_,onMouseOut:T,onMouseOver:b,onMouseUp:R,onRightClick:C,onClick:k,onDrag:I,onLoad:U,onUnmount:z}=n,K=y.useContext(je),[F,q]=y.useState(null),[W,M]=y.useState(null),[O,A]=y.useState(null),[D,P]=y.useState(null),[B,N]=y.useState(null),[we,ye]=y.useState(null),[Z,ue]=y.useState(null),[de,be]=y.useState(null),[j,ie]=y.useState(null),[ce,ne]=y.useState(null),[pe,ee]=y.useState(null),[me,De]=y.useState(null);return y.useEffect(()=>{F!==null&&F.setMap(K)},[K]),y.useEffect(()=>{typeof e<"u"&&F!==null&&F.setOptions(e)},[F,e]),y.useEffect(()=>{typeof t<"u"&&F!==null&&F.setDraggable(t)},[F,t]),y.useEffect(()=>{typeof r<"u"&&F!==null&&F.setEditable(r)},[F,r]),y.useEffect(()=>{typeof a<"u"&&F!==null&&F.setVisible(a)},[F,a]),y.useEffect(()=>{typeof l<"u"&&F!==null&&F.setPath(l)},[F,l]),y.useEffect(()=>{F&&c&&(W!==null&&google.maps.event.removeListener(W),M(google.maps.event.addListener(F,"dblclick",c)))},[c]),y.useEffect(()=>{F&&f&&(O!==null&&google.maps.event.removeListener(O),A(google.maps.event.addListener(F,"dragend",f)))},[f]),y.useEffect(()=>{F&&p&&(D!==null&&google.maps.event.removeListener(D),P(google.maps.event.addListener(F,"dragstart",p)))},[p]),y.useEffect(()=>{F&&g&&(B!==null&&google.maps.event.removeListener(B),N(google.maps.event.addListener(F,"mousedown",g)))},[g]),y.useEffect(()=>{F&&_&&(we!==null&&google.maps.event.removeListener(we),ye(google.maps.event.addListener(F,"mousemove",_)))},[_]),y.useEffect(()=>{F&&T&&(Z!==null&&google.maps.event.removeListener(Z),ue(google.maps.event.addListener(F,"mouseout",T)))},[T]),y.useEffect(()=>{F&&b&&(de!==null&&google.maps.event.removeListener(de),be(google.maps.event.addListener(F,"mouseover",b)))},[b]),y.useEffect(()=>{F&&R&&(j!==null&&google.maps.event.removeListener(j),ie(google.maps.event.addListener(F,"mouseup",R)))},[R]),y.useEffect(()=>{F&&C&&(ce!==null&&google.maps.event.removeListener(ce),ne(google.maps.event.addListener(F,"rightclick",C)))},[C]),y.useEffect(()=>{F&&k&&(pe!==null&&google.maps.event.removeListener(pe),ee(google.maps.event.addListener(F,"click",k)))},[k]),y.useEffect(()=>{F&&I&&(me!==null&&google.maps.event.removeListener(me),De(google.maps.event.addListener(F,"drag",I)))},[I]),y.useEffect(()=>{var ve=new google.maps.Polyline(cd(cd({},e||ok),{},{map:K}));return l&&ve.setPath(l),typeof a<"u"&&ve.setVisible(a),typeof r<"u"&&ve.setEditable(r),typeof t<"u"&&ve.setDraggable(t),c&&M(google.maps.event.addListener(ve,"dblclick",c)),f&&A(google.maps.event.addListener(ve,"dragend",f)),p&&P(google.maps.event.addListener(ve,"dragstart",p)),g&&N(google.maps.event.addListener(ve,"mousedown",g)),_&&ye(google.maps.event.addListener(ve,"mousemove",_)),T&&ue(google.maps.event.addListener(ve,"mouseout",T)),b&&be(google.maps.event.addListener(ve,"mouseover",b)),R&&ie(google.maps.event.addListener(ve,"mouseup",R)),C&&ne(google.maps.event.addListener(ve,"rightclick",C)),k&&ee(google.maps.event.addListener(ve,"click",k)),I&&De(google.maps.event.addListener(ve,"drag",I)),q(ve),U&&U(ve),()=>{W!==null&&google.maps.event.removeListener(W),O!==null&&google.maps.event.removeListener(O),D!==null&&google.maps.event.removeListener(D),B!==null&&google.maps.event.removeListener(B),we!==null&&google.maps.event.removeListener(we),Z!==null&&google.maps.event.removeListener(Z),de!==null&&google.maps.event.removeListener(de),j!==null&&google.maps.event.removeListener(j),ce!==null&&google.maps.event.removeListener(ce),pe!==null&&google.maps.event.removeListener(pe),z&&z(ve),ve.setMap(null)}},[]),null}y.memo(lk);class uk extends y.PureComponent{constructor(){super(...arguments),se(this,"registeredEvents",[]),se(this,"state",{polyline:null}),se(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(cd(cd({},this.props.options),{},{map:this.context}));this.registeredEvents=Ge({updaterMap:Rb,eventMap:xb,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&($e(this.registeredEvents),this.registeredEvents=Ge({updaterMap:Rb,eventMap:xb,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),$e(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}se(uk,"contextType",je);function Lb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Ib(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Lb(Object(t),!0).forEach(function(r){se(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Lb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var Ob={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Mb={draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},path(n,e){n.setPath(e)},paths(n,e){n.setPaths(e)},visible(n,e){n.setVisible(e)}};function ck(n){var{options:e,draggable:t,editable:r,visible:a,path:l,paths:c,onDblClick:f,onDragEnd:p,onDragStart:g,onMouseDown:_,onMouseMove:T,onMouseOut:b,onMouseOver:R,onMouseUp:C,onRightClick:k,onClick:I,onDrag:U,onLoad:z,onUnmount:K,onEdit:F}=n,q=y.useContext(je),[W,M]=y.useState(null),[O,A]=y.useState(null),[D,P]=y.useState(null),[B,N]=y.useState(null),[we,ye]=y.useState(null),[Z,ue]=y.useState(null),[de,be]=y.useState(null),[j,ie]=y.useState(null),[ce,ne]=y.useState(null),[pe,ee]=y.useState(null),[me,De]=y.useState(null),[ve,nt]=y.useState(null);return y.useEffect(()=>{W!==null&&W.setMap(q)},[q]),y.useEffect(()=>{typeof e<"u"&&W!==null&&W.setOptions(e)},[W,e]),y.useEffect(()=>{typeof t<"u"&&W!==null&&W.setDraggable(t)},[W,t]),y.useEffect(()=>{typeof r<"u"&&W!==null&&W.setEditable(r)},[W,r]),y.useEffect(()=>{typeof a<"u"&&W!==null&&W.setVisible(a)},[W,a]),y.useEffect(()=>{typeof l<"u"&&W!==null&&W.setPath(l)},[W,l]),y.useEffect(()=>{typeof c<"u"&&W!==null&&W.setPaths(c)},[W,c]),y.useEffect(()=>{W&&typeof f=="function"&&(O!==null&&google.maps.event.removeListener(O),A(google.maps.event.addListener(W,"dblclick",f)))},[f]),y.useEffect(()=>{W&&(google.maps.event.addListener(W.getPath(),"insert_at",()=>{F==null||F(W)}),google.maps.event.addListener(W.getPath(),"set_at",()=>{F==null||F(W)}),google.maps.event.addListener(W.getPath(),"remove_at",()=>{F==null||F(W)}))},[W,F]),y.useEffect(()=>{W&&typeof p=="function"&&(D!==null&&google.maps.event.removeListener(D),P(google.maps.event.addListener(W,"dragend",p)))},[p]),y.useEffect(()=>{W&&typeof g=="function"&&(B!==null&&google.maps.event.removeListener(B),N(google.maps.event.addListener(W,"dragstart",g)))},[g]),y.useEffect(()=>{W&&typeof _=="function"&&(we!==null&&google.maps.event.removeListener(we),ye(google.maps.event.addListener(W,"mousedown",_)))},[_]),y.useEffect(()=>{W&&typeof T=="function"&&(Z!==null&&google.maps.event.removeListener(Z),ue(google.maps.event.addListener(W,"mousemove",T)))},[T]),y.useEffect(()=>{W&&typeof b=="function"&&(de!==null&&google.maps.event.removeListener(de),be(google.maps.event.addListener(W,"mouseout",b)))},[b]),y.useEffect(()=>{W&&typeof R=="function"&&(j!==null&&google.maps.event.removeListener(j),ie(google.maps.event.addListener(W,"mouseover",R)))},[R]),y.useEffect(()=>{W&&typeof C=="function"&&(ce!==null&&google.maps.event.removeListener(ce),ne(google.maps.event.addListener(W,"mouseup",C)))},[C]),y.useEffect(()=>{W&&typeof k=="function"&&(pe!==null&&google.maps.event.removeListener(pe),ee(google.maps.event.addListener(W,"rightclick",k)))},[k]),y.useEffect(()=>{W&&typeof I=="function"&&(me!==null&&google.maps.event.removeListener(me),De(google.maps.event.addListener(W,"click",I)))},[I]),y.useEffect(()=>{W&&typeof U=="function"&&(ve!==null&&google.maps.event.removeListener(ve),nt(google.maps.event.addListener(W,"drag",U)))},[U]),y.useEffect(()=>{var Se=new google.maps.Polygon(Ib(Ib({},e),{},{map:q}));return l&&Se.setPath(l),c&&Se.setPaths(c),typeof a<"u"&&Se.setVisible(a),typeof r<"u"&&Se.setEditable(r),typeof t<"u"&&Se.setDraggable(t),f&&A(google.maps.event.addListener(Se,"dblclick",f)),p&&P(google.maps.event.addListener(Se,"dragend",p)),g&&N(google.maps.event.addListener(Se,"dragstart",g)),_&&ye(google.maps.event.addListener(Se,"mousedown",_)),T&&ue(google.maps.event.addListener(Se,"mousemove",T)),b&&be(google.maps.event.addListener(Se,"mouseout",b)),R&&ie(google.maps.event.addListener(Se,"mouseover",R)),C&&ne(google.maps.event.addListener(Se,"mouseup",C)),k&&ee(google.maps.event.addListener(Se,"rightclick",k)),I&&De(google.maps.event.addListener(Se,"click",I)),U&&nt(google.maps.event.addListener(Se,"drag",U)),M(Se),z&&z(Se),()=>{O!==null&&google.maps.event.removeListener(O),D!==null&&google.maps.event.removeListener(D),B!==null&&google.maps.event.removeListener(B),we!==null&&google.maps.event.removeListener(we),Z!==null&&google.maps.event.removeListener(Z),de!==null&&google.maps.event.removeListener(de),j!==null&&google.maps.event.removeListener(j),ce!==null&&google.maps.event.removeListener(ce),pe!==null&&google.maps.event.removeListener(pe),me!==null&&google.maps.event.removeListener(me),K&&K(Se),Se.setMap(null)}},[]),null}y.memo(ck);class hk extends y.PureComponent{constructor(){super(...arguments),se(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=Ge({updaterMap:Mb,eventMap:Ob,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&($e(this.registeredEvents),this.registeredEvents=Ge({updaterMap:Mb,eventMap:Ob,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),$e(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}se(hk,"contextType",je);function Db(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function hd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Db(Object(t),!0).forEach(function(r){se(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Db(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var Nb={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Pb={bounds(n,e){n.setBounds(e)},draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},visible(n,e){n.setVisible(e)}};function dk(n){var{options:e,bounds:t,draggable:r,editable:a,visible:l,onDblClick:c,onDragEnd:f,onDragStart:p,onMouseDown:g,onMouseMove:_,onMouseOut:T,onMouseOver:b,onMouseUp:R,onRightClick:C,onClick:k,onDrag:I,onBoundsChanged:U,onLoad:z,onUnmount:K}=n,F=y.useContext(je),[q,W]=y.useState(null),[M,O]=y.useState(null),[A,D]=y.useState(null),[P,B]=y.useState(null),[N,we]=y.useState(null),[ye,Z]=y.useState(null),[ue,de]=y.useState(null),[be,j]=y.useState(null),[ie,ce]=y.useState(null),[ne,pe]=y.useState(null),[ee,me]=y.useState(null),[De,ve]=y.useState(null),[nt,Se]=y.useState(null);return y.useEffect(()=>{q!==null&&q.setMap(F)},[F]),y.useEffect(()=>{typeof e<"u"&&q!==null&&q.setOptions(e)},[q,e]),y.useEffect(()=>{typeof r<"u"&&q!==null&&q.setDraggable(r)},[q,r]),y.useEffect(()=>{typeof a<"u"&&q!==null&&q.setEditable(a)},[q,a]),y.useEffect(()=>{typeof l<"u"&&q!==null&&q.setVisible(l)},[q,l]),y.useEffect(()=>{typeof t<"u"&&q!==null&&q.setBounds(t)},[q,t]),y.useEffect(()=>{q&&c&&(M!==null&&google.maps.event.removeListener(M),O(google.maps.event.addListener(q,"dblclick",c)))},[c]),y.useEffect(()=>{q&&f&&(A!==null&&google.maps.event.removeListener(A),D(google.maps.event.addListener(q,"dragend",f)))},[f]),y.useEffect(()=>{q&&p&&(P!==null&&google.maps.event.removeListener(P),B(google.maps.event.addListener(q,"dragstart",p)))},[p]),y.useEffect(()=>{q&&g&&(N!==null&&google.maps.event.removeListener(N),we(google.maps.event.addListener(q,"mousedown",g)))},[g]),y.useEffect(()=>{q&&_&&(ye!==null&&google.maps.event.removeListener(ye),Z(google.maps.event.addListener(q,"mousemove",_)))},[_]),y.useEffect(()=>{q&&T&&(ue!==null&&google.maps.event.removeListener(ue),de(google.maps.event.addListener(q,"mouseout",T)))},[T]),y.useEffect(()=>{q&&b&&(be!==null&&google.maps.event.removeListener(be),j(google.maps.event.addListener(q,"mouseover",b)))},[b]),y.useEffect(()=>{q&&R&&(ie!==null&&google.maps.event.removeListener(ie),ce(google.maps.event.addListener(q,"mouseup",R)))},[R]),y.useEffect(()=>{q&&C&&(ne!==null&&google.maps.event.removeListener(ne),pe(google.maps.event.addListener(q,"rightclick",C)))},[C]),y.useEffect(()=>{q&&k&&(ee!==null&&google.maps.event.removeListener(ee),me(google.maps.event.addListener(q,"click",k)))},[k]),y.useEffect(()=>{q&&I&&(De!==null&&google.maps.event.removeListener(De),ve(google.maps.event.addListener(q,"drag",I)))},[I]),y.useEffect(()=>{q&&U&&(nt!==null&&google.maps.event.removeListener(nt),Se(google.maps.event.addListener(q,"bounds_changed",U)))},[U]),y.useEffect(()=>{var Pe=new google.maps.Rectangle(hd(hd({},e),{},{map:F}));return typeof l<"u"&&Pe.setVisible(l),typeof a<"u"&&Pe.setEditable(a),typeof r<"u"&&Pe.setDraggable(r),typeof t<"u"&&Pe.setBounds(t),c&&O(google.maps.event.addListener(Pe,"dblclick",c)),f&&D(google.maps.event.addListener(Pe,"dragend",f)),p&&B(google.maps.event.addListener(Pe,"dragstart",p)),g&&we(google.maps.event.addListener(Pe,"mousedown",g)),_&&Z(google.maps.event.addListener(Pe,"mousemove",_)),T&&de(google.maps.event.addListener(Pe,"mouseout",T)),b&&j(google.maps.event.addListener(Pe,"mouseover",b)),R&&ce(google.maps.event.addListener(Pe,"mouseup",R)),C&&pe(google.maps.event.addListener(Pe,"rightclick",C)),k&&me(google.maps.event.addListener(Pe,"click",k)),I&&ve(google.maps.event.addListener(Pe,"drag",I)),U&&Se(google.maps.event.addListener(Pe,"bounds_changed",U)),W(Pe),z&&z(Pe),()=>{M!==null&&google.maps.event.removeListener(M),A!==null&&google.maps.event.removeListener(A),P!==null&&google.maps.event.removeListener(P),N!==null&&google.maps.event.removeListener(N),ye!==null&&google.maps.event.removeListener(ye),ue!==null&&google.maps.event.removeListener(ue),be!==null&&google.maps.event.removeListener(be),ie!==null&&google.maps.event.removeListener(ie),ne!==null&&google.maps.event.removeListener(ne),ee!==null&&google.maps.event.removeListener(ee),De!==null&&google.maps.event.removeListener(De),nt!==null&&google.maps.event.removeListener(nt),K&&K(Pe),Pe.setMap(null)}},[]),null}y.memo(dk);class fk extends y.PureComponent{constructor(){super(...arguments),se(this,"registeredEvents",[]),se(this,"state",{rectangle:null}),se(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(hd(hd({},this.props.options),{},{map:this.context}));this.registeredEvents=Ge({updaterMap:Pb,eventMap:Nb,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&($e(this.registeredEvents),this.registeredEvents=Ge({updaterMap:Pb,eventMap:Nb,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),$e(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}se(fk,"contextType",je);function kb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function dd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kb(Object(t),!0).forEach(function(r){se(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var jb={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Vb={center(n,e){n.setCenter(e)},draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},radius(n,e){n.setRadius(e)},visible(n,e){n.setVisible(e)}},pk={};function mk(n){var{options:e,center:t,radius:r,draggable:a,editable:l,visible:c,onDblClick:f,onDragEnd:p,onDragStart:g,onMouseDown:_,onMouseMove:T,onMouseOut:b,onMouseOver:R,onMouseUp:C,onRightClick:k,onClick:I,onDrag:U,onCenterChanged:z,onRadiusChanged:K,onLoad:F,onUnmount:q}=n,W=y.useContext(je),[M,O]=y.useState(null),[A,D]=y.useState(null),[P,B]=y.useState(null),[N,we]=y.useState(null),[ye,Z]=y.useState(null),[ue,de]=y.useState(null),[be,j]=y.useState(null),[ie,ce]=y.useState(null),[ne,pe]=y.useState(null),[ee,me]=y.useState(null),[De,ve]=y.useState(null),[nt,Se]=y.useState(null),[Pe,jt]=y.useState(null),[Jt,Rn]=y.useState(null);return y.useEffect(()=>{M!==null&&M.setMap(W)},[W]),y.useEffect(()=>{typeof e<"u"&&M!==null&&M.setOptions(e)},[M,e]),y.useEffect(()=>{typeof a<"u"&&M!==null&&M.setDraggable(a)},[M,a]),y.useEffect(()=>{typeof l<"u"&&M!==null&&M.setEditable(l)},[M,l]),y.useEffect(()=>{typeof c<"u"&&M!==null&&M.setVisible(c)},[M,c]),y.useEffect(()=>{typeof r=="number"&&M!==null&&M.setRadius(r)},[M,r]),y.useEffect(()=>{typeof t<"u"&&M!==null&&M.setCenter(t)},[M,t]),y.useEffect(()=>{M&&f&&(A!==null&&google.maps.event.removeListener(A),D(google.maps.event.addListener(M,"dblclick",f)))},[f]),y.useEffect(()=>{M&&p&&(P!==null&&google.maps.event.removeListener(P),B(google.maps.event.addListener(M,"dragend",p)))},[p]),y.useEffect(()=>{M&&g&&(N!==null&&google.maps.event.removeListener(N),we(google.maps.event.addListener(M,"dragstart",g)))},[g]),y.useEffect(()=>{M&&_&&(ye!==null&&google.maps.event.removeListener(ye),Z(google.maps.event.addListener(M,"mousedown",_)))},[_]),y.useEffect(()=>{M&&T&&(ue!==null&&google.maps.event.removeListener(ue),de(google.maps.event.addListener(M,"mousemove",T)))},[T]),y.useEffect(()=>{M&&b&&(be!==null&&google.maps.event.removeListener(be),j(google.maps.event.addListener(M,"mouseout",b)))},[b]),y.useEffect(()=>{M&&R&&(ie!==null&&google.maps.event.removeListener(ie),ce(google.maps.event.addListener(M,"mouseover",R)))},[R]),y.useEffect(()=>{M&&C&&(ne!==null&&google.maps.event.removeListener(ne),pe(google.maps.event.addListener(M,"mouseup",C)))},[C]),y.useEffect(()=>{M&&k&&(ee!==null&&google.maps.event.removeListener(ee),me(google.maps.event.addListener(M,"rightclick",k)))},[k]),y.useEffect(()=>{M&&I&&(De!==null&&google.maps.event.removeListener(De),ve(google.maps.event.addListener(M,"click",I)))},[I]),y.useEffect(()=>{M&&U&&(nt!==null&&google.maps.event.removeListener(nt),Se(google.maps.event.addListener(M,"drag",U)))},[U]),y.useEffect(()=>{M&&z&&(Pe!==null&&google.maps.event.removeListener(Pe),jt(google.maps.event.addListener(M,"center_changed",z)))},[I]),y.useEffect(()=>{M&&K&&(Jt!==null&&google.maps.event.removeListener(Jt),Rn(google.maps.event.addListener(M,"radius_changed",K)))},[K]),y.useEffect(()=>{var Ke=new google.maps.Circle(dd(dd({},e||pk),{},{map:W}));return typeof r=="number"&&Ke.setRadius(r),typeof t<"u"&&Ke.setCenter(t),typeof r=="number"&&Ke.setRadius(r),typeof c<"u"&&Ke.setVisible(c),typeof l<"u"&&Ke.setEditable(l),typeof a<"u"&&Ke.setDraggable(a),f&&D(google.maps.event.addListener(Ke,"dblclick",f)),p&&B(google.maps.event.addListener(Ke,"dragend",p)),g&&we(google.maps.event.addListener(Ke,"dragstart",g)),_&&Z(google.maps.event.addListener(Ke,"mousedown",_)),T&&de(google.maps.event.addListener(Ke,"mousemove",T)),b&&j(google.maps.event.addListener(Ke,"mouseout",b)),R&&ce(google.maps.event.addListener(Ke,"mouseover",R)),C&&pe(google.maps.event.addListener(Ke,"mouseup",C)),k&&me(google.maps.event.addListener(Ke,"rightclick",k)),I&&ve(google.maps.event.addListener(Ke,"click",I)),U&&Se(google.maps.event.addListener(Ke,"drag",U)),z&&jt(google.maps.event.addListener(Ke,"center_changed",z)),K&&Rn(google.maps.event.addListener(Ke,"radius_changed",K)),O(Ke),F&&F(Ke),()=>{A!==null&&google.maps.event.removeListener(A),P!==null&&google.maps.event.removeListener(P),N!==null&&google.maps.event.removeListener(N),ye!==null&&google.maps.event.removeListener(ye),ue!==null&&google.maps.event.removeListener(ue),be!==null&&google.maps.event.removeListener(be),ie!==null&&google.maps.event.removeListener(ie),ne!==null&&google.maps.event.removeListener(ne),ee!==null&&google.maps.event.removeListener(ee),De!==null&&google.maps.event.removeListener(De),Pe!==null&&google.maps.event.removeListener(Pe),Jt!==null&&google.maps.event.removeListener(Jt),q&&q(Ke),Ke.setMap(null)}},[]),null}y.memo(mk);class gk extends y.PureComponent{constructor(){super(...arguments),se(this,"registeredEvents",[]),se(this,"state",{circle:null}),se(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(dd(dd({},this.props.options),{},{map:this.context}));this.registeredEvents=Ge({updaterMap:Vb,eventMap:jb,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&($e(this.registeredEvents),this.registeredEvents=Ge({updaterMap:Vb,eventMap:jb,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),$e(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}se(gk,"contextType",je);function Ub(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function fd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ub(Object(t),!0).forEach(function(r){se(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ub(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var Bb={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},zb={add(n,e){n.add(e)},addgeojson(n,e,t){n.addGeoJson(e,t)},contains(n,e){n.contains(e)},foreach(n,e){n.forEach(e)},loadgeojson(n,e,t,r){n.loadGeoJson(e,t,r)},overridestyle(n,e,t){n.overrideStyle(e,t)},remove(n,e){n.remove(e)},revertstyle(n,e){n.revertStyle(e)},controlposition(n,e){n.setControlPosition(e)},controls(n,e){n.setControls(e)},drawingmode(n,e){n.setDrawingMode(e)},map(n,e){n.setMap(e)},style(n,e){n.setStyle(e)},togeojson(n,e){n.toGeoJson(e)}};function vk(n){var{options:e,onClick:t,onDblClick:r,onMouseDown:a,onMouseMove:l,onMouseOut:c,onMouseOver:f,onMouseUp:p,onRightClick:g,onAddFeature:_,onRemoveFeature:T,onRemoveProperty:b,onSetGeometry:R,onSetProperty:C,onLoad:k,onUnmount:I}=n,U=y.useContext(je),[z,K]=y.useState(null),[F,q]=y.useState(null),[W,M]=y.useState(null),[O,A]=y.useState(null),[D,P]=y.useState(null),[B,N]=y.useState(null),[we,ye]=y.useState(null),[Z,ue]=y.useState(null),[de,be]=y.useState(null),[j,ie]=y.useState(null),[ce,ne]=y.useState(null),[pe,ee]=y.useState(null),[me,De]=y.useState(null),[ve,nt]=y.useState(null);return y.useEffect(()=>{z!==null&&z.setMap(U)},[U]),y.useEffect(()=>{z&&r&&(F!==null&&google.maps.event.removeListener(F),q(google.maps.event.addListener(z,"dblclick",r)))},[r]),y.useEffect(()=>{z&&a&&(W!==null&&google.maps.event.removeListener(W),M(google.maps.event.addListener(z,"mousedown",a)))},[a]),y.useEffect(()=>{z&&l&&(O!==null&&google.maps.event.removeListener(O),A(google.maps.event.addListener(z,"mousemove",l)))},[l]),y.useEffect(()=>{z&&c&&(D!==null&&google.maps.event.removeListener(D),P(google.maps.event.addListener(z,"mouseout",c)))},[c]),y.useEffect(()=>{z&&f&&(B!==null&&google.maps.event.removeListener(B),N(google.maps.event.addListener(z,"mouseover",f)))},[f]),y.useEffect(()=>{z&&p&&(we!==null&&google.maps.event.removeListener(we),ye(google.maps.event.addListener(z,"mouseup",p)))},[p]),y.useEffect(()=>{z&&g&&(Z!==null&&google.maps.event.removeListener(Z),ue(google.maps.event.addListener(z,"rightclick",g)))},[g]),y.useEffect(()=>{z&&t&&(de!==null&&google.maps.event.removeListener(de),be(google.maps.event.addListener(z,"click",t)))},[t]),y.useEffect(()=>{z&&_&&(j!==null&&google.maps.event.removeListener(j),ie(google.maps.event.addListener(z,"addfeature",_)))},[_]),y.useEffect(()=>{z&&T&&(ce!==null&&google.maps.event.removeListener(ce),ne(google.maps.event.addListener(z,"removefeature",T)))},[T]),y.useEffect(()=>{z&&b&&(pe!==null&&google.maps.event.removeListener(pe),ee(google.maps.event.addListener(z,"removeproperty",b)))},[b]),y.useEffect(()=>{z&&R&&(me!==null&&google.maps.event.removeListener(me),De(google.maps.event.addListener(z,"setgeometry",R)))},[R]),y.useEffect(()=>{z&&C&&(ve!==null&&google.maps.event.removeListener(ve),nt(google.maps.event.addListener(z,"setproperty",C)))},[C]),y.useEffect(()=>{if(U!==null){var Se=new google.maps.Data(fd(fd({},e),{},{map:U}));r&&q(google.maps.event.addListener(Se,"dblclick",r)),a&&M(google.maps.event.addListener(Se,"mousedown",a)),l&&A(google.maps.event.addListener(Se,"mousemove",l)),c&&P(google.maps.event.addListener(Se,"mouseout",c)),f&&N(google.maps.event.addListener(Se,"mouseover",f)),p&&ye(google.maps.event.addListener(Se,"mouseup",p)),g&&ue(google.maps.event.addListener(Se,"rightclick",g)),t&&be(google.maps.event.addListener(Se,"click",t)),_&&ie(google.maps.event.addListener(Se,"addfeature",_)),T&&ne(google.maps.event.addListener(Se,"removefeature",T)),b&&ee(google.maps.event.addListener(Se,"removeproperty",b)),R&&De(google.maps.event.addListener(Se,"setgeometry",R)),C&&nt(google.maps.event.addListener(Se,"setproperty",C)),K(Se),k&&k(Se)}return()=>{z&&(F!==null&&google.maps.event.removeListener(F),W!==null&&google.maps.event.removeListener(W),O!==null&&google.maps.event.removeListener(O),D!==null&&google.maps.event.removeListener(D),B!==null&&google.maps.event.removeListener(B),we!==null&&google.maps.event.removeListener(we),Z!==null&&google.maps.event.removeListener(Z),de!==null&&google.maps.event.removeListener(de),j!==null&&google.maps.event.removeListener(j),ce!==null&&google.maps.event.removeListener(ce),pe!==null&&google.maps.event.removeListener(pe),me!==null&&google.maps.event.removeListener(me),ve!==null&&google.maps.event.removeListener(ve),I&&I(z),z.setMap(null))}},[]),null}y.memo(vk);class yk extends y.PureComponent{constructor(){super(...arguments),se(this,"registeredEvents",[]),se(this,"state",{data:null}),se(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(fd(fd({},this.props.options),{},{map:this.context}));this.registeredEvents=Ge({updaterMap:zb,eventMap:Bb,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&($e(this.registeredEvents),this.registeredEvents=Ge({updaterMap:zb,eventMap:Bb,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),$e(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}se(yk,"contextType",je);function qb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Hb(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qb(Object(t),!0).forEach(function(r){se(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):qb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var Fb={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},Gb={options(n,e){n.setOptions(e)},url(n,e){n.setUrl(e)},zIndex(n,e){n.setZIndex(e)}};class _k extends y.PureComponent{constructor(){super(...arguments),se(this,"registeredEvents",[]),se(this,"state",{kmlLayer:null}),se(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(Hb(Hb({},this.props.options),{},{map:this.context}));this.registeredEvents=Ge({updaterMap:Gb,eventMap:Fb,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&($e(this.registeredEvents),this.registeredEvents=Ge({updaterMap:Gb,eventMap:Fb,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),$e(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}se(_k,"contextType",je);function fS(n,e){return typeof e=="function"?e(n.offsetWidth,n.offsetHeight):{x:0,y:0}}function Ek(n,e){return new e(n.lat,n.lng)}function bk(n,e){return new e(new google.maps.LatLng(n.ne.lat,n.ne.lng),new google.maps.LatLng(n.sw.lat,n.sw.lng))}function wk(n,e,t){return n instanceof e?n:t(n,e)}function Tk(n,e,t){return n instanceof e?n:t(n,e)}function Sk(n,e,t){var r=n&&n.fromLatLngToDivPixel(t.getNorthEast()),a=n&&n.fromLatLngToDivPixel(t.getSouthWest());return r&&a?{left:"".concat(a.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-a.x-e.x,"px"),height:"".concat(a.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function Ck(n,e,t){var r=n&&n.fromLatLngToDivPixel(t);if(r){var{x:a,y:l}=r;return{left:"".concat(a+e.x,"px"),top:"".concat(l+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function pS(n,e,t,r){return t!==void 0?Sk(n,e,Tk(t,google.maps.LatLngBounds,bk)):Ck(n,e,wk(r,google.maps.LatLng,Ek))}function Ak(n,e){return n.left===e.left&&n.top===e.top&&n.width===e.height&&n.height===e.height}function $b(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function xk(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$b(Object(t),!0).forEach(function(r){se(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$b(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Rk(n,e,t,r,a){class l extends google.maps.OverlayView{constructor(f,p,g,_){super(),this.container=f,this.pane=p,this.position=g,this.bounds=_}onAdd(){var f,p=(f=this.getPanes())===null||f===void 0?void 0:f[this.pane];p==null||p.appendChild(this.container)}draw(){var f=this.getProjection(),p=xk({},this.container?fS(this.container,a):{x:0,y:0}),g=pS(f,p,this.bounds,this.position);for(var[_,T]of Object.entries(g))this.container.style[_]=T}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new l(n,e,t,r)}function Kb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Lk(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Kb(Object(t),!0).forEach(function(r){se(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Kb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Qb(n){if(!n)return"";var e=n instanceof google.maps.LatLng?n:new google.maps.LatLng(n.lat,n.lng);return e+""}function Yb(n){if(!n)return"";var e=n instanceof google.maps.LatLngBounds?n:new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.east),new google.maps.LatLng(n.north,n.west));return e+""}function Ik(n){var{position:e,bounds:t,mapPaneName:r,zIndex:a,onLoad:l,onUnmount:c,getPixelPositionOffset:f,children:p}=n,g=y.useContext(je),_=y.useMemo(()=>{var b=document.createElement("div");return b.style.position="absolute",b},[]),T=y.useMemo(()=>Rk(_,r,e,t,f),[_,r,e,t]);return y.useEffect(()=>(l==null||l(T),T==null||T.setMap(g),()=>{c==null||c(T),T==null||T.setMap(null)}),[g,T]),y.useEffect(()=>{_.style.zIndex="".concat(a)},[a,_]),Yo.createPortal(p,_)}y.memo(Ik);class tl extends y.PureComponent{constructor(e){super(e),se(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),se(this,"updatePane",()=>{var r=this.props.mapPaneName,a=this.overlayView.getPanes();Gt(!!r,"OverlayView requires props.mapPaneName but got %s",r),a?this.setState({paneEl:a[r]}):this.setState({paneEl:null})}),se(this,"onAdd",()=>{var r,a;this.updatePane(),(r=(a=this.props).onLoad)===null||r===void 0||r.call(a,this.overlayView)}),se(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),a=Lk({x:0,y:0},this.containerRef.current?fS(this.containerRef.current,this.props.getPixelPositionOffset):{}),l=pS(r,a,this.props.bounds,this.props.position);if(!Ak(l,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var c,f,p,g;this.setState({containerStyle:{top:(c=l.top)!==null&&c!==void 0?c:0,left:(f=l.left)!==null&&f!==void 0?f:0,width:(p=l.width)!==null&&p!==void 0?p:0,height:(g=l.height)!==null&&g!==void 0?g:0,position:"absolute"}})}}),se(this,"draw",()=>{this.onPositionElement()}),se(this,"onRemove",()=>{var r,a;this.setState(()=>({paneEl:null})),(r=(a=this.props).onUnmount)===null||r===void 0||r.call(a,this.overlayView)}),this.containerRef=y.createRef();var t=new google.maps.OverlayView;t.onAdd=this.onAdd,t.draw=this.draw,t.onRemove=this.onRemove,this.overlayView=t}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var t=Qb(e.position),r=Qb(this.props.position),a=Yb(e.bounds),l=Yb(this.props.bounds);(t!==r||a!==l)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Yo.createPortal(E.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:y.Children.only(this.props.children)}),e):null}}se(tl,"FLOAT_PANE","floatPane");se(tl,"MAP_PANE","mapPane");se(tl,"MARKER_LAYER","markerLayer");se(tl,"OVERLAY_LAYER","overlayLayer");se(tl,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");se(tl,"contextType",je);function Ok(){}function Wb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Zb(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Wb(Object(t),!0).forEach(function(r){se(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Wb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var Xb={onDblClick:"dblclick",onClick:"click"},Jb={opacity(n,e){n.setOpacity(e)}};function Mk(n){var{url:e,bounds:t,options:r,visible:a}=n,l=y.useContext(je),c=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east)),f=y.useMemo(()=>new google.maps.GroundOverlay(e,c,r),[]);return y.useEffect(()=>{f!==null&&f.setMap(l)},[l]),y.useEffect(()=>{typeof e<"u"&&f!==null&&(f.set("url",e),f.setMap(l))},[f,e]),y.useEffect(()=>{typeof a<"u"&&f!==null&&f.setOpacity(a?1:0)},[f,a]),y.useEffect(()=>{var p=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east));typeof t<"u"&&f!==null&&(f.set("bounds",p),f.setMap(l))},[f,t]),null}y.memo(Mk);class mS extends y.PureComponent{constructor(){super(...arguments),se(this,"registeredEvents",[]),se(this,"state",{groundOverlay:null}),se(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Gt(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,Zb(Zb({},this.props.options),{},{map:this.context}));this.registeredEvents=Ge({updaterMap:Jb,eventMap:Xb,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&($e(this.registeredEvents),this.registeredEvents=Ge({updaterMap:Jb,eventMap:Xb,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}se(mS,"defaultProps",{onLoad:Ok});se(mS,"contextType",je);function ew(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function pd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ew(Object(t),!0).forEach(function(r){se(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ew(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var tw={},nw={data(n,e){n.setData(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)}};function Dk(n){var{data:e,onLoad:t,onUnmount:r,options:a}=n,l=y.useContext(je),[c,f]=y.useState(null);return y.useEffect(()=>{google.maps.visualization||Gt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),y.useEffect(()=>{Gt(!!e,"data property is required in HeatmapLayer %s",e)},[e]),y.useEffect(()=>{c!==null&&c.setMap(l)},[l]),y.useEffect(()=>{a&&c!==null&&c.setOptions(a)},[c,a]),y.useEffect(()=>{var p=new google.maps.visualization.HeatmapLayer(pd(pd({},a),{},{data:e,map:l}));return f(p),t&&t(p),()=>{c!==null&&(r&&r(c),c.setMap(null))}},[]),null}y.memo(Dk);class Nk extends y.PureComponent{constructor(){super(...arguments),se(this,"registeredEvents",[]),se(this,"state",{heatmapLayer:null}),se(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Gt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Gt(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(pd(pd({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Ge({updaterMap:nw,eventMap:tw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){$e(this.registeredEvents),this.registeredEvents=Ge({updaterMap:nw,eventMap:tw,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),$e(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}se(Nk,"contextType",je);var iw={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},rw={register(n,e,t){n.registerPanoProvider(e,t)},links(n,e){n.setLinks(e)},motionTracking(n,e){n.setMotionTracking(e)},options(n,e){n.setOptions(e)},pano(n,e){n.setPano(e)},position(n,e){n.setPosition(e)},pov(n,e){n.setPov(e)},visible(n,e){n.setVisible(e)},zoom(n,e){n.setZoom(e)}};class Pk extends y.PureComponent{constructor(){super(...arguments),se(this,"registeredEvents",[]),se(this,"state",{streetViewPanorama:null}),se(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,t,r=(e=(t=this.context)===null||t===void 0?void 0:t.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=Ge({updaterMap:rw,eventMap:iw,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&($e(this.registeredEvents),this.registeredEvents=Ge({updaterMap:rw,eventMap:iw,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),$e(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}se(Pk,"contextType",je);class kk extends y.PureComponent{constructor(){super(...arguments),se(this,"state",{streetViewService:null}),se(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}se(kk,"contextType",je);var sw={onDirectionsChanged:"directions_changed"},aw={directions(n,e){n.setDirections(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},panel(n,e){n.setPanel(e)},routeIndex(n,e){n.setRouteIndex(e)}};class jk extends y.PureComponent{constructor(){super(...arguments),se(this,"registeredEvents",[]),se(this,"state",{directionsRenderer:null}),se(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Ge({updaterMap:aw,eventMap:sw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&($e(this.registeredEvents),this.registeredEvents=Ge({updaterMap:aw,eventMap:sw,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),$e(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}se(jk,"contextType",je);var ow={onPlacesChanged:"places_changed"},lw={bounds(n,e){n.setBounds(e)}};class Vk extends y.PureComponent{constructor(){super(...arguments),se(this,"registeredEvents",[]),se(this,"containerElement",y.createRef()),se(this,"state",{searchBox:null}),se(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Gt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=Ge({updaterMap:lw,eventMap:ow,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{searchBox:t}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&($e(this.registeredEvents),this.registeredEvents=Ge({updaterMap:lw,eventMap:ow,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),$e(this.registeredEvents))}render(){return E.jsx("div",{ref:this.containerElement,children:y.Children.only(this.props.children)})}}se(Vk,"contextType",je);var uw={onPlaceChanged:"place_changed"},cw={bounds(n,e){n.setBounds(e)},restrictions(n,e){n.setComponentRestrictions(e)},fields(n,e){n.setFields(e)},options(n,e){n.setOptions(e)},types(n,e){n.setTypes(e)}};class gS extends y.PureComponent{constructor(){super(...arguments),se(this,"registeredEvents",[]),se(this,"containerElement",y.createRef()),se(this,"state",{autocomplete:null}),se(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;Gt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(t){var r=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=Ge({updaterMap:cw,eventMap:uw,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){$e(this.registeredEvents),this.registeredEvents=Ge({updaterMap:cw,eventMap:uw,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&$e(this.registeredEvents)}render(){return E.jsx("div",{ref:this.containerElement,className:this.props.className,children:y.Children.only(this.props.children)})}}se(gS,"defaultProps",{className:""});se(gS,"contextType",je);const hw=[{name:"Johannesburg",lat:-26.2041,lon:28.0473},{name:"Cape Town",lat:-33.9249,lon:18.4241},{name:"Durban",lat:-29.8587,lon:31.0218},{name:"Pretoria",lat:-25.7479,lon:28.2293},{name:"Port Elizabeth",lat:-33.9608,lon:25.6022},{name:"Bloemfontein",lat:-29.0852,lon:26.1596}];function ri(){return hw[Math.floor(Math.random()*hw.length)]}function yt(n){return{lat:n.lat+(Math.random()-.5)*.1,lon:n.lon+(Math.random()-.5)*.1}}const dw=[{id:"plumbing",name:"Emergency Plumbing",description:"Burst pipes, leaks, or blocked drains? Get a plumber to your door fast.",image:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=400&q=80",available:!0,eta:"20-30 min",reviews:{score:4.8,count:134},location:(()=>{const n=ri();return{lastKnownLocation:yt(n),currentLocation:yt(n)}})()},{id:"plumbing",name:"Toilet Overflow",description:"Overflowing or clogged toilet? Rapid response for urgent repairs.",image:"https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=400&q=80",available:!0,eta:"25-35 min",reviews:{score:4.7,count:98},location:(()=>{const n=ri();return{lastKnownLocation:yt(n),currentLocation:yt(n)}})()},{id:"electrical",name:"Emergency Electrical",description:"Power outage or exposed wires? Certified electricians available 24/7.",image:"https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=400&q=80",available:!0,eta:"25-40 min",reviews:{score:4.9,count:210},location:(()=>{const n=ri();return{lastKnownLocation:yt(n),currentLocation:yt(n)}})()},{id:"electrical",name:"Circuit Breaker Failure",description:"Breaker tripped or panel issues? Get safe, fast help now.",image:"https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=400&q=80",available:!0,eta:"30-45 min",reviews:{score:4.6,count:75},location:(()=>{const n=ri();return{lastKnownLocation:yt(n),currentLocation:yt(n)}})()},{id:"masonry",name:"Emergency Masonry",description:"Wall collapse or structural cracks? Skilled masons on call.",image:"https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=400&q=80",available:!1,eta:"Unavailable",reviews:{score:4.5,count:32},location:(()=>{const n=ri();return{lastKnownLocation:yt(n),currentLocation:yt(n)}})()},{id:"masonry",name:"Falling Bricks",description:"Loose or falling bricks? Prevent further damage with urgent repairs.",image:"https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?auto=format&fit=crop&w=400&q=80",available:!0,eta:"40-60 min",reviews:{score:4.7,count:41},location:(()=>{const n=ri();return{lastKnownLocation:yt(n),currentLocation:yt(n)}})()},{id:"carpentry",name:"Emergency Carpentry",description:"Broken doors, windows, or urgent repairs? Carpenters ready to help.",image:"https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?auto=format&fit=crop&w=400&q=80",available:!0,eta:"30-45 min",reviews:{score:4.8,count:88},location:(()=>{const n=ri();return{lastKnownLocation:yt(n),currentLocation:yt(n)}})()},{id:"carpentry",name:"Board Up Service",description:"Broken window or door? Secure your property quickly.",image:"https://images.unsplash.com/photo-1503389152951-9c3d8b6e9c94?auto=format&fit=crop&w=400&q=80",available:!0,eta:"35-50 min",reviews:{score:4.6,count:54},location:(()=>{const n=ri();return{lastKnownLocation:yt(n),currentLocation:yt(n)}})()},{id:"garden",name:"Emergency Garden",description:"Storm damage or fallen trees? Gardeners available for urgent needs.",image:"https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=400&q=80",available:!0,eta:"40-60 min",reviews:{score:4.7,count:61},location:(()=>{const n=ri();return{lastKnownLocation:yt(n),currentLocation:yt(n)}})()},{id:"garden",name:"Flooded Garden",description:"Flooding or drainage issues? Get help restoring your garden.",image:"https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=400&q=80",available:!1,eta:"Unavailable",reviews:{score:4.4,count:19},location:(()=>{const n=ri();return{lastKnownLocation:yt(n),currentLocation:yt(n)}})()},{id:"engineering",name:"Emergency Engineering",description:"Urgent inspections or structural issues? Engineers on standby.",image:"https://images.unsplash.com/photo-1503389152951-9c3d8b6e9c94?auto=format&fit=crop&w=400&q=80",available:!1,eta:"Unavailable",reviews:{score:4.5,count:12},location:(()=>{const n=ri();return{lastKnownLocation:yt(n),currentLocation:yt(n)}})()},{id:"engineering",name:"Structural Assessment",description:"Immediate assessment for building safety after damage or disaster.",image:"https://images.unsplash.com/photo-1503389152951-9c3d8b6e9c94?auto=format&fit=crop&w=400&q=80",available:!0,eta:"60-90 min",reviews:{score:4.9,count:27},location:(()=>{const n=ri();return{lastKnownLocation:yt(n),currentLocation:yt(n)}})()}];function fw(n){const e=Math.floor(n/60),t=Math.round(n%60);return e>0?`${e}h ${t}m`:`${t}m`}const Uk=({className:n})=>{var k;const e=cn(),{location:t}=BN(),[r,a]=y.useState("grid"),[l,c]=y.useState(""),[f,p]=y.useState({}),{isLoaded:g}=fP({googleMapsApiKey:void 0,libraries:["places"]}),_=(k=e.state)==null?void 0:k.fromPage,T={"/plumbing":"plumbing","/carpentry":"carpentry","/masonry":"masonry","/electrical":"electrical","/garden":"garden","/engineering":"engineering"},b=_&&T[_]?T[_]:null,R=(b?dw.filter(I=>I.id===b):dw).filter(I=>I.name.toLowerCase().includes(l.trim().toLowerCase())),C=R.map((I,U)=>{if(!t||!I.location)return{...I,distance:null,etaMins:null};const z=qN(t.lat,t.lng,I.location.lastKnownLocation.lat,I.location.lastKnownLocation.lon),K=FN(z);return{...I,distance:z,etaMins:K}});return y.useEffect(()=>{!t||!g||R.forEach((I,U)=>{!I.available||!I.location||f[U]||HN(t.lat,t.lng,I.location.lastKnownLocation.lat,I.location.lastKnownLocation.lon).then(z=>{p(K=>({...K,[U]:{eta:z.durationText,distance:z.distanceText}}))}).catch(()=>{})})},[t,R,g]),g?E.jsxs("div",{className:`container py-5 ${n||""}`,id:"emergency-page",children:[E.jsx("h1",{className:"mb-4 text-center",children:"Services"}),E.jsx("div",{className:"mb-4",children:E.jsxs("div",{className:"d-flex flex-column flex-md-row align-items-center justify-content-between mb-2",children:[E.jsxs("div",{className:"d-flex align-items-center flex-grow-1",style:{minWidth:0},children:[E.jsx("input",{type:"text",className:"form-control",placeholder:"Search services...",style:{maxWidth:260,minWidth:0},value:l,onChange:I=>c(I.target.value)}),b&&E.jsx("span",{style:{width:16}}),b&&E.jsxs("span",{className:"ms-0 ms-md-3 alert alert-info mb-0 py-1 px-2",children:["Showing all",E.jsxs("strong",{children:[b.charAt(0).toUpperCase()+b.slice(1)," "]})]})]}),E.jsxs("span",{className:"mt-3 mt-md-0 ms-md-3",children:[E.jsx("button",{type:"button",className:`btn btn-outline-primary me-2${r==="grid"?" active":""}`,onClick:()=>a("grid"),"aria-label":"Grid View",style:{display:"inline-flex",alignItems:"center",justifyContent:"center"},children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-grid",viewBox:"0 0 16 16",children:E.jsx("path",{d:"M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5zM2.5 2a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5zm6.5.5A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5zM1 10.5A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5zm6.5.5A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5z"})})}),E.jsx("button",{type:"button",className:`btn btn-outline-primary${r==="list"?" active":""}`,onClick:()=>a("list"),"aria-label":"List View",style:{display:"inline-flex",alignItems:"center",justifyContent:"center"},children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-list",viewBox:"0 0 16 16",children:E.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})})]})]})}),r==="grid"?E.jsx("div",{className:"row g-4",children:C.map((I,U)=>{var z,K,F;return E.jsx("div",{className:"col-12 col-md-6 col-lg-4",children:E.jsxs("div",{className:"card h-100 shadow-sm",children:[E.jsx("img",{src:I.image,alt:I.name,className:"card-img-top",style:{height:180,objectFit:"cover"}}),E.jsxs("div",{className:"card-body d-flex flex-column",children:[E.jsx("h5",{className:"card-title",children:I.name}),E.jsx("p",{className:"card-text flex-grow-1",children:I.description}),E.jsx("div",{className:"mb-2",children:I.reviews&&E.jsxs("span",{className:"text-warning",title:`${I.reviews.score} stars`,children:[E.jsx("svg",{width:"16",height:"16",fill:"currentColor",style:{marginRight:2,marginBottom:2},viewBox:"0 0 16 16",children:E.jsx("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.32-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.63.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})}),I.reviews.score," ",E.jsxs("span",{className:"text-muted",style:{fontSize:"0.95em"},children:["(",I.reviews.count,")"]})]})}),E.jsx("div",{className:"d-flex justify-content-between align-items-center mb-2",children:I.available&&E.jsxs(E.Fragment,{children:[E.jsxs("span",{className:"badge bg-success",children:["ETA: ",((z=f[U])==null?void 0:z.eta)||(I.etaMins!==null?fw(I.etaMins):I.eta)]}),((K=f[U])==null?void 0:K.distance)&&E.jsx("span",{className:"badge bg-info text-dark ms-2",children:f[U].distance}),!((F=f[U])!=null&&F.distance)&&I.distance!==null&&E.jsxs("span",{className:"badge bg-info text-dark ms-2",children:[I.distance.toFixed(1)," km"]})]})}),E.jsx("button",{className:"btn btn-primary mt-auto",disabled:!I.available,children:I.available?"Request Now":"Unavailable"})]})]})},I.id+U)})}):E.jsx("div",{className:"list-group",children:C.map((I,U)=>{var z,K,F;return E.jsx("div",{className:"list-group-item list-group-item-action mb-3",children:E.jsxs("div",{className:"d-flex align-items-center",children:[E.jsx("img",{src:I.image,alt:I.name,style:{width:80,height:80,objectFit:"cover",borderRadius:8,marginRight:20}}),E.jsxs("div",{className:"flex-grow-1",children:[E.jsx("h5",{className:"mb-1",children:I.name}),E.jsx("p",{className:"mb-1",children:I.description}),I.reviews&&E.jsxs("span",{className:"text-warning",title:`${I.reviews.score} stars`,children:[E.jsx("svg",{width:"16",height:"16",fill:"currentColor",style:{marginRight:2,marginBottom:2},viewBox:"0 0 16 16",children:E.jsx("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.32-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.63.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})}),I.reviews.score," ",E.jsxs("span",{className:"text-muted",style:{fontSize:"0.95em"},children:["(",I.reviews.count,")"]})]}),E.jsx("div",{children:I.available&&E.jsxs(E.Fragment,{children:[E.jsxs("span",{className:"badge bg-success ms-1",children:["ETA: ",((z=f[U])==null?void 0:z.eta)||(I.etaMins!==null?fw(I.etaMins):I.eta)]}),((K=f[U])==null?void 0:K.distance)&&E.jsx("span",{className:"badge bg-info text-dark ms-2",children:f[U].distance}),!((F=f[U])!=null&&F.distance)&&I.distance!==null&&E.jsxs("span",{className:"badge bg-info text-dark ms-2",children:[I.distance.toFixed(1)," km"]})]})})]}),E.jsx("button",{className:"btn btn-primary ms-3",disabled:!I.available,children:I.available?"Request Now":"Unavailable"})]})},I.id+U)})})]}):E.jsx("div",{children:"Loading map data..."})},Bk=2*60*60*1e3;function zk(){const n=Ma();return y.useEffect(()=>{const e=Number(localStorage.getItem("loginTimestamp"));e&&Date.now()-e>Bk&&(Is.signOut(),localStorage.removeItem("loginTimestamp"),n("/login"))},[n]),E.jsx(EN,{children:E.jsx(zN,{children:E.jsx(px,{basename:"/trade-locator/",children:E.jsx(FA,{children:E.jsxs(Nt,{element:E.jsx(SN,{id:"base-layout"}),children:[E.jsx(Nt,{path:"/",element:E.jsx(YE,{})}),E.jsx(Nt,{path:"/carpentry",element:E.jsx(vs,{children:E.jsx(CN,{})})}),E.jsx(Nt,{path:"/engineering",element:E.jsx(vs,{children:E.jsx(RN,{})})}),E.jsx(Nt,{path:"/electrical",element:E.jsx(vs,{children:E.jsx(VN,{})})}),E.jsx(Nt,{path:"/services",element:E.jsx(vs,{children:E.jsx(Uk,{})})}),E.jsx(Nt,{path:"/garden",element:E.jsx(vs,{children:E.jsx(UN,{})})}),E.jsx(Nt,{path:"/masonry",element:E.jsx(vs,{children:E.jsx(xN,{})})}),E.jsx(Nt,{path:"/plumbing",element:E.jsx(AN,{})}),E.jsx(Nt,{path:"/specials",element:E.jsx(IN,{})}),E.jsx(Nt,{path:"/pricing",element:E.jsx(ON,{})}),E.jsx(Nt,{path:"/faqs",element:E.jsx(MN,{})}),E.jsx(Nt,{path:"/about",element:E.jsx(DN,{})}),E.jsx(Nt,{path:"/quote",element:E.jsx(NN,{})}),E.jsx(Nt,{path:"/login",element:E.jsx(kN,{})}),E.jsx(Nt,{path:"/sign-up",element:E.jsx(PN,{})}),E.jsx(Nt,{path:"/",element:E.jsx(vs,{children:E.jsx(YE,{})})}),E.jsx(Nt,{path:"account-settings",element:E.jsx(vs,{children:E.jsx(jN,{})})}),E.jsx(Nt,{path:"*",element:E.jsx(LN,{})})]})})})})})}YC.createRoot(document.getElementById("root")).render(E.jsx(y.StrictMode,{children:E.jsx(zk,{})}));
