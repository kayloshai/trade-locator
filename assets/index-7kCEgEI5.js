(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var tm={exports:{}},Nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function gw(){if(u_)return Nl;u_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Nl.Fragment=e,Nl.jsx=n,Nl.jsxs=n,Nl}var c_;function yw(){return c_||(c_=1,tm.exports=gw()),tm.exports}var v=yw(),nm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function vw(){if(h_)return Re;h_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.iterator;function S(D){return D===null||typeof D!="object"?null:(D=w&&D[w]||D["@@iterator"],typeof D=="function"?D:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,G={};function B(D,te,le){this.props=D,this.context=te,this.refs=G,this.updater=le||M}B.prototype.isReactComponent={},B.prototype.setState=function(D,te){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,te,"setState")},B.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Y(){}Y.prototype=B.prototype;function ee(D,te,le){this.props=D,this.context=te,this.refs=G,this.updater=le||M}var ie=ee.prototype=new Y;ie.constructor=ee,k(ie,B.prototype),ie.isPureReactComponent=!0;var ue=Array.isArray,ae={H:null,A:null,T:null,S:null,V:null},ve=Object.prototype.hasOwnProperty;function O(D,te,le,re,pe,xe){return le=xe.ref,{$$typeof:r,type:D,key:te,ref:le!==void 0?le:null,props:xe}}function R(D,te){return O(D.type,te,void 0,void 0,void 0,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function N(D){var te={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(le){return te[le]})}var V=/\/+/g;function L(D,te){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):te.toString(36)}function x(){}function Ut(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(x,x):(D.status="pending",D.then(function(te){D.status==="pending"&&(D.status="fulfilled",D.value=te)},function(te){D.status==="pending"&&(D.status="rejected",D.reason=te)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function lt(D,te,le,re,pe){var xe=typeof D;(xe==="undefined"||xe==="boolean")&&(D=null);var we=!1;if(D===null)we=!0;else switch(xe){case"bigint":case"string":case"number":we=!0;break;case"object":switch(D.$$typeof){case r:case e:we=!0;break;case T:return we=D._init,lt(we(D._payload),te,le,re,pe)}}if(we)return pe=pe(D),we=re===""?"."+L(D,0):re,ue(pe)?(le="",we!=null&&(le=we.replace(V,"$&/")+"/"),lt(pe,te,le,"",function($n){return $n})):pe!=null&&(I(pe)&&(pe=R(pe,le+(pe.key==null||D&&D.key===pe.key?"":(""+pe.key).replace(V,"$&/")+"/")+we)),te.push(pe)),1;we=0;var Dt=re===""?".":re+":";if(ue(D))for(var Je=0;Je<D.length;Je++)re=D[Je],xe=Dt+L(re,Je),we+=lt(re,te,le,xe,pe);else if(Je=S(D),typeof Je=="function")for(D=Je.call(D),Je=0;!(re=D.next()).done;)re=re.value,xe=Dt+L(re,Je++),we+=lt(re,te,le,xe,pe);else if(xe==="object"){if(typeof D.then=="function")return lt(Ut(D),te,le,re,pe);throw te=String(D),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return we}function $(D,te,le){if(D==null)return D;var re=[],pe=0;return lt(D,re,"","",function(xe){return te.call(le,xe,pe++)}),re}function oe(D){if(D._status===-1){var te=D._result;te=te(),te.then(function(le){(D._status===0||D._status===-1)&&(D._status=1,D._result=le)},function(le){(D._status===0||D._status===-1)&&(D._status=2,D._result=le)}),D._status===-1&&(D._status=0,D._result=te)}if(D._status===1)return D._result.default;throw D._result}var me=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Be(){}return Re.Children={map:$,forEach:function(D,te,le){$(D,function(){te.apply(this,arguments)},le)},count:function(D){var te=0;return $(D,function(){te++}),te},toArray:function(D){return $(D,function(te){return te})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Re.Component=B,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=ee,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Re.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ae.H.useMemoCache(D)}},Re.cache=function(D){return function(){return D.apply(null,arguments)}},Re.cloneElement=function(D,te,le){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var re=k({},D.props),pe=D.key,xe=void 0;if(te!=null)for(we in te.ref!==void 0&&(xe=void 0),te.key!==void 0&&(pe=""+te.key),te)!ve.call(te,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&te.ref===void 0||(re[we]=te[we]);var we=arguments.length-2;if(we===1)re.children=le;else if(1<we){for(var Dt=Array(we),Je=0;Je<we;Je++)Dt[Je]=arguments[Je+2];re.children=Dt}return O(D.type,pe,void 0,void 0,xe,re)},Re.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Re.createElement=function(D,te,le){var re,pe={},xe=null;if(te!=null)for(re in te.key!==void 0&&(xe=""+te.key),te)ve.call(te,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(pe[re]=te[re]);var we=arguments.length-2;if(we===1)pe.children=le;else if(1<we){for(var Dt=Array(we),Je=0;Je<we;Je++)Dt[Je]=arguments[Je+2];pe.children=Dt}if(D&&D.defaultProps)for(re in we=D.defaultProps,we)pe[re]===void 0&&(pe[re]=we[re]);return O(D,xe,void 0,void 0,null,pe)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(D){return{$$typeof:m,render:D}},Re.isValidElement=I,Re.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:oe}},Re.memo=function(D,te){return{$$typeof:g,type:D,compare:te===void 0?null:te}},Re.startTransition=function(D){var te=ae.T,le={};ae.T=le;try{var re=D(),pe=ae.S;pe!==null&&pe(le,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Be,me)}catch(xe){me(xe)}finally{ae.T=te}},Re.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Re.use=function(D){return ae.H.use(D)},Re.useActionState=function(D,te,le){return ae.H.useActionState(D,te,le)},Re.useCallback=function(D,te){return ae.H.useCallback(D,te)},Re.useContext=function(D){return ae.H.useContext(D)},Re.useDebugValue=function(){},Re.useDeferredValue=function(D,te){return ae.H.useDeferredValue(D,te)},Re.useEffect=function(D,te,le){var re=ae.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(D,te)},Re.useId=function(){return ae.H.useId()},Re.useImperativeHandle=function(D,te,le){return ae.H.useImperativeHandle(D,te,le)},Re.useInsertionEffect=function(D,te){return ae.H.useInsertionEffect(D,te)},Re.useLayoutEffect=function(D,te){return ae.H.useLayoutEffect(D,te)},Re.useMemo=function(D,te){return ae.H.useMemo(D,te)},Re.useOptimistic=function(D,te){return ae.H.useOptimistic(D,te)},Re.useReducer=function(D,te,le){return ae.H.useReducer(D,te,le)},Re.useRef=function(D){return ae.H.useRef(D)},Re.useState=function(D){return ae.H.useState(D)},Re.useSyncExternalStore=function(D,te,le){return ae.H.useSyncExternalStore(D,te,le)},Re.useTransition=function(){return ae.H.useTransition()},Re.version="19.1.0",Re}var f_;function Zm(){return f_||(f_=1,nm.exports=vw()),nm.exports}var Q=Zm(),im={exports:{}},Dl={},rm={exports:{}},sm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function _w(){return d_||(d_=1,function(r){function e($,oe){var me=$.length;$.push(oe);e:for(;0<me;){var Be=me-1>>>1,D=$[Be];if(0<o(D,oe))$[Be]=oe,$[me]=D,me=Be;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var oe=$[0],me=$.pop();if(me!==oe){$[0]=me;e:for(var Be=0,D=$.length,te=D>>>1;Be<te;){var le=2*(Be+1)-1,re=$[le],pe=le+1,xe=$[pe];if(0>o(re,me))pe<D&&0>o(xe,re)?($[Be]=xe,$[pe]=me,Be=pe):($[Be]=re,$[le]=me,Be=le);else if(pe<D&&0>o(xe,me))$[Be]=xe,$[pe]=me,Be=pe;else break e}}return oe}function o($,oe){var me=$.sortIndex-oe.sortIndex;return me!==0?me:$.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],T=1,w=null,S=3,M=!1,k=!1,G=!1,B=!1,Y=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function ue($){for(var oe=n(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=$)s(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(g)}}function ae($){if(G=!1,ue($),!k)if(n(p)!==null)k=!0,ve||(ve=!0,L());else{var oe=n(g);oe!==null&&lt(ae,oe.startTime-$)}}var ve=!1,O=-1,R=5,I=-1;function N(){return B?!0:!(r.unstable_now()-I<R)}function V(){if(B=!1,ve){var $=r.unstable_now();I=$;var oe=!0;try{e:{k=!1,G&&(G=!1,ee(O),O=-1),M=!0;var me=S;try{t:{for(ue($),w=n(p);w!==null&&!(w.expirationTime>$&&N());){var Be=w.callback;if(typeof Be=="function"){w.callback=null,S=w.priorityLevel;var D=Be(w.expirationTime<=$);if($=r.unstable_now(),typeof D=="function"){w.callback=D,ue($),oe=!0;break t}w===n(p)&&s(p),ue($)}else s(p);w=n(p)}if(w!==null)oe=!0;else{var te=n(g);te!==null&&lt(ae,te.startTime-$),oe=!1}}break e}finally{w=null,S=me,M=!1}oe=void 0}}finally{oe?L():ve=!1}}}var L;if(typeof ie=="function")L=function(){ie(V)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Ut=x.port2;x.port1.onmessage=V,L=function(){Ut.postMessage(null)}}else L=function(){Y(V,0)};function lt($,oe){O=Y(function(){$(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function($){switch(S){case 1:case 2:case 3:var oe=3;break;default:oe=S}var me=S;S=oe;try{return $()}finally{S=me}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function($,oe){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var me=S;S=$;try{return oe()}finally{S=me}},r.unstable_scheduleCallback=function($,oe,me){var Be=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Be+me:Be):me=Be,$){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=me+D,$={id:T++,callback:oe,priorityLevel:$,startTime:me,expirationTime:D,sortIndex:-1},me>Be?($.sortIndex=me,e(g,$),n(p)===null&&$===n(g)&&(G?(ee(O),O=-1):G=!0,lt(ae,me-Be))):($.sortIndex=D,e(p,$),k||M||(k=!0,ve||(ve=!0,L()))),$},r.unstable_shouldYield=N,r.unstable_wrapCallback=function($){var oe=S;return function(){var me=S;S=oe;try{return $.apply(this,arguments)}finally{S=me}}}}(sm)),sm}var m_;function Ew(){return m_||(m_=1,rm.exports=_w()),rm.exports}var am={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function Tw(){if(p_)return Wt;p_=1;var r=Zm();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,T)},Wt.flushSync=function(p){var g=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=T,s.d.f()}},Wt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,w=m(T,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:M}):T==="script"&&s.d.X(p,{crossOrigin:w,integrity:S,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Wt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,w=m(T,g.crossOrigin);s.d.L(p,T,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,g){return p(g)},Wt.useFormState=function(p,g,T){return f.H.useFormState(p,g,T)},Wt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wt.version="19.1.0",Wt}var g_;function bw(){if(g_)return am.exports;g_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),am.exports=Tw(),am.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function ww(){if(y_)return Dl;y_=1;var r=Ew(),e=Zm(),n=bw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,b=h.child;b;){if(b===a){E=!0,a=h,l=d;break}if(b===l){E=!0,l=h,a=d;break}b=b.sibling}if(!E){for(b=d.child;b;){if(b===a){E=!0,a=d,l=h;break}if(b===l){E=!0,l=d,a=h;break}b=b.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),ee=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function Ut(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case B:return"Profiler";case G:return"StrictMode";case ae:return"Suspense";case ve:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case ie:return(t.displayName||"Context")+".Provider";case ee:return(t._context.displayName||"Context")+".Consumer";case ue:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return i=t.displayName||null,i!==null?i:Ut(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Ut(t(i))}catch{}}return null}var lt=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Be=[],D=-1;function te(t){return{current:t}}function le(t){0>D||(t.current=Be[D],Be[D]=null,D--)}function re(t,i){D++,Be[D]=t.current,t.current=i}var pe=te(null),xe=te(null),we=te(null),Dt=te(null);function Je(t,i){switch(re(we,i),re(xe,t),re(pe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?jv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=jv(i),t=Lv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(pe),re(pe,t)}function $n(){le(pe),le(xe),le(we)}function cr(t){t.memoizedState!==null&&re(Dt,t);var i=pe.current,a=Lv(i,t.type);i!==a&&(re(xe,t),re(pe,a))}function Ci(t){xe.current===t&&(le(pe),le(xe)),Dt.current===t&&(le(Dt),Al._currentValue=me)}var os=Object.prototype.hasOwnProperty,ls=r.unstable_scheduleCallback,us=r.unstable_cancelCallback,bo=r.unstable_shouldYield,gu=r.unstable_requestPaint,wn=r.unstable_now,ef=r.unstable_getCurrentPriorityLevel,wo=r.unstable_ImmediatePriority,sa=r.unstable_UserBlockingPriority,cs=r.unstable_NormalPriority,tf=r.unstable_LowPriority,aa=r.unstable_IdlePriority,So=r.log,yu=r.unstable_setDisableYieldValue,ut=null,Ge=null;function fn(t){if(typeof So=="function"&&yu(t),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ut,t)}catch{}}var $t=Math.clz32?Math.clz32:hs,vu=Math.log,nf=Math.LN2;function hs(t){return t>>>=0,t===0?32:31-(vu(t)/nf|0)|0}var fs=256,ds=4194304;function jn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oa(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=jn(l):(E&=b,E!==0?h=jn(E):a||(a=b&~t,a!==0&&(h=jn(a))))):(b=l&~d,b!==0?h=jn(b):E!==0?h=jn(E):a||(a=l&~t,a!==0&&(h=jn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function ms(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ao(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ro(){var t=fs;return fs<<=1,(fs&4194048)===0&&(fs=256),t}function Io(){var t=ds;return ds<<=1,(ds&62914560)===0&&(ds=4194304),t}function xi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ni(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Co(t,i,a,l,h,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,C=t.expirationTimes,q=t.hiddenUpdates;for(a=E&~a;0<a;){var X=31-$t(a),Z=1<<X;b[X]=0,C[X]=-1;var H=q[X];if(H!==null)for(q[X]=null,X=0;X<H.length;X++){var F=H[X];F!==null&&(F.lane&=-536870913)}a&=~Z}l!==0&&Xn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~i))}function Xn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-$t(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function xo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-$t(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function hr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function la(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fr(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:i_(t.type))}function _u(t,i){var a=oe.p;try{return oe.p=t,i()}finally{oe.p=a}}var nt=Math.random().toString(36).slice(2),wt="__reactFiber$"+nt,gt="__reactProps$"+nt,Sn="__reactContainer$"+nt,No="__reactEvents$"+nt,rf="__reactListeners$"+nt,dr="__reactHandles$"+nt,Eu="__reactResources$"+nt,ps="__reactMarker$"+nt;function mr(t){delete t[wt],delete t[gt],delete t[No],delete t[rf],delete t[dr]}function Di(t){var i=t[wt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Sn]||a[wt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=qv(t);t!==null;){if(a=t[wt])return a;t=qv(t)}return i}t=a,a=t.parentNode}return null}function Wn(t){if(t=t[wt]||t[Sn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Zn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function nn(t){var i=t[Eu];return i||(i=t[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ft(t){t[ps]=!0}var Do=new Set,ua={};function Ln(t,i){Oi(t,i),Oi(t+"Capture",i)}function Oi(t,i){for(ua[t]=i,t=0;t<i.length;t++)Do.add(i[t])}var Tu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bu={},gs={};function wu(t){return os.call(gs,t)?!0:os.call(bu,t)?!1:Tu.test(t)?gs[t]=!0:(bu[t]=!0,!1)}function pr(t,i,a){if(wu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Jn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function zt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var ys,Su;function Pi(t){if(ys===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ys=i&&i[1]||"",Su=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ys+t+Su}var ca=!1;function ha(t,i){if(!t||ca)return"";ca=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var H=F}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(F){H=F}t.call(Z.prototype)}}else{try{throw Error()}catch(F){H=F}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],b=d[1];if(E&&b){var C=E.split(`
`),q=b.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===q.length)for(l=C.length-1,h=q.length-1;1<=l&&0<=h&&C[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==q[h]){var X=`
`+C[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{ca=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Pi(a):""}function Oo(t){switch(t.tag){case 26:case 27:case 5:return Pi(t.type);case 16:return Pi("Lazy");case 13:return Pi("Suspense");case 19:return Pi("SuspenseList");case 0:case 15:return ha(t.type,!1);case 11:return ha(t.type.render,!1);case 1:return ha(t.type,!0);case 31:return Pi("Activity");default:return""}}function fa(t){try{var i="";do i+=Oo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Po(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function sf(t){var i=Po(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function da(t){t._valueTracker||(t._valueTracker=sf(t))}function ko(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Po(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function vs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var af=/[\n"\\]/g;function yt(t){return t.replace(af,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function dn(t,i,a,l,h,d,E,b){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+rn(i)):t.value!==""+rn(i)&&(t.value=""+rn(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?gr(t,E,rn(i)):a!=null?gr(t,E,rn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+rn(b):t.removeAttribute("name")}function _s(t,i,a,l,h,d,E,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+rn(a):"",i=i!=null?""+rn(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function gr(t,i,a){i==="number"&&vs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ki(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+rn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ye(t,i,a){if(i!=null&&(i=""+rn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+rn(a):""}function Es(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(lt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=rn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function An(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ts=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Au(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Ts.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Mo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Au(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Au(t,d,i[d])}function Vo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var of=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ma(t){return lf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Mi=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vi=null,ji=null;function jo(t){var i=Wn(t);if(i&&(t=i.stateNode)){var a=t[gt]||null;e:switch(t=i.stateNode,i.type){case"input":if(dn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[gt]||null;if(!h)throw Error(s(90));dn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&ko(l)}break e;case"textarea":Ye(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&ki(t,!!a.multiple,i,!1)}}}var ei=!1;function Ru(t,i,a){if(ei)return t(i,a);ei=!0;try{var l=t(i);return l}finally{if(ei=!1,(Vi!==null||ji!==null)&&(_c(),Vi&&(i=Vi,t=ji,ji=Vi=null,jo(i),t)))for(i=0;i<t.length;i++)jo(t[i])}}function bs(t,i){var a=t.stateNode;if(a===null)return null;var l=a[gt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),In=!1;if(Un)try{var ws={};Object.defineProperty(ws,"passive",{get:function(){In=!0}}),window.addEventListener("test",ws,ws),window.removeEventListener("test",ws,ws)}catch{In=!1}var ti=null,yr=null,Li=null;function Lo(){if(Li)return Li;var t,i=yr,a=i.length,l,h="value"in ti?ti.value:ti.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var E=a-t;for(l=1;l<=E&&i[a-l]===h[d-l];l++);return Li=h.slice(t,1<l?1-l:void 0)}function ni(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ii(){return!0}function Uo(){return!1}function Ot(t){function i(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ii:Uo,this.isPropagationStopped=Uo,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),i}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pa=Ot(He),Ss=T({},He,{view:0,detail:0}),Iu=Ot(Ss),ga,ya,ri,As=T({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ri&&(ri&&t.type==="mousemove"?(ga=t.screenX-ri.screenX,ya=t.screenY-ri.screenY):ya=ga=0,ri=t),ga)},movementY:function(t){return"movementY"in t?t.movementY:ya}}),Cn=Ot(As),Cu=T({},As,{dataTransfer:0}),uf=Ot(Cu),Rs=T({},Ss,{relatedTarget:0}),va=Ot(Rs),zo=T({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),_a=Ot(zo),xu=T({},He,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ea=Ot(xu),cf=T({},He,{data:0}),Bo=Ot(cf),Is={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Du[t])?!!i[t]:!1}function Cs(){return qo}var Ou=T({},Ss,{key:function(t){if(t.key){var i=Is[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ni(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(t){return t.type==="keypress"?ni(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ni(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ta=Ot(Ou),Pu=T({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ho=Ot(Pu),Ui=T({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),ku=Ot(Ui),Mu=T({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vu=Ot(Mu),ju=T({},As,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ba=Ot(ju),sn=T({},He,{newState:0,oldState:0}),Lu=Ot(sn),Uu=[9,13,27,32],si=Un&&"CompositionEvent"in window,c=null;Un&&"documentMode"in document&&(c=document.documentMode);var y=Un&&"TextEvent"in window&&!c,_=Un&&(!si||c&&8<c&&11>=c),A=" ",U=!1;function K(t,i){switch(t){case"keyup":return Uu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Me=!1;function St(t,i){switch(t){case"compositionend":return se(i);case"keypress":return i.which!==32?null:(U=!0,A);case"textInput":return t=i.data,t===A&&U?null:t;default:return null}}function Ve(t,i){if(Me)return t==="compositionend"||!si&&K(t,i)?(t=Lo(),Li=yr=ti=null,Me=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function At(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Pt[t.type]:i==="textarea"}function zi(t,i,a,l){Vi?ji?ji.push(l):ji=[l]:Vi=l,i=Ac(i,"onChange"),0<i.length&&(a=new pa("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Bt=null,ai=null;function Fo(t){Ov(t,0)}function zu(t){var i=Zn(t);if(ko(i))return t}function Jp(t,i){if(t==="change")return i}var eg=!1;if(Un){var hf;if(Un){var ff="oninput"in document;if(!ff){var tg=document.createElement("div");tg.setAttribute("oninput","return;"),ff=typeof tg.oninput=="function"}hf=ff}else hf=!1;eg=hf&&(!document.documentMode||9<document.documentMode)}function ng(){Bt&&(Bt.detachEvent("onpropertychange",ig),ai=Bt=null)}function ig(t){if(t.propertyName==="value"&&zu(ai)){var i=[];zi(i,ai,t,Rn(t)),Ru(Fo,i)}}function Q1(t,i,a){t==="focusin"?(ng(),Bt=i,ai=a,Bt.attachEvent("onpropertychange",ig)):t==="focusout"&&ng()}function K1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zu(ai)}function Y1(t,i){if(t==="click")return zu(i)}function $1(t,i){if(t==="input"||t==="change")return zu(i)}function X1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var mn=typeof Object.is=="function"?Object.is:X1;function Go(t,i){if(mn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!os.call(i,h)||!mn(t[h],i[h]))return!1}return!0}function rg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sg(t,i){var a=rg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=rg(a)}}function ag(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ag(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function og(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=vs(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=vs(t.document)}return i}function df(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var W1=Un&&"documentMode"in document&&11>=document.documentMode,wa=null,mf=null,Qo=null,pf=!1;function lg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pf||wa==null||wa!==vs(l)||(l=wa,"selectionStart"in l&&df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Qo&&Go(Qo,l)||(Qo=l,l=Ac(mf,"onSelect"),0<l.length&&(i=new pa("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=wa)))}function xs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Sa={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionrun:xs("Transition","TransitionRun"),transitionstart:xs("Transition","TransitionStart"),transitioncancel:xs("Transition","TransitionCancel"),transitionend:xs("Transition","TransitionEnd")},gf={},ug={};Un&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Ns(t){if(gf[t])return gf[t];if(!Sa[t])return t;var i=Sa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in ug)return gf[t]=i[a];return t}var cg=Ns("animationend"),hg=Ns("animationiteration"),fg=Ns("animationstart"),Z1=Ns("transitionrun"),J1=Ns("transitionstart"),eb=Ns("transitioncancel"),dg=Ns("transitionend"),mg=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function zn(t,i){mg.set(t,i),Ln(i,[t])}var pg=new WeakMap;function xn(t,i){if(typeof t=="object"&&t!==null){var a=pg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:fa(i)},pg.set(t,i),i)}return{value:t,source:i,stack:fa(i)}}var Nn=[],Aa=0,vf=0;function Bu(){for(var t=Aa,i=vf=Aa=0;i<t;){var a=Nn[i];Nn[i++]=null;var l=Nn[i];Nn[i++]=null;var h=Nn[i];Nn[i++]=null;var d=Nn[i];if(Nn[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&gg(a,h,d)}}function qu(t,i,a,l){Nn[Aa++]=t,Nn[Aa++]=i,Nn[Aa++]=a,Nn[Aa++]=l,vf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function _f(t,i,a,l){return qu(t,i,a,l),Hu(t)}function Ra(t,i){return qu(t,null,null,i),Hu(t)}function gg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-$t(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Hu(t){if(50<yl)throw yl=0,Ad=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ia={};function tb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,i,a,l){return new tb(t,i,a,l)}function Ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Bi(t,i){var a=t.alternate;return a===null?(a=pn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function yg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Fu(t,i,a,l,h,d){var E=0;if(l=t,typeof t=="function")Ef(t)&&(E=1);else if(typeof t=="string")E=iw(t,a,pe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=pn(31,a,i,h),t.elementType=I,t.lanes=d,t;case k:return Ds(a.children,h,d,i);case G:E=8,h|=24;break;case B:return t=pn(12,a,i,h|2),t.elementType=B,t.lanes=d,t;case ae:return t=pn(13,a,i,h),t.elementType=ae,t.lanes=d,t;case ve:return t=pn(19,a,i,h),t.elementType=ve,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:case ie:E=10;break e;case ee:E=9;break e;case ue:E=11;break e;case O:E=14;break e;case R:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=pn(E,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ds(t,i,a,l){return t=pn(7,t,l,i),t.lanes=a,t}function Tf(t,i,a){return t=pn(6,t,null,i),t.lanes=a,t}function bf(t,i,a){return i=pn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ca=[],xa=0,Gu=null,Qu=0,Dn=[],On=0,Os=null,qi=1,Hi="";function Ps(t,i){Ca[xa++]=Qu,Ca[xa++]=Gu,Gu=t,Qu=i}function vg(t,i,a){Dn[On++]=qi,Dn[On++]=Hi,Dn[On++]=Os,Os=t;var l=qi;t=Hi;var h=32-$t(l)-1;l&=~(1<<h),a+=1;var d=32-$t(i)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,qi=1<<32-$t(i)+h|a<<h|l,Hi=d+t}else qi=1<<d|a<<h|l,Hi=t}function wf(t){t.return!==null&&(Ps(t,1),vg(t,1,0))}function Sf(t){for(;t===Gu;)Gu=Ca[--xa],Ca[xa]=null,Qu=Ca[--xa],Ca[xa]=null;for(;t===Os;)Os=Dn[--On],Dn[On]=null,Hi=Dn[--On],Dn[On]=null,qi=Dn[--On],Dn[On]=null}var an=null,ct=null,qe=!1,ks=null,oi=!1,Af=Error(s(519));function Ms(t){var i=Error(s(418,""));throw $o(xn(i,t)),Af}function _g(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[wt]=t,i[gt]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<_l.length;a++)Oe(_l[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),_s(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),da(i);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),Es(i,l.value,l.defaultValue,l.children),da(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Vv(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=Rc),i=!0):i=!1,i||Ms(t)}function Eg(t){for(an=t.return;an;)switch(an.tag){case 5:case 13:oi=!1;return;case 27:case 3:oi=!0;return;default:an=an.return}}function Ko(t){if(t!==an)return!1;if(!qe)return Eg(t),qe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Bd(t.type,t.memoizedProps)),a=!a),a&&ct&&Ms(t),Eg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ct=qn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ct=null}}else i===27?(i=ct,Pr(t.type)?(t=Gd,Gd=null,ct=t):ct=i):ct=an?qn(t.stateNode.nextSibling):null;return!0}function Yo(){ct=an=null,qe=!1}function Tg(){var t=ks;return t!==null&&(un===null?un=t:un.push.apply(un,t),ks=null),t}function $o(t){ks===null?ks=[t]:ks.push(t)}var Rf=te(null),Vs=null,Fi=null;function vr(t,i,a){re(Rf,i._currentValue),i._currentValue=a}function Gi(t){t._currentValue=Rf.current,le(Rf)}function If(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Cf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var C=0;C<i.length;C++)if(b.context===i[C]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),If(d.return,a,t),l||(E=null);break e}d=b.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),If(E,a,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Xo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var b=h.type;mn(h.pendingProps.value,E.value)||(t!==null?t.push(b):t=[b])}}else if(h===Dt.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Al):t=[Al])}h=h.return}t!==null&&Cf(i,t,a,l),i.flags|=262144}function Ku(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function js(t){Vs=t,Fi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return bg(Vs,t)}function Yu(t,i){return Vs===null&&js(t),bg(t,i)}function bg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Fi===null){if(t===null)throw Error(s(308));Fi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Fi=Fi.next=i;return a}var nb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},ib=r.unstable_scheduleCallback,rb=r.unstable_NormalPriority,Rt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xf(){return{controller:new nb,data:new Map,refCount:0}}function Wo(t){t.refCount--,t.refCount===0&&ib(rb,function(){t.controller.abort()})}var Zo=null,Nf=0,Na=0,Da=null;function sb(t,i){if(Zo===null){var a=Zo=[];Nf=0,Na=Od(),Da={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Nf++,i.then(wg,wg),i}function wg(){if(--Nf===0&&Zo!==null){Da!==null&&(Da.status="fulfilled");var t=Zo;Zo=null,Na=0,Da=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function ab(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Sg=$.S;$.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&sb(t,i),Sg!==null&&Sg(t,i)};var Ls=te(null);function Df(){var t=Ls.current;return t!==null?t:et.pooledCache}function $u(t,i){i===null?re(Ls,Ls.current):re(Ls,i.pool)}function Ag(){var t=Df();return t===null?null:{parent:Rt._currentValue,pool:t}}var Jo=Error(s(460)),Rg=Error(s(474)),Xu=Error(s(542)),Of={then:function(){}};function Ig(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wu(){}function Cg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Wu,Wu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ng(t),t;default:if(typeof i.status=="string")i.then(Wu,Wu);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ng(t),t}throw el=i,Jo}}var el=null;function xg(){if(el===null)throw Error(s(459));var t=el;return el=null,t}function Ng(t){if(t===Jo||t===Xu)throw Error(s(483))}var _r=!1;function Pf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Er(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Tr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Hu(t),gg(t,null,a),i}return qu(t,l,i,a),Hu(t)}function tl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,xo(t,a)}}function Mf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Vf=!1;function nl(){if(Vf){var t=Da;if(t!==null)throw t}}function il(t,i,a,l){Vf=!1;var h=t.updateQueue;_r=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var C=b,q=C.next;C.next=null,E===null?d=q:E.next=q,E=C;var X=t.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==E&&(b===null?X.firstBaseUpdate=q:b.next=q,X.lastBaseUpdate=C))}if(d!==null){var Z=h.baseState;E=0,X=q=C=null,b=d;do{var H=b.lane&-536870913,F=H!==b.lane;if(F?(je&H)===H:(l&H)===H){H!==0&&H===Na&&(Vf=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var be=t,ye=b;H=i;var We=a;switch(ye.tag){case 1:if(be=ye.payload,typeof be=="function"){Z=be.call(We,Z,H);break e}Z=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=ye.payload,H=typeof be=="function"?be.call(We,Z,H):be,H==null)break e;Z=T({},Z,H);break e;case 2:_r=!0}}H=b.callback,H!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[H]:F.push(H))}else F={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(q=X=F,C=Z):X=X.next=F,E|=H;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;F=b,b=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);X===null&&(C=Z),h.baseState=C,h.firstBaseUpdate=q,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),xr|=E,t.lanes=E,t.memoizedState=Z}}function Dg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Og(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Dg(a[t],i)}var Oa=te(null),Zu=te(0);function Pg(t,i){t=Zi,re(Zu,t),re(Oa,i),Zi=t|i.baseLanes}function jf(){re(Zu,Zi),re(Oa,Oa.current)}function Lf(){Zi=Zu.current,le(Oa),le(Zu)}var br=0,Ie=null,$e=null,vt=null,Ju=!1,Pa=!1,Us=!1,ec=0,rl=0,ka=null,ob=0;function dt(){throw Error(s(321))}function Uf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!mn(t[a],i[a]))return!1;return!0}function zf(t,i,a,l,h,d){return br=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?gy:yy,Us=!1,d=a(l,h),Us=!1,Pa&&(d=Mg(i,a,l,h)),kg(t),d}function kg(t){$.H=ac;var i=$e!==null&&$e.next!==null;if(br=0,vt=$e=Ie=null,Ju=!1,rl=0,ka=null,i)throw Error(s(300));t===null||kt||(t=t.dependencies,t!==null&&Ku(t)&&(kt=!0))}function Mg(t,i,a,l){Ie=t;var h=0;do{if(Pa&&(ka=null),rl=0,Pa=!1,25<=h)throw Error(s(301));if(h+=1,vt=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=mb,d=i(a,l)}while(Pa);return d}function lb(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?sl(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Bf(){var t=ec!==0;return ec=0,t}function qf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Hf(t){if(Ju){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ju=!1}br=0,vt=$e=Ie=null,Pa=!1,rl=ec=0,ka=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ie.memoizedState=vt=t:vt=vt.next=t,vt}function _t(){if($e===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=vt===null?Ie.memoizedState:vt.next;if(i!==null)vt=i,$e=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},vt===null?Ie.memoizedState=vt=t:vt=vt.next=t}return vt}function Ff(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(t){var i=rl;return rl+=1,ka===null&&(ka=[]),t=Cg(ka,t,i),i=Ie,(vt===null?i.memoizedState:vt.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?gy:yy),t}function tc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===ie)return Xt(t)}throw Error(s(438,String(t)))}function Gf(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ff(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=N;return i.index++,a}function Qi(t,i){return typeof i=="function"?i(t):i}function nc(t){var i=_t();return Qf(i,$e,t)}function Qf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=E=null,C=null,q=i,X=!1;do{var Z=q.lane&-536870913;if(Z!==q.lane?(je&Z)===Z:(br&Z)===Z){var H=q.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Z===Na&&(X=!0);else if((br&H)===H){q=q.next,H===Na&&(X=!0);continue}else Z={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(b=C=Z,E=d):C=C.next=Z,Ie.lanes|=H,xr|=H;Z=q.action,Us&&a(d,Z),d=q.hasEagerState?q.eagerState:a(d,Z)}else H={lane:Z,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(b=C=H,E=d):C=C.next=H,Ie.lanes|=Z,xr|=Z;q=q.next}while(q!==null&&q!==i);if(C===null?E=d:C.next=b,!mn(d,t.memoizedState)&&(kt=!0,X&&(a=Da,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Kf(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=t(d,E.action),E=E.next;while(E!==h);mn(d,i.memoizedState)||(kt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Vg(t,i,a){var l=Ie,h=_t(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!mn(($e||h).memoizedState,a);E&&(h.memoizedState=a,kt=!0),h=h.queue;var b=Ug.bind(null,l,h,t);if(al(2048,8,b,[t]),h.getSnapshot!==i||E||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,Ma(9,ic(),Lg.bind(null,l,h,a,i),null),et===null)throw Error(s(349));d||(br&124)!==0||jg(l,i,a)}return a}function jg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=Ff(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Lg(t,i,a,l){i.value=a,i.getSnapshot=l,zg(i)&&Bg(t)}function Ug(t,i,a){return a(function(){zg(i)&&Bg(t)})}function zg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!mn(t,a)}catch{return!0}}function Bg(t){var i=Ra(t,2);i!==null&&En(i,t,2)}function Yf(t){var i=on();if(typeof t=="function"){var a=t;if(t=a(),Us){fn(!0);try{a()}finally{fn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:t},i}function qg(t,i,a,l){return t.baseState=a,Qf(t,$e,typeof l=="function"?l:Qi)}function ub(t,i,a,l,h){if(sc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Hg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Hg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=$.T,E={};$.T=E;try{var b=a(h,l),C=$.S;C!==null&&C(E,b),Fg(t,i,b)}catch(q){$f(t,i,q)}finally{$.T=d}}else try{d=a(h,l),Fg(t,i,d)}catch(q){$f(t,i,q)}}function Fg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Gg(t,i,l)},function(l){return $f(t,i,l)}):Gg(t,i,a)}function Gg(t,i,a){i.status="fulfilled",i.value=a,Qg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Hg(t,a)))}function $f(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Qg(i),i=i.next;while(i!==l)}t.action=null}function Qg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Kg(t,i){return i}function Yg(t,i){if(qe){var a=et.formState;if(a!==null){e:{var l=Ie;if(qe){if(ct){t:{for(var h=ct,d=oi;h.nodeType!==8;){if(!d){h=null;break t}if(h=qn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ct=qn(h.nextSibling),l=h.data==="F!";break e}}Ms(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kg,lastRenderedState:i},a.queue=l,a=dy.bind(null,Ie,l),l.dispatch=a,l=Yf(!1),d=ed.bind(null,Ie,!1,l.queue),l=on(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=ub.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function $g(t){var i=_t();return Xg(i,$e,t)}function Xg(t,i,a){if(i=Qf(t,i,Kg)[0],t=nc(Qi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=sl(i)}catch(E){throw E===Jo?Xu:E}else l=i;i=_t();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Ma(9,ic(),cb.bind(null,h,a),null)),[l,d,t]}function cb(t,i){t.action=i}function Wg(t){var i=_t(),a=$e;if(a!==null)return Xg(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ma(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=Ff(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function ic(){return{destroy:void 0,resource:void 0}}function Zg(){return _t().memoizedState}function rc(t,i,a,l){var h=on();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=Ma(1|i,ic(),a,l)}function al(t,i,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&Uf(l,$e.memoizedState.deps)?h.memoizedState=Ma(i,d,a,l):(Ie.flags|=t,h.memoizedState=Ma(1|i,d,a,l))}function Jg(t,i){rc(8390656,8,t,i)}function ey(t,i){al(2048,8,t,i)}function ty(t,i){return al(4,2,t,i)}function ny(t,i){return al(4,4,t,i)}function iy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ry(t,i,a){a=a!=null?a.concat([t]):null,al(4,4,iy.bind(null,i,t),a)}function Xf(){}function sy(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Uf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function ay(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Uf(i,l[1]))return l[0];if(l=t(),Us){fn(!0);try{t()}finally{fn(!1)}}return a.memoizedState=[l,i],l}function Wf(t,i,a){return a===void 0||(br&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=uv(),Ie.lanes|=t,xr|=t,a)}function oy(t,i,a,l){return mn(a,i)?a:Oa.current!==null?(t=Wf(t,a,l),mn(t,i)||(kt=!0),t):(br&42)===0?(kt=!0,t.memoizedState=a):(t=uv(),Ie.lanes|=t,xr|=t,i)}function ly(t,i,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var E=$.T,b={};$.T=b,ed(t,!1,i,a);try{var C=h(),q=$.S;if(q!==null&&q(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var X=ab(C,l);ol(t,i,X,_n(t))}else ol(t,i,l,_n(t))}catch(Z){ol(t,i,{then:function(){},status:"rejected",reason:Z},_n())}finally{oe.p=d,$.T=E}}function hb(){}function Zf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=uy(t).queue;ly(t,h,i,me,a===null?hb:function(){return cy(t),a(l)})}function uy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function cy(t){var i=uy(t).next.queue;ol(t,i,{},_n())}function Jf(){return Xt(Al)}function hy(){return _t().memoizedState}function fy(){return _t().memoizedState}function fb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=_n();t=Er(a);var l=Tr(i,t,a);l!==null&&(En(l,i,a),tl(l,i,a)),i={cache:xf()},t.payload=i;return}i=i.return}}function db(t,i,a){var l=_n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},sc(t)?my(i,a):(a=_f(t,i,a,l),a!==null&&(En(a,t,l),py(a,i,l)))}function dy(t,i,a){var l=_n();ol(t,i,a,l)}function ol(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(sc(t))my(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,b=d(E,a);if(h.hasEagerState=!0,h.eagerState=b,mn(b,E))return qu(t,i,h,0),et===null&&Bu(),!1}catch{}finally{}if(a=_f(t,i,h,l),a!==null)return En(a,t,l),py(a,i,l),!0}return!1}function ed(t,i,a,l){if(l={lane:2,revertLane:Od(),action:l,hasEagerState:!1,eagerState:null,next:null},sc(t)){if(i)throw Error(s(479))}else i=_f(t,a,l,2),i!==null&&En(i,t,2)}function sc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function my(t,i){Pa=Ju=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function py(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,xo(t,a)}}var ac={readContext:Xt,use:tc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt},gy={readContext:Xt,use:tc,useCallback:function(t,i){return on().memoizedState=[t,i===void 0?null:i],t},useContext:Xt,useEffect:Jg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,rc(4194308,4,iy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return rc(4194308,4,t,i)},useInsertionEffect:function(t,i){rc(4,2,t,i)},useMemo:function(t,i){var a=on();i=i===void 0?null:i;var l=t();if(Us){fn(!0);try{t()}finally{fn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=on();if(a!==void 0){var h=a(i);if(Us){fn(!0);try{a(i)}finally{fn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=db.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=on();return t={current:t},i.memoizedState=t},useState:function(t){t=Yf(t);var i=t.queue,a=dy.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Xf,useDeferredValue:function(t,i){var a=on();return Wf(a,t,i)},useTransition:function(){var t=Yf(!1);return t=ly.bind(null,Ie,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=on();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(je&124)!==0||jg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Jg(Ug.bind(null,l,d,t),[t]),l.flags|=2048,Ma(9,ic(),Lg.bind(null,l,d,a,i),null),a},useId:function(){var t=on(),i=et.identifierPrefix;if(qe){var a=Hi,l=qi;a=(l&~(1<<32-$t(l)-1)).toString(32)+a,i=""+i+"R"+a,a=ec++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=ob++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Jf,useFormState:Yg,useActionState:Yg,useOptimistic:function(t){var i=on();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ed.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:Gf,useCacheRefresh:function(){return on().memoizedState=fb.bind(null,Ie)}},yy={readContext:Xt,use:tc,useCallback:sy,useContext:Xt,useEffect:ey,useImperativeHandle:ry,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:ay,useReducer:nc,useRef:Zg,useState:function(){return nc(Qi)},useDebugValue:Xf,useDeferredValue:function(t,i){var a=_t();return oy(a,$e.memoizedState,t,i)},useTransition:function(){var t=nc(Qi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:sl(t),i]},useSyncExternalStore:Vg,useId:hy,useHostTransitionStatus:Jf,useFormState:$g,useActionState:$g,useOptimistic:function(t,i){var a=_t();return qg(a,$e,t,i)},useMemoCache:Gf,useCacheRefresh:fy},mb={readContext:Xt,use:tc,useCallback:sy,useContext:Xt,useEffect:ey,useImperativeHandle:ry,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:ay,useReducer:Kf,useRef:Zg,useState:function(){return Kf(Qi)},useDebugValue:Xf,useDeferredValue:function(t,i){var a=_t();return $e===null?Wf(a,t,i):oy(a,$e.memoizedState,t,i)},useTransition:function(){var t=Kf(Qi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:sl(t),i]},useSyncExternalStore:Vg,useId:hy,useHostTransitionStatus:Jf,useFormState:Wg,useActionState:Wg,useOptimistic:function(t,i){var a=_t();return $e!==null?qg(a,$e,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Gf,useCacheRefresh:fy},Va=null,ll=0;function oc(t){var i=ll;return ll+=1,Va===null&&(Va=[]),Cg(Va,t,i)}function ul(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function lc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function vy(t){var i=t._init;return i(t._payload)}function _y(t){function i(j,P){if(t){var z=j.deletions;z===null?(j.deletions=[P],j.flags|=16):z.push(P)}}function a(j,P){if(!t)return null;for(;P!==null;)i(j,P),P=P.sibling;return null}function l(j){for(var P=new Map;j!==null;)j.key!==null?P.set(j.key,j):P.set(j.index,j),j=j.sibling;return P}function h(j,P){return j=Bi(j,P),j.index=0,j.sibling=null,j}function d(j,P,z){return j.index=z,t?(z=j.alternate,z!==null?(z=z.index,z<P?(j.flags|=67108866,P):z):(j.flags|=67108866,P)):(j.flags|=1048576,P)}function E(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function b(j,P,z,W){return P===null||P.tag!==6?(P=Tf(z,j.mode,W),P.return=j,P):(P=h(P,z),P.return=j,P)}function C(j,P,z,W){var he=z.type;return he===k?X(j,P,z.props.children,W,z.key):P!==null&&(P.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===R&&vy(he)===P.type)?(P=h(P,z.props),ul(P,z),P.return=j,P):(P=Fu(z.type,z.key,z.props,null,j.mode,W),ul(P,z),P.return=j,P)}function q(j,P,z,W){return P===null||P.tag!==4||P.stateNode.containerInfo!==z.containerInfo||P.stateNode.implementation!==z.implementation?(P=bf(z,j.mode,W),P.return=j,P):(P=h(P,z.children||[]),P.return=j,P)}function X(j,P,z,W,he){return P===null||P.tag!==7?(P=Ds(z,j.mode,W,he),P.return=j,P):(P=h(P,z),P.return=j,P)}function Z(j,P,z){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Tf(""+P,j.mode,z),P.return=j,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case S:return z=Fu(P.type,P.key,P.props,null,j.mode,z),ul(z,P),z.return=j,z;case M:return P=bf(P,j.mode,z),P.return=j,P;case R:var W=P._init;return P=W(P._payload),Z(j,P,z)}if(lt(P)||L(P))return P=Ds(P,j.mode,z,null),P.return=j,P;if(typeof P.then=="function")return Z(j,oc(P),z);if(P.$$typeof===ie)return Z(j,Yu(j,P),z);lc(j,P)}return null}function H(j,P,z,W){var he=P!==null?P.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return he!==null?null:b(j,P,""+z,W);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return z.key===he?C(j,P,z,W):null;case M:return z.key===he?q(j,P,z,W):null;case R:return he=z._init,z=he(z._payload),H(j,P,z,W)}if(lt(z)||L(z))return he!==null?null:X(j,P,z,W,null);if(typeof z.then=="function")return H(j,P,oc(z),W);if(z.$$typeof===ie)return H(j,P,Yu(j,z),W);lc(j,z)}return null}function F(j,P,z,W,he){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return j=j.get(z)||null,b(P,j,""+W,he);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case S:return j=j.get(W.key===null?z:W.key)||null,C(P,j,W,he);case M:return j=j.get(W.key===null?z:W.key)||null,q(P,j,W,he);case R:var Ne=W._init;return W=Ne(W._payload),F(j,P,z,W,he)}if(lt(W)||L(W))return j=j.get(z)||null,X(P,j,W,he,null);if(typeof W.then=="function")return F(j,P,z,oc(W),he);if(W.$$typeof===ie)return F(j,P,z,Yu(P,W),he);lc(P,W)}return null}function be(j,P,z,W){for(var he=null,Ne=null,de=P,_e=P=0,Vt=null;de!==null&&_e<z.length;_e++){de.index>_e?(Vt=de,de=null):Vt=de.sibling;var ze=H(j,de,z[_e],W);if(ze===null){de===null&&(de=Vt);break}t&&de&&ze.alternate===null&&i(j,de),P=d(ze,P,_e),Ne===null?he=ze:Ne.sibling=ze,Ne=ze,de=Vt}if(_e===z.length)return a(j,de),qe&&Ps(j,_e),he;if(de===null){for(;_e<z.length;_e++)de=Z(j,z[_e],W),de!==null&&(P=d(de,P,_e),Ne===null?he=de:Ne.sibling=de,Ne=de);return qe&&Ps(j,_e),he}for(de=l(de);_e<z.length;_e++)Vt=F(de,j,_e,z[_e],W),Vt!==null&&(t&&Vt.alternate!==null&&de.delete(Vt.key===null?_e:Vt.key),P=d(Vt,P,_e),Ne===null?he=Vt:Ne.sibling=Vt,Ne=Vt);return t&&de.forEach(function(Lr){return i(j,Lr)}),qe&&Ps(j,_e),he}function ye(j,P,z,W){if(z==null)throw Error(s(151));for(var he=null,Ne=null,de=P,_e=P=0,Vt=null,ze=z.next();de!==null&&!ze.done;_e++,ze=z.next()){de.index>_e?(Vt=de,de=null):Vt=de.sibling;var Lr=H(j,de,ze.value,W);if(Lr===null){de===null&&(de=Vt);break}t&&de&&Lr.alternate===null&&i(j,de),P=d(Lr,P,_e),Ne===null?he=Lr:Ne.sibling=Lr,Ne=Lr,de=Vt}if(ze.done)return a(j,de),qe&&Ps(j,_e),he;if(de===null){for(;!ze.done;_e++,ze=z.next())ze=Z(j,ze.value,W),ze!==null&&(P=d(ze,P,_e),Ne===null?he=ze:Ne.sibling=ze,Ne=ze);return qe&&Ps(j,_e),he}for(de=l(de);!ze.done;_e++,ze=z.next())ze=F(de,j,_e,ze.value,W),ze!==null&&(t&&ze.alternate!==null&&de.delete(ze.key===null?_e:ze.key),P=d(ze,P,_e),Ne===null?he=ze:Ne.sibling=ze,Ne=ze);return t&&de.forEach(function(pw){return i(j,pw)}),qe&&Ps(j,_e),he}function We(j,P,z,W){if(typeof z=="object"&&z!==null&&z.type===k&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case S:e:{for(var he=z.key;P!==null;){if(P.key===he){if(he=z.type,he===k){if(P.tag===7){a(j,P.sibling),W=h(P,z.props.children),W.return=j,j=W;break e}}else if(P.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===R&&vy(he)===P.type){a(j,P.sibling),W=h(P,z.props),ul(W,z),W.return=j,j=W;break e}a(j,P);break}else i(j,P);P=P.sibling}z.type===k?(W=Ds(z.props.children,j.mode,W,z.key),W.return=j,j=W):(W=Fu(z.type,z.key,z.props,null,j.mode,W),ul(W,z),W.return=j,j=W)}return E(j);case M:e:{for(he=z.key;P!==null;){if(P.key===he)if(P.tag===4&&P.stateNode.containerInfo===z.containerInfo&&P.stateNode.implementation===z.implementation){a(j,P.sibling),W=h(P,z.children||[]),W.return=j,j=W;break e}else{a(j,P);break}else i(j,P);P=P.sibling}W=bf(z,j.mode,W),W.return=j,j=W}return E(j);case R:return he=z._init,z=he(z._payload),We(j,P,z,W)}if(lt(z))return be(j,P,z,W);if(L(z)){if(he=L(z),typeof he!="function")throw Error(s(150));return z=he.call(z),ye(j,P,z,W)}if(typeof z.then=="function")return We(j,P,oc(z),W);if(z.$$typeof===ie)return We(j,P,Yu(j,z),W);lc(j,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,P!==null&&P.tag===6?(a(j,P.sibling),W=h(P,z),W.return=j,j=W):(a(j,P),W=Tf(z,j.mode,W),W.return=j,j=W),E(j)):a(j,P)}return function(j,P,z,W){try{ll=0;var he=We(j,P,z,W);return Va=null,he}catch(de){if(de===Jo||de===Xu)throw de;var Ne=pn(29,de,null,j.mode);return Ne.lanes=W,Ne.return=j,Ne}finally{}}}var ja=_y(!0),Ey=_y(!1),Pn=te(null),li=null;function wr(t){var i=t.alternate;re(It,It.current&1),re(Pn,t),li===null&&(i===null||Oa.current!==null||i.memoizedState!==null)&&(li=t)}function Ty(t){if(t.tag===22){if(re(It,It.current),re(Pn,t),li===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(li=t)}}else Sr()}function Sr(){re(It,It.current),re(Pn,Pn.current)}function Ki(t){le(Pn),li===t&&(li=null),le(It)}var It=te(0);function uc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Fd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function td(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var nd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=_n(),h=Er(l);h.payload=i,a!=null&&(h.callback=a),i=Tr(t,h,l),i!==null&&(En(i,t,l),tl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=_n(),h=Er(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Tr(t,h,l),i!==null&&(En(i,t,l),tl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=_n(),l=Er(a);l.tag=2,i!=null&&(l.callback=i),i=Tr(t,l,a),i!==null&&(En(i,t,a),tl(i,t,a))}};function by(t,i,a,l,h,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!Go(a,l)||!Go(h,d):!0}function wy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&nd.enqueueReplaceState(i,i.state,null)}function zs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var cc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Sy(t){cc(t)}function Ay(t){console.error(t)}function Ry(t){cc(t)}function hc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Iy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function id(t,i,a){return a=Er(a),a.tag=3,a.payload={element:null},a.callback=function(){hc(t,i)},a}function Cy(t){return t=Er(t),t.tag=3,t}function xy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Iy(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Iy(i,a,l),typeof h!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function pb(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Xo(i,a,h,!0),a=Pn.current,a!==null){switch(a.tag){case 13:return li===null?Id():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Of?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),xd(t,l,h)),!1;case 22:return a.flags|=65536,l===Of?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),xd(t,l,h)),!1}throw Error(s(435,a.tag))}return xd(t,l,h),Id(),!1}if(qe)return i=Pn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Af&&(t=Error(s(422),{cause:l}),$o(xn(t,a)))):(l!==Af&&(i=Error(s(423),{cause:l}),$o(xn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=xn(l,a),h=id(t.stateNode,l,h),Mf(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=xn(d,a),gl===null?gl=[d]:gl.push(d),ht!==4&&(ht=2),i===null)return!0;l=xn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=id(a.stateNode,l,t),Mf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Nr===null||!Nr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Cy(h),xy(h,t,a,l),Mf(a,h),!1}a=a.return}while(a!==null);return!1}var Ny=Error(s(461)),kt=!1;function qt(t,i,a,l){i.child=t===null?Ey(i,null,a,l):ja(i,t.child,a,l)}function Dy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var E={};for(var b in l)b!=="ref"&&(E[b]=l[b])}else E=l;return js(i),l=zf(t,i,a,E,d,h),b=Bf(),t!==null&&!kt?(qf(t,i,h),Yi(t,i,h)):(qe&&b&&wf(i),i.flags|=1,qt(t,i,l,h),i.child)}function Oy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Ef(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Py(t,i,d,l,h)):(t=Fu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!hd(t,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Go,a(E,l)&&t.ref===i.ref)return Yi(t,i,h)}return i.flags|=1,t=Bi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Py(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Go(d,l)&&t.ref===i.ref)if(kt=!1,i.pendingProps=l=d,hd(t,h))(t.flags&131072)!==0&&(kt=!0);else return i.lanes=t.lanes,Yi(t,i,h)}return rd(t,i,a,l,h)}function ky(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return My(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&$u(i,d!==null?d.cachePool:null),d!==null?Pg(i,d):jf(),Ty(i);else return i.lanes=i.childLanes=536870912,My(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?($u(i,d.cachePool),Pg(i,d),Sr(),i.memoizedState=null):(t!==null&&$u(i,null),jf(),Sr());return qt(t,i,h,a),i.child}function My(t,i,a,l){var h=Df();return h=h===null?null:{parent:Rt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&$u(i,null),jf(),Ty(i),t!==null&&Xo(t,i,l,!0),null}function fc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function rd(t,i,a,l,h){return js(i),a=zf(t,i,a,l,void 0,h),l=Bf(),t!==null&&!kt?(qf(t,i,h),Yi(t,i,h)):(qe&&l&&wf(i),i.flags|=1,qt(t,i,a,h),i.child)}function Vy(t,i,a,l,h,d){return js(i),i.updateQueue=null,a=Mg(i,l,a,h),kg(t),l=Bf(),t!==null&&!kt?(qf(t,i,d),Yi(t,i,d)):(qe&&l&&wf(i),i.flags|=1,qt(t,i,a,d),i.child)}function jy(t,i,a,l,h){if(js(i),i.stateNode===null){var d=Ia,E=a.contextType;typeof E=="object"&&E!==null&&(d=Xt(E)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=nd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Pf(i),E=a.contextType,d.context=typeof E=="object"&&E!==null?Xt(E):Ia,d.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(td(i,a,E,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&nd.enqueueReplaceState(d,d.state,null),il(i,l,d,h),nl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,C=zs(a,b);d.props=C;var q=d.context,X=a.contextType;E=Ia,typeof X=="object"&&X!==null&&(E=Xt(X));var Z=a.getDerivedStateFromProps;X=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||q!==E)&&wy(i,d,l,E),_r=!1;var H=i.memoizedState;d.state=H,il(i,l,d,h),nl(),q=i.memoizedState,b||H!==q||_r?(typeof Z=="function"&&(td(i,a,Z,l),q=i.memoizedState),(C=_r||by(i,a,C,l,H,q,E))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=E,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,kf(t,i),E=i.memoizedProps,X=zs(a,E),d.props=X,Z=i.pendingProps,H=d.context,q=a.contextType,C=Ia,typeof q=="object"&&q!==null&&(C=Xt(q)),b=a.getDerivedStateFromProps,(q=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==Z||H!==C)&&wy(i,d,l,C),_r=!1,H=i.memoizedState,d.state=H,il(i,l,d,h),nl();var F=i.memoizedState;E!==Z||H!==F||_r||t!==null&&t.dependencies!==null&&Ku(t.dependencies)?(typeof b=="function"&&(td(i,a,b,l),F=i.memoizedState),(X=_r||by(i,a,X,l,H,F,C)||t!==null&&t.dependencies!==null&&Ku(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=C,l=X):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,fc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ja(i,t.child,null,h),i.child=ja(i,null,a,h)):qt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Yi(t,i,h),t}function Ly(t,i,a,l){return Yo(),i.flags|=256,qt(t,i,a,l),i.child}var sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ad(t){return{baseLanes:t,cachePool:Ag()}}function od(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=kn),t}function Uy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(qe){if(h?wr(i):Sr(),qe){var b=ct,C;if(C=b){e:{for(C=b,b=oi;C.nodeType!==8;){if(!b){b=null;break e}if(C=qn(C.nextSibling),C===null){b=null;break e}}b=C}b!==null?(i.memoizedState={dehydrated:b,treeContext:Os!==null?{id:qi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},C=pn(18,null,null,0),C.stateNode=b,C.return=i,i.child=C,an=i,ct=null,C=!0):C=!1}C||Ms(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Fd(b)?i.lanes=32:i.lanes=536870912,null;Ki(i)}return b=l.children,l=l.fallback,h?(Sr(),h=i.mode,b=dc({mode:"hidden",children:b},h),l=Ds(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,h=i.child,h.memoizedState=ad(a),h.childLanes=od(t,E,a),i.memoizedState=sd,l):(wr(i),ld(i,b))}if(C=t.memoizedState,C!==null&&(b=C.dehydrated,b!==null)){if(d)i.flags&256?(wr(i),i.flags&=-257,i=ud(t,i,a)):i.memoizedState!==null?(Sr(),i.child=t.child,i.flags|=128,i=null):(Sr(),h=l.fallback,b=i.mode,l=dc({mode:"visible",children:l.children},b),h=Ds(h,b,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,ja(i,t.child,null,a),l=i.child,l.memoizedState=ad(a),l.childLanes=od(t,E,a),i.memoizedState=sd,i=h);else if(wr(i),Fd(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var q=E.dgst;E=q,l=Error(s(419)),l.stack="",l.digest=E,$o({value:l,source:null,stack:null}),i=ud(t,i,a)}else if(kt||Xo(t,i,a,!1),E=(a&t.childLanes)!==0,kt||E){if(E=et,E!==null&&(l=a&-a,l=(l&42)!==0?1:hr(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Ra(t,l),En(E,t,l),Ny;b.data==="$?"||Id(),i=ud(t,i,a)}else b.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,ct=qn(b.nextSibling),an=i,qe=!0,ks=null,oi=!1,t!==null&&(Dn[On++]=qi,Dn[On++]=Hi,Dn[On++]=Os,qi=t.id,Hi=t.overflow,Os=i),i=ld(i,l.children),i.flags|=4096);return i}return h?(Sr(),h=l.fallback,b=i.mode,C=t.child,q=C.sibling,l=Bi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,q!==null?h=Bi(q,h):(h=Ds(h,b,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,b=t.child.memoizedState,b===null?b=ad(a):(C=b.cachePool,C!==null?(q=Rt._currentValue,C=C.parent!==q?{parent:q,pool:q}:C):C=Ag(),b={baseLanes:b.baseLanes|a,cachePool:C}),h.memoizedState=b,h.childLanes=od(t,E,a),i.memoizedState=sd,l):(wr(i),a=t.child,t=a.sibling,a=Bi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=a,i.memoizedState=null,a)}function ld(t,i){return i=dc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function dc(t,i){return t=pn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ud(t,i,a){return ja(i,t.child,null,a),t=ld(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function zy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),If(t.return,i,a)}function cd(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function By(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(qt(t,i,l.children,a),l=It.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zy(t,a,i);else if(t.tag===19)zy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(re(It,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&uc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),cd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&uc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}cd(i,!0,a,null,d);break;case"together":cd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Yi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),xr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Xo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Bi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Bi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function hd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ku(t)))}function gb(t,i,a){switch(i.tag){case 3:Je(i,i.stateNode.containerInfo),vr(i,Rt,t.memoizedState.cache),Yo();break;case 27:case 5:cr(i);break;case 4:Je(i,i.stateNode.containerInfo);break;case 10:vr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(wr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Uy(t,i,a):(wr(i),t=Yi(t,i,a),t!==null?t.sibling:null);wr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Xo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return By(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(It,It.current),l)break;return null;case 22:case 23:return i.lanes=0,ky(t,i,a);case 24:vr(i,Rt,t.memoizedState.cache)}return Yi(t,i,a)}function qy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)kt=!0;else{if(!hd(t,a)&&(i.flags&128)===0)return kt=!1,gb(t,i,a);kt=(t.flags&131072)!==0}else kt=!1,qe&&(i.flags&1048576)!==0&&vg(i,Qu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Ef(l)?(t=zs(l,t),i.tag=1,i=jy(null,i,l,t,a)):(i.tag=0,i=rd(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ue){i.tag=11,i=Dy(null,i,l,t,a);break e}else if(h===O){i.tag=14,i=Oy(null,i,l,t,a);break e}}throw i=Ut(l)||l,Error(s(306,i,""))}}return i;case 0:return rd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=zs(l,i.pendingProps),jy(t,i,l,h,a);case 3:e:{if(Je(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,kf(t,i),il(i,l,null,a);var E=i.memoizedState;if(l=E.cache,vr(i,Rt,l),l!==d.cache&&Cf(i,[Rt],a,!0),nl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Ly(t,i,l,a);break e}else if(l!==h){h=xn(Error(s(424)),i),$o(h),i=Ly(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=qn(t.firstChild),an=i,qe=!0,ks=null,oi=!0,a=Ey(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Yo(),l===h){i=Yi(t,i,a);break e}qt(t,i,l,a)}i=i.child}return i;case 26:return fc(t,i),t===null?(a=Qv(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,t=i.pendingProps,l=Ic(we.current).createElement(a),l[wt]=i,l[gt]=t,Ft(l,a,t),ft(l),i.stateNode=l):i.memoizedState=Qv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return cr(i),t===null&&qe&&(l=i.stateNode=Hv(i.type,i.pendingProps,we.current),an=i,oi=!0,h=ct,Pr(i.type)?(Gd=h,ct=qn(l.firstChild)):ct=h),qt(t,i,i.pendingProps.children,a),fc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&qe&&((h=l=ct)&&(l=Fb(l,i.type,i.pendingProps,oi),l!==null?(i.stateNode=l,an=i,ct=qn(l.firstChild),oi=!1,h=!0):h=!1),h||Ms(i)),cr(i),h=i.type,d=i.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,Bd(h,d)?l=null:E!==null&&Bd(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=zf(t,i,lb,null,null,a),Al._currentValue=h),fc(t,i),qt(t,i,l,a),i.child;case 6:return t===null&&qe&&((t=a=ct)&&(a=Gb(a,i.pendingProps,oi),a!==null?(i.stateNode=a,an=i,ct=null,t=!0):t=!1),t||Ms(i)),null;case 13:return Uy(t,i,a);case 4:return Je(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ja(i,null,l,a):qt(t,i,l,a),i.child;case 11:return Dy(t,i,i.type,i.pendingProps,a);case 7:return qt(t,i,i.pendingProps,a),i.child;case 8:return qt(t,i,i.pendingProps.children,a),i.child;case 12:return qt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,vr(i,i.type,l.value),qt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,js(i),h=Xt(h),l=l(h),i.flags|=1,qt(t,i,l,a),i.child;case 14:return Oy(t,i,i.type,i.pendingProps,a);case 15:return Py(t,i,i.type,i.pendingProps,a);case 19:return By(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=dc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Bi(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return ky(t,i,a);case 24:return js(i),l=Xt(Rt),t===null?(h=Df(),h===null&&(h=et,d=xf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Pf(i),vr(i,Rt,h)):((t.lanes&a)!==0&&(kf(t,i),il(i,null,null,a),nl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),vr(i,Rt,l)):(l=d.cache,vr(i,Rt,l),l!==h.cache&&Cf(i,[Rt],a,!0))),qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function $i(t){t.flags|=4}function Hy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Wv(i)){if(i=Pn.current,i!==null&&((je&4194048)===je?li!==null:(je&62914560)!==je&&(je&536870912)===0||i!==li))throw el=Of,Rg;t.flags|=8192}}function mc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Io():536870912,t.lanes|=i,Ba|=i)}function cl(t,i){if(!qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function yb(t,i,a){var l=i.pendingProps;switch(Sf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Gi(Rt),$n(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ko(i)?$i(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Tg())),st(i),null;case 26:return a=i.memoizedState,t===null?($i(i),a!==null?(st(i),Hy(i,a)):(st(i),i.flags&=-16777217)):a?a!==t.memoizedState?($i(i),st(i),Hy(i,a)):(st(i),i.flags&=-16777217):(t.memoizedProps!==l&&$i(i),st(i),i.flags&=-16777217),null;case 27:Ci(i),a=we.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}t=pe.current,Ko(i)?_g(i):(t=Hv(h,l,a),i.stateNode=t,$i(i))}return st(i),null;case 5:if(Ci(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}if(t=pe.current,Ko(i))_g(i);else{switch(h=Ic(we.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[wt]=i,t[gt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Ft(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&$i(i)}}return st(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=we.current,Ko(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=an,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[wt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Vv(t.nodeValue,a)),t||Ms(i)}else t=Ic(t).createTextNode(l),t[wt]=i,i.stateNode=t}return st(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ko(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[wt]=i}else Yo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),h=!1}else h=Tg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ki(i),i):(Ki(i),null)}if(Ki(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),mc(i,i.updateQueue),st(i),null;case 4:return $n(),t===null&&Vd(i.stateNode.containerInfo),st(i),null;case 10:return Gi(i.type),st(i),null;case 19:if(le(It),h=i.memoizedState,h===null)return st(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)cl(h,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=uc(t),d!==null){for(i.flags|=128,cl(h,!1),t=d.updateQueue,i.updateQueue=t,mc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)yg(a,t),a=a.sibling;return re(It,It.current&1|2),i.child}t=t.sibling}h.tail!==null&&wn()>yc&&(i.flags|=128,l=!0,cl(h,!1),i.lanes=4194304)}else{if(!l)if(t=uc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,mc(i,t),cl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return st(i),null}else 2*wn()-h.renderingStartTime>yc&&a!==536870912&&(i.flags|=128,l=!0,cl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=wn(),i.sibling=null,t=It.current,re(It,l?t&1|2:t&1),i):(st(i),null);case 22:case 23:return Ki(i),Lf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),a=i.updateQueue,a!==null&&mc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&le(Ls),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Gi(Rt),st(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function vb(t,i){switch(Sf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Gi(Rt),$n(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ci(i),null;case 13:if(Ki(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Yo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return le(It),null;case 4:return $n(),null;case 10:return Gi(i.type),null;case 22:case 23:return Ki(i),Lf(),t!==null&&le(Ls),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Gi(Rt),null;case 25:return null;default:return null}}function Fy(t,i){switch(Sf(i),i.tag){case 3:Gi(Rt),$n();break;case 26:case 27:case 5:Ci(i);break;case 4:$n();break;case 13:Ki(i);break;case 19:le(It);break;case 10:Gi(i.type);break;case 22:case 23:Ki(i),Lf(),t!==null&&le(Ls);break;case 24:Gi(Rt)}}function hl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(b){Ze(i,i.return,b)}}function Ar(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var E=l.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,h=i;var C=a,q=b;try{q()}catch(X){Ze(h,C,X)}}}l=l.next}while(l!==d)}}catch(X){Ze(i,i.return,X)}}function Gy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Og(i,a)}catch(l){Ze(t,t.return,l)}}}function Qy(t,i,a){a.props=zs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,i,l)}}function fl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,i,h)}}function ui(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,i,h)}else a.current=null}function Ky(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function fd(t,i,a){try{var l=t.stateNode;Ub(l,t.type,a,i),l[gt]=i}catch(h){Ze(t,t.return,h)}}function Yy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Pr(t.type)||t.tag===4}function dd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Yy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Pr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function md(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Rc));else if(l!==4&&(l===27&&Pr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(md(t,i,a),t=t.sibling;t!==null;)md(t,i,a),t=t.sibling}function pc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Pr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(pc(t,i,a),t=t.sibling;t!==null;)pc(t,i,a),t=t.sibling}function $y(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ft(i,l,a),i[wt]=t,i[gt]=a}catch(d){Ze(t,t.return,d)}}var Xi=!1,mt=!1,pd=!1,Xy=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function _b(t,i){if(t=t.containerInfo,Ud=Pc,t=og(t),df(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,b=-1,C=-1,q=0,X=0,Z=t,H=null;t:for(;;){for(var F;Z!==a||h!==0&&Z.nodeType!==3||(b=E+h),Z!==d||l!==0&&Z.nodeType!==3||(C=E+l),Z.nodeType===3&&(E+=Z.nodeValue.length),(F=Z.firstChild)!==null;)H=Z,Z=F;for(;;){if(Z===t)break t;if(H===a&&++q===h&&(b=E),H===d&&++X===l&&(C=E),(F=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=F}a=b===-1||C===-1?null:{start:b,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(zd={focusedElem:t,selectionRange:a},Pc=!1,Mt=i;Mt!==null;)if(i=Mt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Mt=t;else for(;Mt!==null;){switch(i=Mt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var be=zs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(be,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Ze(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Hd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Mt=t;break}Mt=i.return}}function Wy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Rr(t,a),l&4&&hl(5,a);break;case 1:if(Rr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(E){Ze(a,a.return,E)}else{var h=zs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Ze(a,a.return,E)}}l&64&&Gy(a),l&512&&fl(a,a.return);break;case 3:if(Rr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Og(t,i)}catch(E){Ze(a,a.return,E)}}break;case 27:i===null&&l&4&&$y(a);case 26:case 5:Rr(t,a),i===null&&l&4&&Ky(a),l&512&&fl(a,a.return);break;case 12:Rr(t,a);break;case 13:Rr(t,a),l&4&&ev(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Cb.bind(null,a),Qb(t,a))));break;case 22:if(l=a.memoizedState!==null||Xi,!l){i=i!==null&&i.memoizedState!==null||mt,h=Xi;var d=mt;Xi=l,(mt=i)&&!d?Ir(t,a,(a.subtreeFlags&8772)!==0):Rr(t,a),Xi=h,mt=d}break;case 30:break;default:Rr(t,a)}}function Zy(t){var i=t.alternate;i!==null&&(t.alternate=null,Zy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&mr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var it=null,ln=!1;function Wi(t,i,a){for(a=a.child;a!==null;)Jy(t,i,a),a=a.sibling}function Jy(t,i,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ut,a)}catch{}switch(a.tag){case 26:mt||ui(a,i),Wi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:mt||ui(a,i);var l=it,h=ln;Pr(a.type)&&(it=a.stateNode,ln=!1),Wi(t,i,a),Tl(a.stateNode),it=l,ln=h;break;case 5:mt||ui(a,i);case 6:if(l=it,h=ln,it=null,Wi(t,i,a),it=l,ln=h,it!==null)if(ln)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(a.stateNode)}catch(d){Ze(a,i,d)}else try{it.removeChild(a.stateNode)}catch(d){Ze(a,i,d)}break;case 18:it!==null&&(ln?(t=it,Bv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),xl(t)):Bv(it,a.stateNode));break;case 4:l=it,h=ln,it=a.stateNode.containerInfo,ln=!0,Wi(t,i,a),it=l,ln=h;break;case 0:case 11:case 14:case 15:mt||Ar(2,a,i),mt||Ar(4,a,i),Wi(t,i,a);break;case 1:mt||(ui(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Qy(a,i,l)),Wi(t,i,a);break;case 21:Wi(t,i,a);break;case 22:mt=(l=mt)||a.memoizedState!==null,Wi(t,i,a),mt=l;break;default:Wi(t,i,a)}}function ev(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{xl(t)}catch(a){Ze(i,i.return,a)}}function Eb(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Xy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Xy),i;default:throw Error(s(435,t.tag))}}function gd(t,i){var a=Eb(t);i.forEach(function(l){var h=xb.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function gn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,E=i,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(Pr(b.type)){it=b.stateNode,ln=!1;break e}break;case 5:it=b.stateNode,ln=!1;break e;case 3:case 4:it=b.stateNode.containerInfo,ln=!0;break e}b=b.return}if(it===null)throw Error(s(160));Jy(d,E,h),it=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)tv(i,t),i=i.sibling}var Bn=null;function tv(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:gn(i,t),yn(t),l&4&&(Ar(3,t,t.return),hl(3,t),Ar(5,t,t.return));break;case 1:gn(i,t),yn(t),l&512&&(mt||a===null||ui(a,a.return)),l&64&&Xi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Bn;if(gn(i,t),yn(t),l&512&&(mt||a===null||ui(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ps]||d[wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,l,a),d[wt]=t,ft(d),l=d;break e;case"link":var E=$v("link","href",h).get(l+(a.href||""));if(E){for(var b=0;b<E.length;b++)if(d=E[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(b,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;case"meta":if(E=$v("meta","content",h).get(l+(a.content||""))){for(b=0;b<E.length;b++)if(d=E[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(b,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[wt]=t,ft(d),l=d}t.stateNode=l}else Xv(h,t.type,t.stateNode);else t.stateNode=Yv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Xv(h,t.type,t.stateNode):Yv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&fd(t,t.memoizedProps,a.memoizedProps)}break;case 27:gn(i,t),yn(t),l&512&&(mt||a===null||ui(a,a.return)),a!==null&&l&4&&fd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(gn(i,t),yn(t),l&512&&(mt||a===null||ui(a,a.return)),t.flags&32){h=t.stateNode;try{An(h,"")}catch(F){Ze(t,t.return,F)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,fd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(pd=!0);break;case 6:if(gn(i,t),yn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(F){Ze(t,t.return,F)}}break;case 3:if(Nc=null,h=Bn,Bn=Cc(i.containerInfo),gn(i,t),Bn=h,yn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{xl(i.containerInfo)}catch(F){Ze(t,t.return,F)}pd&&(pd=!1,nv(t));break;case 4:l=Bn,Bn=Cc(t.stateNode.containerInfo),gn(i,t),yn(t),Bn=l;break;case 12:gn(i,t),yn(t);break;case 13:gn(i,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bd=wn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gd(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,q=Xi,X=mt;if(Xi=q||h,mt=X||C,gn(i,t),mt=X,Xi=q,yn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||Xi||mt||Bs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=C.stateNode;var Z=C.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;b.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){Ze(C,C.return,F)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(F){Ze(C,C.return,F)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,gd(t,a))));break;case 19:gn(i,t),yn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gd(t,l)));break;case 30:break;case 21:break;default:gn(i,t),yn(t)}}function yn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Yy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=dd(t);pc(t,d,h);break;case 5:var E=a.stateNode;a.flags&32&&(An(E,""),a.flags&=-33);var b=dd(t);pc(t,b,E);break;case 3:case 4:var C=a.stateNode.containerInfo,q=dd(t);md(t,q,C);break;default:throw Error(s(161))}}catch(X){Ze(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function nv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;nv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Rr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Wy(t,i.alternate,i),i=i.sibling}function Bs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ar(4,i,i.return),Bs(i);break;case 1:ui(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Qy(i,i.return,a),Bs(i);break;case 27:Tl(i.stateNode);case 26:case 5:ui(i,i.return),Bs(i);break;case 22:i.memoizedState===null&&Bs(i);break;case 30:Bs(i);break;default:Bs(i)}t=t.sibling}}function Ir(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:Ir(h,d,a),hl(4,d);break;case 1:if(Ir(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){Ze(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Dg(C[h],b)}catch(q){Ze(l,l.return,q)}}a&&E&64&&Gy(d),fl(d,d.return);break;case 27:$y(d);case 26:case 5:Ir(h,d,a),a&&l===null&&E&4&&Ky(d),fl(d,d.return);break;case 12:Ir(h,d,a);break;case 13:Ir(h,d,a),a&&E&4&&ev(h,d);break;case 22:d.memoizedState===null&&Ir(h,d,a),fl(d,d.return);break;case 30:break;default:Ir(h,d,a)}i=i.sibling}}function yd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Wo(a))}function vd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Wo(t))}function ci(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)iv(t,i,a,l),i=i.sibling}function iv(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ci(t,i,a,l),h&2048&&hl(9,i);break;case 1:ci(t,i,a,l);break;case 3:ci(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Wo(t)));break;case 12:if(h&2048){ci(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,E=d.id,b=d.onPostCommit;typeof b=="function"&&b(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ze(i,i.return,C)}}else ci(t,i,a,l);break;case 13:ci(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,E=i.alternate,i.memoizedState!==null?d._visibility&2?ci(t,i,a,l):dl(t,i):d._visibility&2?ci(t,i,a,l):(d._visibility|=2,La(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&yd(E,i);break;case 24:ci(t,i,a,l),h&2048&&vd(i.alternate,i);break;default:ci(t,i,a,l)}}function La(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,E=i,b=a,C=l,q=E.flags;switch(E.tag){case 0:case 11:case 15:La(d,E,b,C,h),hl(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&2?La(d,E,b,C,h):dl(d,E):(X._visibility|=2,La(d,E,b,C,h)),h&&q&2048&&yd(E.alternate,E);break;case 24:La(d,E,b,C,h),h&&q&2048&&vd(E.alternate,E);break;default:La(d,E,b,C,h)}i=i.sibling}}function dl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:dl(a,l),h&2048&&yd(l.alternate,l);break;case 24:dl(a,l),h&2048&&vd(l.alternate,l);break;default:dl(a,l)}i=i.sibling}}var ml=8192;function Ua(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)rv(t),t=t.sibling}function rv(t){switch(t.tag){case 26:Ua(t),t.flags&ml&&t.memoizedState!==null&&sw(Bn,t.memoizedState,t.memoizedProps);break;case 5:Ua(t);break;case 3:case 4:var i=Bn;Bn=Cc(t.stateNode.containerInfo),Ua(t),Bn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=ml,ml=16777216,Ua(t),ml=i):Ua(t));break;default:Ua(t)}}function sv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function pl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,ov(l,t)}sv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)av(t),t=t.sibling}function av(t){switch(t.tag){case 0:case 11:case 15:pl(t),t.flags&2048&&Ar(9,t,t.return);break;case 3:pl(t);break;case 12:pl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,gc(t)):pl(t);break;default:pl(t)}}function gc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,ov(l,t)}sv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ar(8,i,i.return),gc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,gc(i));break;default:gc(i)}t=t.sibling}}function ov(t,i){for(;Mt!==null;){var a=Mt;switch(a.tag){case 0:case 11:case 15:Ar(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Mt=l;else e:for(a=t;Mt!==null;){l=Mt;var h=l.sibling,d=l.return;if(Zy(l),l===a){Mt=null;break e}if(h!==null){h.return=d,Mt=h;break e}Mt=d}}}var Tb={getCacheForType:function(t){var i=Xt(Rt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},bb=typeof WeakMap=="function"?WeakMap:Map,Qe=0,et=null,De=null,je=0,Ke=0,vn=null,Cr=!1,za=!1,_d=!1,Zi=0,ht=0,xr=0,qs=0,Ed=0,kn=0,Ba=0,gl=null,un=null,Td=!1,bd=0,yc=1/0,vc=null,Nr=null,Ht=0,Dr=null,qa=null,Ha=0,wd=0,Sd=null,lv=null,yl=0,Ad=null;function _n(){if((Qe&2)!==0&&je!==0)return je&-je;if($.T!==null){var t=Na;return t!==0?t:Od()}return fr()}function uv(){kn===0&&(kn=(je&536870912)===0||qe?Ro():536870912);var t=Pn.current;return t!==null&&(t.flags|=32),kn}function En(t,i,a){(t===et&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Fa(t,0),Or(t,je,kn,!1)),Ni(t,a),((Qe&2)===0||t!==et)&&(t===et&&((Qe&2)===0&&(qs|=a),ht===4&&Or(t,je,kn,!1)),hi(t))}function cv(t,i,a){if((Qe&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||ms(t,i),h=l?Ab(t,i):Cd(t,i,!0),d=l;do{if(h===0){za&&!l&&Or(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!wb(a)){h=Cd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var b=t;h=gl;var C=b.current.memoizedState.isDehydrated;if(C&&(Fa(b,E).flags|=256),E=Cd(b,E,!1),E!==2){if(_d&&!C){b.errorRecoveryDisabledLanes|=d,qs|=d,h=4;break e}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){Fa(t,0),Or(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Or(l,i,kn,!Cr);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=bd+300-wn(),10<h)){if(Or(l,i,kn,!Cr),oa(l,0,!0)!==0)break e;l.timeoutHandle=Uv(hv.bind(null,l,a,un,vc,Td,i,kn,qs,Ba,Cr,d,2,-0,0),h);break e}hv(l,a,un,vc,Td,i,kn,qs,Ba,Cr,d,0,-0,0)}}break}while(!0);hi(t)}function hv(t,i,a,l,h,d,E,b,C,q,X,Z,H,F){if(t.timeoutHandle=-1,Z=i.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Sl={stylesheets:null,count:0,unsuspend:rw},rv(i),Z=aw(),Z!==null)){t.cancelPendingCommit=Z(vv.bind(null,t,i,d,a,l,h,E,b,C,X,1,H,F)),Or(t,d,E,!q);return}vv(t,i,d,a,l,h,E,b,C)}function wb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!mn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Or(t,i,a,l){i&=~Ed,i&=~qs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-$t(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&Xn(t,a,i)}function _c(){return(Qe&6)===0?(vl(0),!1):!0}function Rd(){if(De!==null){if(Ke===0)var t=De.return;else t=De,Fi=Vs=null,Hf(t),Va=null,ll=0,t=De;for(;t!==null;)Fy(t.alternate,t),t=t.return;De=null}}function Fa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Bb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Rd(),et=t,De=a=Bi(t.current,null),je=i,Ke=0,vn=null,Cr=!1,za=ms(t,i),_d=!1,Ba=kn=Ed=qs=xr=ht=0,un=gl=null,Td=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-$t(l),d=1<<h;i|=t[h],l&=~d}return Zi=i,Bu(),a}function fv(t,i){Ie=null,$.H=ac,i===Jo||i===Xu?(i=xg(),Ke=3):i===Rg?(i=xg(),Ke=4):Ke=i===Ny?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,De===null&&(ht=1,hc(t,xn(i,t.current)))}function dv(){var t=$.H;return $.H=ac,t===null?ac:t}function mv(){var t=$.A;return $.A=Tb,t}function Id(){ht=4,Cr||(je&4194048)!==je&&Pn.current!==null||(za=!0),(xr&134217727)===0&&(qs&134217727)===0||et===null||Or(et,je,kn,!1)}function Cd(t,i,a){var l=Qe;Qe|=2;var h=dv(),d=mv();(et!==t||je!==i)&&(vc=null,Fa(t,i)),i=!1;var E=ht;e:do try{if(Ke!==0&&De!==null){var b=De,C=vn;switch(Ke){case 8:Rd(),E=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(i=!0);var q=Ke;if(Ke=0,vn=null,Ga(t,b,C,q),a&&za){E=0;break e}break;default:q=Ke,Ke=0,vn=null,Ga(t,b,C,q)}}Sb(),E=ht;break}catch(X){fv(t,X)}while(!0);return i&&t.shellSuspendCounter++,Fi=Vs=null,Qe=l,$.H=h,$.A=d,De===null&&(et=null,je=0,Bu()),E}function Sb(){for(;De!==null;)pv(De)}function Ab(t,i){var a=Qe;Qe|=2;var l=dv(),h=mv();et!==t||je!==i?(vc=null,yc=wn()+500,Fa(t,i)):za=ms(t,i);e:do try{if(Ke!==0&&De!==null){i=De;var d=vn;t:switch(Ke){case 1:Ke=0,vn=null,Ga(t,i,d,1);break;case 2:case 9:if(Ig(d)){Ke=0,vn=null,gv(i);break}i=function(){Ke!==2&&Ke!==9||et!==t||(Ke=7),hi(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Ig(d)?(Ke=0,vn=null,gv(i)):(Ke=0,vn=null,Ga(t,i,d,7));break;case 5:var E=null;switch(De.tag){case 26:E=De.memoizedState;case 5:case 27:var b=De;if(!E||Wv(E)){Ke=0,vn=null;var C=b.sibling;if(C!==null)De=C;else{var q=b.return;q!==null?(De=q,Ec(q)):De=null}break t}}Ke=0,vn=null,Ga(t,i,d,5);break;case 6:Ke=0,vn=null,Ga(t,i,d,6);break;case 8:Rd(),ht=6;break e;default:throw Error(s(462))}}Rb();break}catch(X){fv(t,X)}while(!0);return Fi=Vs=null,$.H=l,$.A=h,Qe=a,De!==null?0:(et=null,je=0,Bu(),ht)}function Rb(){for(;De!==null&&!bo();)pv(De)}function pv(t){var i=qy(t.alternate,t,Zi);t.memoizedProps=t.pendingProps,i===null?Ec(t):De=i}function gv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Vy(a,i,i.pendingProps,i.type,void 0,je);break;case 11:i=Vy(a,i,i.pendingProps,i.type.render,i.ref,je);break;case 5:Hf(i);default:Fy(a,i),i=De=yg(i,Zi),i=qy(a,i,Zi)}t.memoizedProps=t.pendingProps,i===null?Ec(t):De=i}function Ga(t,i,a,l){Fi=Vs=null,Hf(i),Va=null,ll=0;var h=i.return;try{if(pb(t,h,i,a,je)){ht=1,hc(t,xn(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ht=1,hc(t,xn(a,t.current)),De=null;return}i.flags&32768?(qe||l===1?t=!0:za||(je&536870912)!==0?t=!1:(Cr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),yv(i,t)):Ec(i)}function Ec(t){var i=t;do{if((i.flags&32768)!==0){yv(i,Cr);return}t=i.return;var a=yb(i.alternate,i,Zi);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ht===0&&(ht=5)}function yv(t,i){do{var a=vb(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ht=6,De=null}function vv(t,i,a,l,h,d,E,b,C){t.cancelPendingCommit=null;do Tc();while(Ht!==0);if((Qe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=vf,Co(t,a,d,E,b,C),t===et&&(De=et=null,je=0),qa=i,Dr=t,Ha=a,wd=d,Sd=h,lv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Nb(cs,function(){return wv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=oe.p,oe.p=2,E=Qe,Qe|=4;try{_b(t,i,a)}finally{Qe=E,oe.p=h,$.T=l}}Ht=1,_v(),Ev(),Tv()}}function _v(){if(Ht===1){Ht=0;var t=Dr,i=qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=oe.p;oe.p=2;var h=Qe;Qe|=4;try{tv(i,t);var d=zd,E=og(t.containerInfo),b=d.focusedElem,C=d.selectionRange;if(E!==b&&b&&b.ownerDocument&&ag(b.ownerDocument.documentElement,b)){if(C!==null&&df(b)){var q=C.start,X=C.end;if(X===void 0&&(X=q),"selectionStart"in b)b.selectionStart=q,b.selectionEnd=Math.min(X,b.value.length);else{var Z=b.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var F=H.getSelection(),be=b.textContent.length,ye=Math.min(C.start,be),We=C.end===void 0?ye:Math.min(C.end,be);!F.extend&&ye>We&&(E=We,We=ye,ye=E);var j=sg(b,ye),P=sg(b,We);if(j&&P&&(F.rangeCount!==1||F.anchorNode!==j.node||F.anchorOffset!==j.offset||F.focusNode!==P.node||F.focusOffset!==P.offset)){var z=Z.createRange();z.setStart(j.node,j.offset),F.removeAllRanges(),ye>We?(F.addRange(z),F.extend(P.node,P.offset)):(z.setEnd(P.node,P.offset),F.addRange(z))}}}}for(Z=[],F=b;F=F.parentNode;)F.nodeType===1&&Z.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Z.length;b++){var W=Z[b];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Pc=!!Ud,zd=Ud=null}finally{Qe=h,oe.p=l,$.T=a}}t.current=i,Ht=2}}function Ev(){if(Ht===2){Ht=0;var t=Dr,i=qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=oe.p;oe.p=2;var h=Qe;Qe|=4;try{Wy(t,i.alternate,i)}finally{Qe=h,oe.p=l,$.T=a}}Ht=3}}function Tv(){if(Ht===4||Ht===3){Ht=0,gu();var t=Dr,i=qa,a=Ha,l=lv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ht=5:(Ht=0,qa=Dr=null,bv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Nr=null),la(a),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ut,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,h=oe.p,oe.p=2,$.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var b=l[E];d(b.value,{componentStack:b.stack})}}finally{$.T=i,oe.p=h}}(Ha&3)!==0&&Tc(),hi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Ad?yl++:(yl=0,Ad=t):yl=0,vl(0)}}function bv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Wo(i)))}function Tc(t){return _v(),Ev(),Tv(),wv()}function wv(){if(Ht!==5)return!1;var t=Dr,i=wd;wd=0;var a=la(Ha),l=$.T,h=oe.p;try{oe.p=32>a?32:a,$.T=null,a=Sd,Sd=null;var d=Dr,E=Ha;if(Ht=0,qa=Dr=null,Ha=0,(Qe&6)!==0)throw Error(s(331));var b=Qe;if(Qe|=4,av(d.current),iv(d,d.current,E,a),Qe=b,vl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ut,d)}catch{}return!0}finally{oe.p=h,$.T=l,bv(t,i)}}function Sv(t,i,a){i=xn(a,i),i=id(t.stateNode,i,2),t=Tr(t,i,2),t!==null&&(Ni(t,2),hi(t))}function Ze(t,i,a){if(t.tag===3)Sv(t,t,a);else for(;i!==null;){if(i.tag===3){Sv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Nr===null||!Nr.has(l))){t=xn(a,t),a=Cy(2),l=Tr(i,a,2),l!==null&&(xy(a,l,i,t),Ni(l,2),hi(l));break}}i=i.return}}function xd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new bb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(_d=!0,h.add(a),t=Ib.bind(null,t,i,a),i.then(t,t))}function Ib(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(je&a)===a&&(ht===4||ht===3&&(je&62914560)===je&&300>wn()-bd?(Qe&2)===0&&Fa(t,0):Ed|=a,Ba===je&&(Ba=0)),hi(t)}function Av(t,i){i===0&&(i=Io()),t=Ra(t,i),t!==null&&(Ni(t,i),hi(t))}function Cb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Av(t,a)}function xb(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Av(t,a)}function Nb(t,i){return ls(t,i)}var bc=null,Qa=null,Nd=!1,wc=!1,Dd=!1,Hs=0;function hi(t){t!==Qa&&t.next===null&&(Qa===null?bc=Qa=t:Qa=Qa.next=t),wc=!0,Nd||(Nd=!0,Ob())}function vl(t,i){if(!Dd&&wc){Dd=!0;do for(var a=!1,l=bc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-$t(42|t)+1)-1,d&=h&~(E&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,xv(l,d))}else d=je,d=oa(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ms(l,d)||(a=!0,xv(l,d));l=l.next}while(a);Dd=!1}}function Db(){Rv()}function Rv(){wc=Nd=!1;var t=0;Hs!==0&&(zb()&&(t=Hs),Hs=0);for(var i=wn(),a=null,l=bc;l!==null;){var h=l.next,d=Iv(l,i);d===0?(l.next=null,a===null?bc=h:a.next=h,h===null&&(Qa=a)):(a=l,(t!==0||(d&3)!==0)&&(wc=!0)),l=h}vl(t)}function Iv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-$t(d),b=1<<E,C=h[E];C===-1?((b&a)===0||(b&l)!==0)&&(h[E]=Ao(b,i)):C<=i&&(t.expiredLanes|=b),d&=~b}if(i=et,a=je,a=oa(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&us(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ms(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&us(l),la(a)){case 2:case 8:a=sa;break;case 32:a=cs;break;case 268435456:a=aa;break;default:a=cs}return l=Cv.bind(null,t),a=ls(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&us(l),t.callbackPriority=2,t.callbackNode=null,2}function Cv(t,i){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Tc()&&t.callbackNode!==a)return null;var l=je;return l=oa(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(cv(t,l,i),Iv(t,wn()),t.callbackNode!=null&&t.callbackNode===a?Cv.bind(null,t):null)}function xv(t,i){if(Tc())return null;cv(t,i,!0)}function Ob(){qb(function(){(Qe&6)!==0?ls(wo,Db):Rv()})}function Od(){return Hs===0&&(Hs=Ro()),Hs}function Nv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ma(""+t)}function Dv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Pb(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Nv((h[gt]||null).action),E=l.submitter;E&&(i=(i=E[gt]||null)?Nv(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var b=new pa("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hs!==0){var C=E?Dv(h,E):new FormData(h);Zf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(b.preventDefault(),C=E?Dv(h,E):new FormData(h),Zf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Pd=0;Pd<yf.length;Pd++){var kd=yf[Pd],kb=kd.toLowerCase(),Mb=kd[0].toUpperCase()+kd.slice(1);zn(kb,"on"+Mb)}zn(cg,"onAnimationEnd"),zn(hg,"onAnimationIteration"),zn(fg,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(Z1,"onTransitionRun"),zn(J1,"onTransitionStart"),zn(eb,"onTransitionCancel"),zn(dg,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function Ov(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var b=l[E],C=b.instance,q=b.currentTarget;if(b=b.listener,C!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=q;try{d(h)}catch(X){cc(X)}h.currentTarget=null,d=C}else for(E=0;E<l.length;E++){if(b=l[E],C=b.instance,q=b.currentTarget,b=b.listener,C!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=q;try{d(h)}catch(X){cc(X)}h.currentTarget=null,d=C}}}}function Oe(t,i){var a=i[No];a===void 0&&(a=i[No]=new Set);var l=t+"__bubble";a.has(l)||(Pv(i,t,2,!1),a.add(l))}function Md(t,i,a){var l=0;i&&(l|=4),Pv(a,t,l,i)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function Vd(t){if(!t[Sc]){t[Sc]=!0,Do.forEach(function(a){a!=="selectionchange"&&(Vb.has(a)||Md(a,!1,t),Md(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Sc]||(i[Sc]=!0,Md("selectionchange",!1,i))}}function Pv(t,i,a,l){switch(i_(i)){case 2:var h=uw;break;case 8:h=cw;break;default:h=Xd}a=h.bind(null,i,a,t),h=void 0,!In||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function jd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var b=l.stateNode.containerInfo;if(b===h)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;b!==null;){if(E=Di(b),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=d=E;continue e}b=b.parentNode}}l=l.return}Ru(function(){var q=d,X=Rn(a),Z=[];e:{var H=mg.get(t);if(H!==void 0){var F=pa,be=t;switch(t){case"keypress":if(ni(a)===0)break e;case"keydown":case"keyup":F=Ta;break;case"focusin":be="focus",F=va;break;case"focusout":be="blur",F=va;break;case"beforeblur":case"afterblur":F=va;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=uf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=ku;break;case cg:case hg:case fg:F=_a;break;case dg:F=Vu;break;case"scroll":case"scrollend":F=Iu;break;case"wheel":F=ba;break;case"copy":case"cut":case"paste":F=Ea;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Ho;break;case"toggle":case"beforetoggle":F=Lu}var ye=(i&4)!==0,We=!ye&&(t==="scroll"||t==="scrollend"),j=ye?H!==null?H+"Capture":null:H;ye=[];for(var P=q,z;P!==null;){var W=P;if(z=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||z===null||j===null||(W=bs(P,j),W!=null&&ye.push(El(P,W,z))),We)break;P=P.return}0<ye.length&&(H=new F(H,be,null,a,X),Z.push({event:H,listeners:ye}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",H&&a!==Mi&&(be=a.relatedTarget||a.fromElement)&&(Di(be)||be[Sn]))break e;if((F||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,F?(be=a.relatedTarget||a.toElement,F=q,be=be?Di(be):null,be!==null&&(We=u(be),ye=be.tag,be!==We||ye!==5&&ye!==27&&ye!==6)&&(be=null)):(F=null,be=q),F!==be)){if(ye=Cn,W="onMouseLeave",j="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Ho,W="onPointerLeave",j="onPointerEnter",P="pointer"),We=F==null?H:Zn(F),z=be==null?H:Zn(be),H=new ye(W,P+"leave",F,a,X),H.target=We,H.relatedTarget=z,W=null,Di(X)===q&&(ye=new ye(j,P+"enter",be,a,X),ye.target=z,ye.relatedTarget=We,W=ye),We=W,F&&be)t:{for(ye=F,j=be,P=0,z=ye;z;z=Ka(z))P++;for(z=0,W=j;W;W=Ka(W))z++;for(;0<P-z;)ye=Ka(ye),P--;for(;0<z-P;)j=Ka(j),z--;for(;P--;){if(ye===j||j!==null&&ye===j.alternate)break t;ye=Ka(ye),j=Ka(j)}ye=null}else ye=null;F!==null&&kv(Z,H,F,ye,!1),be!==null&&We!==null&&kv(Z,We,be,ye,!0)}}e:{if(H=q?Zn(q):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var he=Jp;else if(At(H))if(eg)he=$1;else{he=K1;var Ne=Q1}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&Vo(q.elementType)&&(he=Jp):he=Y1;if(he&&(he=he(t,q))){zi(Z,he,a,X);break e}Ne&&Ne(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&gr(H,"number",H.value)}switch(Ne=q?Zn(q):window,t){case"focusin":(At(Ne)||Ne.contentEditable==="true")&&(wa=Ne,mf=q,Qo=null);break;case"focusout":Qo=mf=wa=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,lg(Z,a,X);break;case"selectionchange":if(W1)break;case"keydown":case"keyup":lg(Z,a,X)}var de;if(si)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Me?K(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(Me||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Me&&(de=Lo()):(ti=X,yr="value"in ti?ti.value:ti.textContent,Me=!0)),Ne=Ac(q,_e),0<Ne.length&&(_e=new Bo(_e,t,null,a,X),Z.push({event:_e,listeners:Ne}),de?_e.data=de:(de=se(a),de!==null&&(_e.data=de)))),(de=y?St(t,a):Ve(t,a))&&(_e=Ac(q,"onBeforeInput"),0<_e.length&&(Ne=new Bo("onBeforeInput","beforeinput",null,a,X),Z.push({event:Ne,listeners:_e}),Ne.data=de)),Pb(Z,t,q,a,X)}Ov(Z,i)})}function El(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ac(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=bs(t,a),h!=null&&l.unshift(El(t,h,d)),h=bs(t,i),h!=null&&l.push(El(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Ka(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function kv(t,i,a,l,h){for(var d=i._reactName,E=[];a!==null&&a!==l;){var b=a,C=b.alternate,q=b.stateNode;if(b=b.tag,C!==null&&C===l)break;b!==5&&b!==26&&b!==27||q===null||(C=q,h?(q=bs(a,d),q!=null&&E.unshift(El(a,q,C))):h||(q=bs(a,d),q!=null&&E.push(El(a,q,C)))),a=a.return}E.length!==0&&t.push({event:i,listeners:E})}var jb=/\r\n?/g,Lb=/\u0000|\uFFFD/g;function Mv(t){return(typeof t=="string"?t:""+t).replace(jb,`
`).replace(Lb,"")}function Vv(t,i){return i=Mv(i),Mv(t)===i}function Rc(){}function Xe(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&An(t,""+l);break;case"className":Jn(t,"class",l);break;case"tabIndex":Jn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Jn(t,a,l);break;case"style":Mo(t,l,d);break;case"data":if(i!=="object"){Jn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ma(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Xe(t,i,"name",h.name,h,null),Xe(t,i,"formEncType",h.formEncType,h,null),Xe(t,i,"formMethod",h.formMethod,h,null),Xe(t,i,"formTarget",h.formTarget,h,null)):(Xe(t,i,"encType",h.encType,h,null),Xe(t,i,"method",h.method,h,null),Xe(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ma(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Rc);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ma(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),pr(t,"popover",l);break;case"xlinkActuate":zt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":pr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=of.get(a)||a,pr(t,a,l))}}function Ld(t,i,a,l,h,d){switch(a){case"style":Mo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Rc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ua.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[gt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):pr(t,a,l)}}}function Ft(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,d,E,a,null)}}h&&Xe(t,i,"srcSet",a.srcSet,a,null),l&&Xe(t,i,"src",a.src,a,null);return;case"input":Oe("invalid",t);var b=d=E=h=null,C=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":E=X;break;case"checked":C=X;break;case"defaultChecked":q=X;break;case"value":d=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Xe(t,i,l,X,a,null)}}_s(t,d,b,C,q,E,h,!1),da(t);return;case"select":Oe("invalid",t),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":E=b;break;case"multiple":l=b;default:Xe(t,i,h,b,a,null)}i=d,a=E,t.multiple=!!l,i!=null?ki(t,!!l,i,!1):a!=null&&ki(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(b=a[E],b!=null))switch(E){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Xe(t,i,E,b,a,null)}Es(t,l,h,d),da(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,i,C,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<_l.length;l++)Oe(_l[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,q,l,a,null)}return;default:if(Vo(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Ld(t,i,X,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Xe(t,i,b,l,a,null))}function Ub(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,b=null,C=null,q=null,X=null;for(F in a){var Z=a[F];if(a.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(F)||Xe(t,i,F,null,l,Z)}}for(var H in l){var F=l[H];if(Z=a[H],l.hasOwnProperty(H)&&(F!=null||Z!=null))switch(H){case"type":d=F;break;case"name":h=F;break;case"checked":q=F;break;case"defaultChecked":X=F;break;case"value":E=F;break;case"defaultValue":b=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==Z&&Xe(t,i,H,F,l,Z)}}dn(t,E,b,C,q,X,d,h);return;case"select":F=E=b=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(d)||Xe(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":H=d;break;case"defaultValue":b=d;break;case"multiple":E=d;default:d!==C&&Xe(t,i,h,d,l,C)}i=b,a=E,l=F,H!=null?ki(t,!!a,H,!1):!!l!=!!a&&(i!=null?ki(t,!!a,i,!0):ki(t,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Xe(t,i,b,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":H=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xe(t,i,E,h,l,d)}Ye(t,H,F);return;case"option":for(var be in a)if(H=a[be],a.hasOwnProperty(be)&&H!=null&&!l.hasOwnProperty(be))switch(be){case"selected":t.selected=!1;break;default:Xe(t,i,be,null,l,H)}for(C in l)if(H=l[C],F=a[C],l.hasOwnProperty(C)&&H!==F&&(H!=null||F!=null))switch(C){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Xe(t,i,C,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)H=a[ye],a.hasOwnProperty(ye)&&H!=null&&!l.hasOwnProperty(ye)&&Xe(t,i,ye,null,l,H);for(q in l)if(H=l[q],F=a[q],l.hasOwnProperty(q)&&H!==F&&(H!=null||F!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Xe(t,i,q,H,l,F)}return;default:if(Vo(i)){for(var We in a)H=a[We],a.hasOwnProperty(We)&&H!==void 0&&!l.hasOwnProperty(We)&&Ld(t,i,We,void 0,l,H);for(X in l)H=l[X],F=a[X],!l.hasOwnProperty(X)||H===F||H===void 0&&F===void 0||Ld(t,i,X,H,l,F);return}}for(var j in a)H=a[j],a.hasOwnProperty(j)&&H!=null&&!l.hasOwnProperty(j)&&Xe(t,i,j,null,l,H);for(Z in l)H=l[Z],F=a[Z],!l.hasOwnProperty(Z)||H===F||H==null&&F==null||Xe(t,i,Z,H,l,F)}var Ud=null,zd=null;function Ic(t){return t.nodeType===9?t:t.ownerDocument}function jv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Bd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var qd=null;function zb(){var t=window.event;return t&&t.type==="popstate"?t===qd?!1:(qd=t,!0):(qd=null,!1)}var Uv=typeof setTimeout=="function"?setTimeout:void 0,Bb=typeof clearTimeout=="function"?clearTimeout:void 0,zv=typeof Promise=="function"?Promise:void 0,qb=typeof queueMicrotask=="function"?queueMicrotask:typeof zv<"u"?function(t){return zv.resolve(null).then(t).catch(Hb)}:Uv;function Hb(t){setTimeout(function(){throw t})}function Pr(t){return t==="head"}function Bv(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=t.ownerDocument;if(a&1&&Tl(E.documentElement),a&2&&Tl(E.body),a&4)for(a=E.head,Tl(a),E=a.firstChild;E;){var b=E.nextSibling,C=E.nodeName;E[ps]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=b}}if(h===0){t.removeChild(d),xl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);xl(i)}function Hd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hd(a),mr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Fb(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ps])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function Gb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=qn(t.nextSibling),t===null))return null;return t}function Fd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Qb(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function qn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Gd=null;function qv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Hv(t,i,a){switch(i=Ic(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Tl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);mr(t)}var Mn=new Map,Fv=new Set;function Cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ji=oe.d;oe.d={f:Kb,r:Yb,D:$b,C:Xb,L:Wb,m:Zb,X:ew,S:Jb,M:tw};function Kb(){var t=Ji.f(),i=_c();return t||i}function Yb(t){var i=Wn(t);i!==null&&i.tag===5&&i.type==="form"?cy(i):Ji.r(t)}var Ya=typeof document>"u"?null:document;function Gv(t,i,a){var l=Ya;if(l&&typeof i=="string"&&i){var h=yt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Fv.has(h)||(Fv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ft(i,"link",t),ft(i),l.head.appendChild(i)))}}function $b(t){Ji.D(t),Gv("dns-prefetch",t,null)}function Xb(t,i){Ji.C(t,i),Gv("preconnect",t,i)}function Wb(t,i,a){Ji.L(t,i,a);var l=Ya;if(l&&t&&i){var h='link[rel="preload"][as="'+yt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+yt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+yt(a.imageSizes)+'"]')):h+='[href="'+yt(t)+'"]';var d=h;switch(i){case"style":d=$a(t);break;case"script":d=Xa(t)}Mn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Mn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(bl(d))||i==="script"&&l.querySelector(wl(d))||(i=l.createElement("link"),Ft(i,"link",t),ft(i),l.head.appendChild(i)))}}function Zb(t,i){Ji.m(t,i);var a=Ya;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+yt(l)+'"][href="'+yt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Xa(t)}if(!Mn.has(d)&&(t=T({rel:"modulepreload",href:t},i),Mn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(d)))return}l=a.createElement("link"),Ft(l,"link",t),ft(l),a.head.appendChild(l)}}}function Jb(t,i,a){Ji.S(t,i,a);var l=Ya;if(l&&t){var h=nn(l).hoistableStyles,d=$a(t);i=i||"default";var E=h.get(d);if(!E){var b={loading:0,preload:null};if(E=l.querySelector(bl(d)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Mn.get(d))&&Qd(t,a);var C=E=l.createElement("link");ft(C),Ft(C,"link",t),C._p=new Promise(function(q,X){C.onload=q,C.onerror=X}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,xc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:b},h.set(d,E)}}}function ew(t,i){Ji.X(t,i);var a=Ya;if(a&&t){var l=nn(a).hoistableScripts,h=Xa(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=T({src:t,async:!0},i),(i=Mn.get(h))&&Kd(t,i),d=a.createElement("script"),ft(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function tw(t,i){Ji.M(t,i);var a=Ya;if(a&&t){var l=nn(a).hoistableScripts,h=Xa(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Mn.get(h))&&Kd(t,i),d=a.createElement("script"),ft(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Qv(t,i,a,l){var h=(h=we.current)?Cc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=$a(a.href),a=nn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=$a(a.href);var d=nn(h).hoistableStyles,E=d.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=h.querySelector(bl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),Mn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(t,a),d||nw(h,t,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Xa(a),a=nn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function $a(t){return'href="'+yt(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function Kv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function nw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ft(i,"link",a),ft(i),t.head.appendChild(i))}function Xa(t){return'[src="'+yt(t)+'"]'}function wl(t){return"script[async]"+t}function Yv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+yt(a.href)+'"]');if(l)return i.instance=l,ft(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ft(l),Ft(l,"style",h),xc(l,a.precedence,t),i.instance=l;case"stylesheet":h=$a(a.href);var d=t.querySelector(bl(h));if(d)return i.state.loading|=4,i.instance=d,ft(d),d;l=Kv(a),(h=Mn.get(h))&&Qd(l,h),d=(t.ownerDocument||t).createElement("link"),ft(d);var E=d;return E._p=new Promise(function(b,C){E.onload=b,E.onerror=C}),Ft(d,"link",l),i.state.loading|=4,xc(d,a.precedence,t),i.instance=d;case"script":return d=Xa(a.src),(h=t.querySelector(wl(d)))?(i.instance=h,ft(h),h):(l=a,(h=Mn.get(d))&&(l=T({},a),Kd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ft(h),Ft(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,xc(l,a.precedence,t));return i.instance}function xc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var b=l[E];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Qd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Kd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Nc=null;function $v(t,i,a){if(Nc===null){var l=new Map,h=Nc=new Map;h.set(a,l)}else h=Nc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ps]||d[wt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=t+E;var b=l.get(E);b?b.push(d):l.set(E,[d])}}return l}function Xv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function iw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Wv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Sl=null;function rw(){}function sw(t,i,a){if(Sl===null)throw Error(s(475));var l=Sl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=$a(a.href),d=t.querySelector(bl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Dc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ft(d);return}d=t.ownerDocument||t,a=Kv(a),(h=Mn.get(h))&&Qd(a,h),d=d.createElement("link"),ft(d);var E=d;E._p=new Promise(function(b,C){E.onload=b,E.onerror=C}),Ft(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Dc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function aw(){if(Sl===null)throw Error(s(475));var t=Sl;return t.stylesheets&&t.count===0&&Yd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Yd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Dc(){if(this.count--,this.count===0){if(this.stylesheets)Yd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Oc=null;function Yd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Oc=new Map,i.forEach(ow,t),Oc=null,Dc.call(t))}function ow(t,i){if(!(i.state.loading&4)){var a=Oc.get(t);if(a)var l=a.get(null);else{a=new Map,Oc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=Dc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Al={$$typeof:ie,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function lw(t,i,a,l,h,d,E,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.hiddenUpdates=xi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Zv(t,i,a,l,h,d,E,b,C,q,X,Z){return t=new lw(t,i,a,E,b,C,q,Z),i=1,d===!0&&(i|=24),d=pn(3,null,null,i),t.current=d,d.stateNode=t,i=xf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Pf(d),t}function Jv(t){return t?(t=Ia,t):Ia}function e_(t,i,a,l,h,d){h=Jv(h),l.context===null?l.context=h:l.pendingContext=h,l=Er(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Tr(t,l,i),a!==null&&(En(a,t,i),tl(a,t,i))}function t_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function $d(t,i){t_(t,i),(t=t.alternate)&&t_(t,i)}function n_(t){if(t.tag===13){var i=Ra(t,67108864);i!==null&&En(i,t,67108864),$d(t,67108864)}}var Pc=!0;function uw(t,i,a,l){var h=$.T;$.T=null;var d=oe.p;try{oe.p=2,Xd(t,i,a,l)}finally{oe.p=d,$.T=h}}function cw(t,i,a,l){var h=$.T;$.T=null;var d=oe.p;try{oe.p=8,Xd(t,i,a,l)}finally{oe.p=d,$.T=h}}function Xd(t,i,a,l){if(Pc){var h=Wd(l);if(h===null)jd(t,i,l,kc,a),r_(t,l);else if(fw(h,t,i,a,l))l.stopPropagation();else if(r_(t,l),i&4&&-1<hw.indexOf(t)){for(;h!==null;){var d=Wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=jn(d.pendingLanes);if(E!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var C=1<<31-$t(E);b.entanglements[1]|=C,E&=~C}hi(d),(Qe&6)===0&&(yc=wn()+500,vl(0))}}break;case 13:b=Ra(d,2),b!==null&&En(b,d,2),_c(),$d(d,2)}if(d=Wd(l),d===null&&jd(t,i,l,kc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else jd(t,i,l,null,a)}}function Wd(t){return t=Rn(t),Zd(t)}var kc=null;function Zd(t){if(kc=null,t=Di(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return kc=t,null}function i_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ef()){case wo:return 2;case sa:return 8;case cs:case tf:return 32;case aa:return 268435456;default:return 32}default:return 32}}var Jd=!1,kr=null,Mr=null,Vr=null,Rl=new Map,Il=new Map,jr=[],hw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function r_(t,i){switch(t){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":Rl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(i.pointerId)}}function Cl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Wn(i),i!==null&&n_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function fw(t,i,a,l,h){switch(i){case"focusin":return kr=Cl(kr,t,i,a,l,h),!0;case"dragenter":return Mr=Cl(Mr,t,i,a,l,h),!0;case"mouseover":return Vr=Cl(Vr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Rl.set(d,Cl(Rl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Il.set(d,Cl(Il.get(d)||null,t,i,a,l,h)),!0}return!1}function s_(t){var i=Di(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,_u(t.priority,function(){if(a.tag===13){var l=_n();l=hr(l);var h=Ra(a,l);h!==null&&En(h,a,l),$d(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Wd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Mi=l,a.target.dispatchEvent(l),Mi=null}else return i=Wn(a),i!==null&&n_(i),t.blockedOn=a,!1;i.shift()}return!0}function a_(t,i,a){Mc(t)&&a.delete(i)}function dw(){Jd=!1,kr!==null&&Mc(kr)&&(kr=null),Mr!==null&&Mc(Mr)&&(Mr=null),Vr!==null&&Mc(Vr)&&(Vr=null),Rl.forEach(a_),Il.forEach(a_)}function Vc(t,i){t.blockedOn===i&&(t.blockedOn=null,Jd||(Jd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dw)))}var jc=null;function o_(t){jc!==t&&(jc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){jc===t&&(jc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Zd(l||a)===null)continue;break}var d=Wn(a);d!==null&&(t.splice(i,3),i-=3,Zf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function xl(t){function i(C){return Vc(C,t)}kr!==null&&Vc(kr,t),Mr!==null&&Vc(Mr,t),Vr!==null&&Vc(Vr,t),Rl.forEach(i),Il.forEach(i);for(var a=0;a<jr.length;a++){var l=jr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<jr.length&&(a=jr[0],a.blockedOn===null);)s_(a),a.blockedOn===null&&jr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[gt]||null;if(typeof d=="function")E||o_(a);else if(E){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[gt]||null)b=E.formAction;else if(Zd(h)!==null)continue}else b=E.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),o_(a)}}}function em(t){this._internalRoot=t}Lc.prototype.render=em.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=_n();e_(a,l,t,i,null,null)},Lc.prototype.unmount=em.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;e_(t.current,2,null,t,null,null),_c(),i[Sn]=null}};function Lc(t){this._internalRoot=t}Lc.prototype.unstable_scheduleHydration=function(t){if(t){var i=fr();t={blockedOn:null,target:t,priority:i};for(var a=0;a<jr.length&&i!==0&&i<jr[a].priority;a++);jr.splice(a,0,t),a===0&&s_(t)}};var l_=e.version;if(l_!=="19.1.0")throw Error(s(527,l_,"19.1.0"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var mw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{ut=Uc.inject(mw),Ge=Uc}catch{}}return Dl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Sy,d=Ay,E=Ry,b=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=Zv(t,1,!1,null,null,a,l,h,d,E,b,null),t[Sn]=i.current,Vd(t),new em(i)},Dl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Sy,E=Ay,b=Ry,C=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),i=Zv(t,1,!0,i,a??null,l,h,d,E,b,C,q),i.context=Jv(null),a=i.current,l=_n(),l=hr(l),h=Er(l),h.callback=null,Tr(a,h,l),a=l,i.current.lanes=a,Ni(i,a),hi(i),t[Sn]=i.current,Vd(t),new Lc(i)},Dl.version="19.1.0",Dl}var v_;function Sw(){if(v_)return im.exports;v_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),im.exports=ww(),im.exports}var Aw=Sw(),Ol={},__;function Rw(){if(__)return Ol;__=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.parse=f,Ol.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,M){const k=new u,G=S.length;if(G<2)return k;const B=(M==null?void 0:M.decode)||T;let Y=0;do{const ee=S.indexOf("=",Y);if(ee===-1)break;const ie=S.indexOf(";",Y),ue=ie===-1?G:ie;if(ee>ue){Y=S.lastIndexOf(";",ee-1)+1;continue}const ae=m(S,Y,ee),ve=p(S,ee,ae),O=S.slice(ae,ve);if(k[O]===void 0){let R=m(S,ee+1,ue),I=p(S,ue,R);const N=B(S.slice(R,I));k[O]=N}Y=ue+1}while(Y<G);return k}function m(S,M,k){do{const G=S.charCodeAt(M);if(G!==32&&G!==9)return M}while(++M<k);return k}function p(S,M,k){for(;M>k;){const G=S.charCodeAt(--M);if(G!==32&&G!==9)return M+1}return k}function g(S,M,k){const G=(k==null?void 0:k.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const B=G(M);if(!e.test(B))throw new TypeError(`argument val is invalid: ${M}`);let Y=S+"="+B;if(!k)return Y;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);Y+="; Max-Age="+k.maxAge}if(k.domain){if(!n.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);Y+="; Domain="+k.domain}if(k.path){if(!s.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);Y+="; Path="+k.path}if(k.expires){if(!w(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);Y+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(Y+="; HttpOnly"),k.secure&&(Y+="; Secure"),k.partitioned&&(Y+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return Y}function T(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function w(S){return o.call(S)==="[object Date]"}return Ol}Rw();var E_="popstate";function Iw(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return wm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Kl(o)}return xw(e,n,null,r)}function rt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Gn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Cw(){return Math.random().toString(36).substring(2,10)}function T_(r,e){return{usr:r.state,key:r.key,idx:e}}function wm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?fo(e):e,state:n,key:e&&e.key||s||Cw()}}function Kl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function fo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function xw(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=T();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function T(){return(f.state||{idx:null}).idx}function w(){m="POP";let B=T(),Y=B==null?null:B-g;g=B,p&&p({action:m,location:G.location,delta:Y})}function S(B,Y){m="PUSH";let ee=wm(G.location,B,Y);g=T()+1;let ie=T_(ee,g),ue=G.createHref(ee);try{f.pushState(ie,"",ue)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(ue)}u&&p&&p({action:m,location:G.location,delta:1})}function M(B,Y){m="REPLACE";let ee=wm(G.location,B,Y);g=T();let ie=T_(ee,g),ue=G.createHref(ee);f.replaceState(ie,"",ue),u&&p&&p({action:m,location:G.location,delta:0})}function k(B){return Nw(B)}let G={get action(){return m},get location(){return r(o,f)},listen(B){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(E_,w),p=B,()=>{o.removeEventListener(E_,w),p=null}},createHref(B){return e(o,B)},createURL:k,encodeLocation(B){let Y=k(B);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:S,replace:M,go(B){return f.go(B)}};return G}function Nw(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),rt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Kl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function sE(r,e,n="/"){return Dw(r,e,n,!1)}function Dw(r,e,n,s){let o=typeof e=="string"?fo(e):e,u=rr(o.pathname||"/",n);if(u==null)return null;let f=aE(r);Ow(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=Hw(u);m=Bw(f[p],g,s)}return m}function aE(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(rt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=nr([s,p.relativePath]),T=n.concat(p);u.children&&u.children.length>0&&(rt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),aE(u.children,e,T,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:Uw(g,u.index),routesMeta:T})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of oE(u.path))o(u,f,p)}),e}function oE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=oE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Ow(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:zw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Pw=/^:[\w-]+$/,kw=3,Mw=2,Vw=1,jw=10,Lw=-2,b_=r=>r==="*";function Uw(r,e){let n=r.split("/"),s=n.length;return n.some(b_)&&(s+=Lw),e&&(s+=Mw),n.filter(o=>!b_(o)).reduce((o,u)=>o+(Pw.test(u)?kw:u===""?Vw:jw),s)}function zw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Bw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",w=ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},T),S=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:nr([u,w.pathname]),pathnameBase:Kw(nr([u,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(u=nr([u,w.pathnameBase]))}return f}function ah(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=qw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:T,isOptional:w},S)=>{if(T==="*"){let k=m[S]||"";f=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const M=m[S];return w&&!M?g[T]=void 0:g[T]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function qw(r,e=!1,n=!0){Gn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Hw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function rr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function Fw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?fo(r):r;return{pathname:n?n.startsWith("/")?n:Gw(n,e):e,search:Yw(s),hash:$w(o)}}function Gw(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function om(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Qw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Jm(r){let e=Qw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function ep(r,e,n,s=!1){let o;typeof r=="string"?o=fo(r):(o={...r},rt(!o.pathname||!o.pathname.includes("?"),om("?","pathname","search",o)),rt(!o.pathname||!o.pathname.includes("#"),om("#","pathname","hash",o)),rt(!o.search||!o.search.includes("#"),om("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),w-=1;o.pathname=S.join("/")}m=w>=0?e[w]:"/"}let p=Fw(o,m),g=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||T)&&(p.pathname+="/"),p}var nr=r=>r.join("/").replace(/\/\/+/g,"/"),Kw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Yw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,$w=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Xw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var lE=["POST","PUT","PATCH","DELETE"];new Set(lE);var Ww=["GET",...lE];new Set(Ww);var mo=Q.createContext(null);mo.displayName="DataRouter";var Nh=Q.createContext(null);Nh.displayName="DataRouterState";var uE=Q.createContext({isTransitioning:!1});uE.displayName="ViewTransition";var Zw=Q.createContext(new Map);Zw.displayName="Fetchers";var Jw=Q.createContext(null);Jw.displayName="Await";var Kn=Q.createContext(null);Kn.displayName="Navigation";var iu=Q.createContext(null);iu.displayName="Location";var Yn=Q.createContext({outlet:null,matches:[],isDataRoute:!1});Yn.displayName="Route";var tp=Q.createContext(null);tp.displayName="RouteError";function eS(r,{relative:e}={}){rt(po(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=Q.useContext(Kn),{hash:o,pathname:u,search:f}=ru(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:nr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function po(){return Q.useContext(iu)!=null}function Yt(){return rt(po(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(iu).location}var cE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hE(r){Q.useContext(Kn).static||Q.useLayoutEffect(r)}function go(){let{isDataRoute:r}=Q.useContext(Yn);return r?pS():tS()}function tS(){rt(po(),"useNavigate() may be used only in the context of a <Router> component.");let r=Q.useContext(mo),{basename:e,navigator:n}=Q.useContext(Kn),{matches:s}=Q.useContext(Yn),{pathname:o}=Yt(),u=JSON.stringify(Jm(s)),f=Q.useRef(!1);return hE(()=>{f.current=!0}),Q.useCallback((p,g={})=>{if(Gn(f.current,cE),!f.current)return;if(typeof p=="number"){n.go(p);return}let T=ep(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:nr([e,T.pathname])),(g.replace?n.replace:n.push)(T,g.state,g)},[e,n,u,o,r])}var nS=Q.createContext(null);function iS(r){let e=Q.useContext(Yn).outlet;return e&&Q.createElement(nS.Provider,{value:r},e)}function ru(r,{relative:e}={}){let{matches:n}=Q.useContext(Yn),{pathname:s}=Yt(),o=JSON.stringify(Jm(n));return Q.useMemo(()=>ep(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function rS(r,e){return fE(r,e)}function fE(r,e,n,s){var Y;rt(po(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Q.useContext(Kn),{matches:u}=Q.useContext(Yn),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",T=f&&f.route;{let ee=T&&T.path||"";dE(p,!T||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let w=Yt(),S;if(e){let ee=typeof e=="string"?fo(e):e;rt(g==="/"||((Y=ee.pathname)==null?void 0:Y.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),S=ee}else S=w;let M=S.pathname||"/",k=M;if(g!=="/"){let ee=g.replace(/^\//,"").split("/");k="/"+M.replace(/^\//,"").split("/").slice(ee.length).join("/")}let G=sE(r,{pathname:k});Gn(T||G!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Gn(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=uS(G&&G.map(ee=>Object.assign({},ee,{params:Object.assign({},m,ee.params),pathname:nr([g,o.encodeLocation?o.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?g:nr([g,o.encodeLocation?o.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),u,n,s);return e&&B?Q.createElement(iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},B):B}function sS(){let r=mS(),e=Xw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:u},"ErrorBoundary")," or"," ",Q.createElement("code",{style:u},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:o},n):null,f)}var aS=Q.createElement(sS,null),oS=class extends Q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?Q.createElement(Yn.Provider,{value:this.props.routeContext},Q.createElement(tp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lS({routeContext:r,match:e,children:n}){let s=Q.useContext(mo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(Yn.Provider,{value:r},n)}function uS(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);rt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:T,errors:w}=n,S=g.route.loader&&!T.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,T)=>{let w,S=!1,M=null,k=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,M=g.route.errorElement||aS,f&&(m<0&&T===0?(dE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,k=null):m===T&&(S=!0,k=g.route.hydrateFallbackElement||null)));let G=e.concat(o.slice(0,T+1)),B=()=>{let Y;return w?Y=M:S?Y=k:g.route.Component?Y=Q.createElement(g.route.Component,null):g.route.element?Y=g.route.element:Y=p,Q.createElement(lS,{match:g,routeContext:{outlet:p,matches:G,isDataRoute:n!=null},children:Y})};return n&&(g.route.ErrorBoundary||g.route.errorElement||T===0)?Q.createElement(oS,{location:n.location,revalidation:n.revalidation,component:M,error:w,children:B(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):B()},null)}function np(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cS(r){let e=Q.useContext(mo);return rt(e,np(r)),e}function hS(r){let e=Q.useContext(Nh);return rt(e,np(r)),e}function fS(r){let e=Q.useContext(Yn);return rt(e,np(r)),e}function ip(r){let e=fS(r),n=e.matches[e.matches.length-1];return rt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function dS(){return ip("useRouteId")}function mS(){var s;let r=Q.useContext(tp),e=hS("useRouteError"),n=ip("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function pS(){let{router:r}=cS("useNavigate"),e=ip("useNavigate"),n=Q.useRef(!1);return hE(()=>{n.current=!0}),Q.useCallback(async(o,u={})=>{Gn(n.current,cE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var w_={};function dE(r,e,n){!e&&!w_[r]&&(w_[r]=!0,Gn(!1,n))}Q.memo(gS);function gS({routes:r,future:e,state:n}){return fE(r,void 0,n,e)}function yS({to:r,replace:e,state:n,relative:s}){rt(po(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Q.useContext(Kn);Gn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=Q.useContext(Yn),{pathname:f}=Yt(),m=go(),p=ep(r,Jm(u),f,s==="path"),g=JSON.stringify(p);return Q.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function vS(r){return iS(r.context)}function Et(r){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _S({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){rt(!po(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=Q.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=fo(n));let{pathname:p="/",search:g="",hash:T="",state:w=null,key:S="default"}=n,M=Q.useMemo(()=>{let k=rr(p,f);return k==null?null:{location:{pathname:k,search:g,hash:T,state:w,key:S},navigationType:s}},[f,p,g,T,w,S,s]);return Gn(M!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:Q.createElement(Kn.Provider,{value:m},Q.createElement(iu.Provider,{children:e,value:M}))}function ES({children:r,location:e}){return rS(Sm(r),e)}function Sm(r,e=[]){let n=[];return Q.Children.forEach(r,(s,o)=>{if(!Q.isValidElement(s))return;let u=[...e,o];if(s.type===Q.Fragment){n.push.apply(n,Sm(s.props.children,u));return}rt(s.type===Et,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Sm(s.props.children,u)),n.push(f)}),n}var Yc="get",$c="application/x-www-form-urlencoded";function Dh(r){return r!=null&&typeof r.tagName=="string"}function TS(r){return Dh(r)&&r.tagName.toLowerCase()==="button"}function bS(r){return Dh(r)&&r.tagName.toLowerCase()==="form"}function wS(r){return Dh(r)&&r.tagName.toLowerCase()==="input"}function SS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function AS(r,e){return r.button===0&&(!e||e==="_self")&&!SS(r)}var zc=null;function RS(){if(zc===null)try{new FormData(document.createElement("form"),0),zc=!1}catch{zc=!0}return zc}var IS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lm(r){return r!=null&&!IS.has(r)?(Gn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$c}"`),null):r}function CS(r,e){let n,s,o,u,f;if(bS(r)){let m=r.getAttribute("action");s=m?rr(m,e):null,n=r.getAttribute("method")||Yc,o=lm(r.getAttribute("enctype"))||$c,u=new FormData(r)}else if(TS(r)||wS(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?rr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Yc,o=lm(r.getAttribute("formenctype"))||lm(m.getAttribute("enctype"))||$c,u=new FormData(m,r),!RS()){let{name:g,type:T,value:w}=r;if(T==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,w)}}else{if(Dh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Yc,s=null,o=$c,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function rp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function xS(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function DS(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await xS(u,n);return f.links?f.links():[]}return[]}));return MS(s.flat(1).filter(NS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function S_(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var T;return n[g].pathname!==p.pathname||((T=n[g].route.path)==null?void 0:T.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function OS(r,e,{includeHydrateFallback:n}={}){return PS(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function PS(r){return[...new Set(r)]}function kS(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function MS(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(kS(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var VS=new Set([100,101,204,205]);function jS(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&rr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function mE(){let r=Q.useContext(mo);return rp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function LS(){let r=Q.useContext(Nh);return rp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var sp=Q.createContext(void 0);sp.displayName="FrameworkContext";function pE(){let r=Q.useContext(sp);return rp(r,"You must render this element inside a <HydratedRouter> element"),r}function US(r,e){let n=Q.useContext(sp),[s,o]=Q.useState(!1),[u,f]=Q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:T,onTouchStart:w}=e,S=Q.useRef(null);Q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let G=Y=>{Y.forEach(ee=>{f(ee.isIntersecting)})},B=new IntersectionObserver(G,{threshold:.5});return S.current&&B.observe(S.current),()=>{B.disconnect()}}},[r]),Q.useEffect(()=>{if(s){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[s]);let M=()=>{o(!0)},k=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:Pl(m,M),onBlur:Pl(p,k),onMouseEnter:Pl(g,M),onMouseLeave:Pl(T,k),onTouchStart:Pl(w,M)}]:[!1,S,{}]}function Pl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function zS({page:r,...e}){let{router:n}=mE(),s=Q.useMemo(()=>sE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?Q.createElement(qS,{page:r,matches:s,...e}):null}function BS(r){let{manifest:e,routeModules:n}=pE(),[s,o]=Q.useState([]);return Q.useEffect(()=>{let u=!1;return DS(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function qS({page:r,matches:e,...n}){let s=Yt(),{manifest:o,routeModules:u}=pE(),{basename:f}=mE(),{loaderData:m,matches:p}=LS(),g=Q.useMemo(()=>S_(r,e,p,o,s,"data"),[r,e,p,o,s]),T=Q.useMemo(()=>S_(r,e,p,o,s,"assets"),[r,e,p,o,s]),w=Q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let k=new Set,G=!1;if(e.forEach(Y=>{var ie;let ee=o.routes[Y.route.id];!ee||!ee.hasLoader||(!g.some(ue=>ue.route.id===Y.route.id)&&Y.route.id in m&&((ie=u[Y.route.id])!=null&&ie.shouldRevalidate)||ee.hasClientLoader?G=!0:k.add(Y.route.id))}),k.size===0)return[];let B=jS(r,f);return G&&k.size>0&&B.searchParams.set("_routes",e.filter(Y=>k.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[B.pathname+B.search]},[f,m,s,o,g,e,r,u]),S=Q.useMemo(()=>OS(T,o),[T,o]),M=BS(T);return Q.createElement(Q.Fragment,null,w.map(k=>Q.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),S.map(k=>Q.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),M.map(({key:k,link:G})=>Q.createElement("link",{key:k,...G})))}function HS(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var gE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gE&&(window.__reactRouterVersion="7.6.3")}catch{}function FS({basename:r,children:e,window:n}){let s=Q.useRef();s.current==null&&(s.current=Iw({window:n,v5Compat:!0}));let o=s.current,[u,f]=Q.useState({action:o.action,location:o.location}),m=Q.useCallback(p=>{Q.startTransition(()=>f(p))},[f]);return Q.useLayoutEffect(()=>o.listen(m),[o,m]),Q.createElement(_S,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var yE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ue=Q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:T,viewTransition:w,...S},M){let{basename:k}=Q.useContext(Kn),G=typeof g=="string"&&yE.test(g),B,Y=!1;if(typeof g=="string"&&G&&(B=g,gE))try{let I=new URL(window.location.href),N=g.startsWith("//")?new URL(I.protocol+g):new URL(g),V=rr(N.pathname,k);N.origin===I.origin&&V!=null?g=V+N.search+N.hash:Y=!0}catch{Gn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=eS(g,{relative:o}),[ie,ue,ae]=US(s,S),ve=YS(g,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:w});function O(I){e&&e(I),I.defaultPrevented||ve(I)}let R=Q.createElement("a",{...S,...ae,href:B||ee,onClick:Y||u?e:O,ref:HS(M,ue),target:p,"data-discover":!G&&n==="render"?"true":void 0});return ie&&!G?Q.createElement(Q.Fragment,null,R,Q.createElement(zS,{page:ee})):R});Ue.displayName="Link";var GS=Q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},T){let w=ru(f,{relative:g.relative}),S=Yt(),M=Q.useContext(Nh),{navigator:k,basename:G}=Q.useContext(Kn),B=M!=null&&JS(w)&&m===!0,Y=k.encodeLocation?k.encodeLocation(w).pathname:w.pathname,ee=S.pathname,ie=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),ie=ie?ie.toLowerCase():null,Y=Y.toLowerCase()),ie&&G&&(ie=rr(ie,G)||ie);const ue=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ae=ee===Y||!o&&ee.startsWith(Y)&&ee.charAt(ue)==="/",ve=ie!=null&&(ie===Y||!o&&ie.startsWith(Y)&&ie.charAt(Y.length)==="/"),O={isActive:ae,isPending:ve,isTransitioning:B},R=ae?e:void 0,I;typeof s=="function"?I=s(O):I=[s,ae?"active":null,ve?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(O):u;return Q.createElement(Ue,{...g,"aria-current":R,className:I,ref:T,style:N,to:f,viewTransition:m},typeof p=="function"?p(O):p)});GS.displayName="NavLink";var QS=Q.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Yc,action:m,onSubmit:p,relative:g,preventScrollReset:T,viewTransition:w,...S},M)=>{let k=WS(),G=ZS(m,{relative:g}),B=f.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&yE.test(m),ee=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let ue=ie.nativeEvent.submitter,ae=(ue==null?void 0:ue.getAttribute("formmethod"))||f;k(ue||ie.currentTarget,{fetcherKey:e,method:ae,navigate:n,replace:o,state:u,relative:g,preventScrollReset:T,viewTransition:w})};return Q.createElement("form",{ref:M,method:B,action:G,onSubmit:s?p:ee,...S,"data-discover":!Y&&r==="render"?"true":void 0})});QS.displayName="Form";function KS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vE(r){let e=Q.useContext(mo);return rt(e,KS(r)),e}function YS(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=go(),p=Yt(),g=ru(r,{relative:u});return Q.useCallback(T=>{if(AS(T,e)){T.preventDefault();let w=n!==void 0?n:Kl(p)===Kl(g);m(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,r,o,u,f])}var $S=0,XS=()=>`__${String(++$S)}__`;function WS(){let{router:r}=vE("useSubmit"),{basename:e}=Q.useContext(Kn),n=dS();return Q.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=CS(s,e);if(o.navigate===!1){let T=o.fetcherKey||XS();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function ZS(r,{relative:e}={}){let{basename:n}=Q.useContext(Kn),s=Q.useContext(Yn);rt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ru(r||".",{relative:e})},f=Yt();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:nr([n,u.pathname])),Kl(u)}function JS(r,e={}){let n=Q.useContext(uE);rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=vE("useViewTransitionState"),o=ru(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=rr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=rr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ah(o.pathname,f)!=null||ah(o.pathname,u)!=null}[...VS];const eA=()=>{};var A_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},tA=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},EE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,T=u>>2,w=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,M=g&63;p||(M=64,f||(S=64)),s.push(n[T],n[w],n[S],n[M])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(_E(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):tA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new nA;const S=u<<2|m>>4;if(s.push(S),g!==64){const M=m<<4&240|g>>2;if(s.push(M),w!==64){const k=g<<6&192|w;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class nA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iA=function(r){const e=_E(r);return EE.encodeByteArray(e,!0)},oh=function(r){return iA(r).replace(/\./g,"")},TE=function(r){try{return EE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=()=>rA().__FIREBASE_DEFAULTS__,aA=()=>{if(typeof process>"u"||typeof A_>"u")return;const r=A_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},oA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&TE(r[1]);return e&&JSON.parse(e)},Oh=()=>{try{return eA()||sA()||aA()||oA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},bE=r=>{var e,n;return(n=(e=Oh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},wE=r=>{const e=bE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},SE=()=>{var r;return(r=Oh())===null||r===void 0?void 0:r.config},AE=r=>{var e;return(e=Oh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ap(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[oh(JSON.stringify(n)),oh(JSON.stringify(f)),""].join(".")}const zl={};function uA(){const r={prod:[],emulator:[]};for(const e of Object.keys(zl))zl[e]?r.emulator.push(e):r.prod.push(e);return r}function cA(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let R_=!1;function op(r,e){if(typeof window>"u"||typeof document>"u"||!ta(window.location.host)||zl[r]===e||zl[r]||R_)return;zl[r]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=uA().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,M){S.setAttribute("width","24"),S.setAttribute("id",M),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{R_=!0,f()},S}function T(S,M){S.setAttribute("id",M),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function w(){const S=cA(s),M=n("text"),k=document.getElementById(M)||document.createElement("span"),G=n("learnmore"),B=document.getElementById(G)||document.createElement("a"),Y=n("preprendIcon"),ee=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ie=S.element;m(ie),T(B,G);const ue=g();p(ee,Y),ie.append(ee,k,B,ue),document.body.appendChild(ie)}u?(k.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function fA(){var r;const e=(r=Oh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function pA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gA(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function yA(){return!fA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vA(){try{return typeof indexedDB=="object"}catch{return!1}}function _A(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="FirebaseError";class Ai extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=EA,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,su.prototype.create)}}class su{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?TA(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ai(o,m,s)}}function TA(r,e){return r.replace(bA,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const bA=/\{\$([^}]+)}/g;function wA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ys(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(I_(u)&&I_(f)){if(!Ys(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function I_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function kl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ml(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function SA(r,e){const n=new AA(r,e);return n.subscribe.bind(n)}class AA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");RA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=um),o.error===void 0&&(o.error=um),o.complete===void 0&&(o.complete=um);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RA(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function um(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(r){return r&&r._delegate?r._delegate:r}class Xr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new lA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xA(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:CA(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CA(r){return r===Fs?void 0:r}function xA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const DA={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},OA=Pe.INFO,PA={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},kA=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=PA[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lp{constructor(e){this.name=e,this._logLevel=OA,this._logHandler=kA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const MA=(r,e)=>e.some(n=>r instanceof n);let C_,x_;function VA(){return C_||(C_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jA(){return x_||(x_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IE=new WeakMap,Am=new WeakMap,CE=new WeakMap,cm=new WeakMap,up=new WeakMap;function LA(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Qr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&IE.set(n,r)}).catch(()=>{}),up.set(e,r),e}function UA(r){if(Am.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Am.set(r,e)}let Rm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Am.get(r);if(e==="objectStoreNames")return r.objectStoreNames||CE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function zA(r){Rm=r(Rm)}function BA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(hm(this),e,...n);return CE.set(s,e.sort?e.sort():[e]),Qr(s)}:jA().includes(r)?function(...e){return r.apply(hm(this),e),Qr(IE.get(this))}:function(...e){return Qr(r.apply(hm(this),e))}}function qA(r){return typeof r=="function"?BA(r):(r instanceof IDBTransaction&&UA(r),MA(r,VA())?new Proxy(r,Rm):r)}function Qr(r){if(r instanceof IDBRequest)return LA(r);if(cm.has(r))return cm.get(r);const e=qA(r);return e!==r&&(cm.set(r,e),up.set(e,r)),e}const hm=r=>up.get(r);function HA(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Qr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Qr(f.result),p.oldVersion,p.newVersion,Qr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const FA=["get","getKey","getAll","getAllKeys","count"],GA=["put","add","delete","clear"],fm=new Map;function N_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(fm.get(e))return fm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=GA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||FA.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return fm.set(e,u),u}zA(r=>({...r,get:(e,n,s)=>N_(e,n)||r.get(e,n,s),has:(e,n)=>!!N_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KA(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function KA(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Im="@firebase/app",D_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new lp("@firebase/app"),YA="@firebase/app-compat",$A="@firebase/analytics-compat",XA="@firebase/analytics",WA="@firebase/app-check-compat",ZA="@firebase/app-check",JA="@firebase/auth",eR="@firebase/auth-compat",tR="@firebase/database",nR="@firebase/data-connect",iR="@firebase/database-compat",rR="@firebase/functions",sR="@firebase/functions-compat",aR="@firebase/installations",oR="@firebase/installations-compat",lR="@firebase/messaging",uR="@firebase/messaging-compat",cR="@firebase/performance",hR="@firebase/performance-compat",fR="@firebase/remote-config",dR="@firebase/remote-config-compat",mR="@firebase/storage",pR="@firebase/storage-compat",gR="@firebase/firestore",yR="@firebase/ai",vR="@firebase/firestore-compat",_R="firebase",ER="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="[DEFAULT]",TR={[Im]:"fire-core",[YA]:"fire-core-compat",[XA]:"fire-analytics",[$A]:"fire-analytics-compat",[ZA]:"fire-app-check",[WA]:"fire-app-check-compat",[JA]:"fire-auth",[eR]:"fire-auth-compat",[tR]:"fire-rtdb",[nR]:"fire-data-connect",[iR]:"fire-rtdb-compat",[rR]:"fire-fn",[sR]:"fire-fn-compat",[aR]:"fire-iid",[oR]:"fire-iid-compat",[lR]:"fire-fcm",[uR]:"fire-fcm-compat",[cR]:"fire-perf",[hR]:"fire-perf-compat",[fR]:"fire-rc",[dR]:"fire-rc-compat",[mR]:"fire-gcs",[pR]:"fire-gcs-compat",[gR]:"fire-fst",[vR]:"fire-fst-compat",[yR]:"fire-vertex","fire-js":"fire-js",[_R]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new Map,bR=new Map,xm=new Map;function O_(r,e){try{r.container.addComponent(e)}catch(n){sr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function $s(r){const e=r.name;if(xm.has(e))return sr.debug(`There were multiple attempts to register component ${e}.`),!1;xm.set(e,r);for(const n of lh.values())O_(n,r);for(const n of bR.values())O_(n,r);return!0}function Ph(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Tn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new su("app","Firebase",wR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=ER;function xE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Cm,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Kr.create("bad-app-name",{appName:String(o)});if(n||(n=SE()),!n)throw Kr.create("no-options");const u=lh.get(o);if(u){if(Ys(n,u.options)&&Ys(s,u.config))return u;throw Kr.create("duplicate-app",{appName:o})}const f=new NA(o);for(const p of xm.values())f.addComponent(p);const m=new SR(n,s,f);return lh.set(o,m),m}function cp(r=Cm){const e=lh.get(r);if(!e&&r===Cm&&SE())return xE();if(!e)throw Kr.create("no-app",{appName:r});return e}function mi(r,e,n){var s;let o=(s=TR[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sr.warn(m.join(" "));return}$s(new Xr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="firebase-heartbeat-database",RR=1,Yl="firebase-heartbeat-store";let dm=null;function NE(){return dm||(dm=HA(AR,RR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Yl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Kr.create("idb-open",{originalErrorMessage:r.message})})),dm}async function IR(r){try{const n=(await NE()).transaction(Yl),s=await n.objectStore(Yl).get(DE(r));return await n.done,s}catch(e){if(e instanceof Ai)sr.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});sr.warn(n.message)}}}async function P_(r,e){try{const s=(await NE()).transaction(Yl,"readwrite");await s.objectStore(Yl).put(e,DE(r)),await s.done}catch(n){if(n instanceof Ai)sr.warn(n.message);else{const s=Kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});sr.warn(s.message)}}}function DE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=1024,xR=30;class NR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=k_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>xR){const f=PR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){sr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=k_(),{heartbeatsToSend:s,unsentEntries:o}=DR(this._heartbeatsCache.heartbeats),u=oh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return sr.warn(n),""}}}function k_(){return new Date().toISOString().substring(0,10)}function DR(r,e=CR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),M_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),M_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class OR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vA()?_A().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return P_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return P_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function M_(r){return oh(JSON.stringify({version:2,heartbeats:r})).length}function PR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(r){$s(new Xr("platform-logger",e=>new QA(e),"PRIVATE")),$s(new Xr("heartbeat",e=>new NR(e),"PRIVATE")),mi(Im,D_,r),mi(Im,D_,"esm2017"),mi("fire-js","")}kR("");var MR="firebase",VR="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mi(MR,VR,"app");function hp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function OE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jR=OE,PE=new su("auth","Firebase",OE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new lp("@firebase/auth");function LR(r,...e){uh.logLevel<=Pe.WARN&&uh.warn(`Auth (${na}): ${r}`,...e)}function Xc(r,...e){uh.logLevel<=Pe.ERROR&&uh.error(`Auth (${na}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(r,...e){throw fp(r,...e)}function pi(r,...e){return fp(r,...e)}function kE(r,e,n){const s=Object.assign(Object.assign({},jR()),{[e]:n});return new su("auth","Firebase",s).create(e,{appName:r.name})}function ir(r){return kE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return PE.create(r,...e)}function Ee(r,e,...n){if(!r)throw fp(e,...n)}function er(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Xc(e),new Error(e)}function ar(r,e){r||er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function UR(){return V_()==="http:"||V_()==="https:"}function V_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UR()||mA()||"connection"in navigator)?navigator.onLine:!0}function BR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n){this.shortDelay=e,this.longDelay=n,ar(n>e,"Short delay should be less than long delay!"),this.isMobile=hA()||pA()}get(){return zR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(r,e){ar(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FR=new ou(3e4,6e4);function ur(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Ri(r,e,n,s,o={}){return VE(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=au(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return dA()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&ta(r.emulatorConfig.host)&&(g.credentials="include"),ME.fetch()(await jE(r,r.config.apiHost,n,m),g)})}async function VE(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},qR),e);try{const o=new QR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Bc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Bc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Bc(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw kE(r,T,g);Qn(r,T)}}catch(o){if(o instanceof Ai)throw o;Qn(r,"network-request-failed",{message:String(o)})}}async function lu(r,e,n,s,o={}){const u=await Ri(r,e,n,s,o);return"mfaPendingCredential"in u&&Qn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function jE(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?dp(r.config,o):`${r.config.apiScheme}://${o}`;return HR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function GR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(pi(this.auth,"network-request-failed")),FR.get())})}}function Bc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=pi(r,e,s);return o.customData._tokenResponse=n,o}function j_(r){return r!==void 0&&r.enterprise!==void 0}class KR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return GR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YR(r,e){return Ri(r,"GET","/v2/recaptchaConfig",ur(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(r,e){return Ri(r,"POST","/v1/accounts:delete",e)}async function ch(r,e){return Ri(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XR(r,e=!1){const n=Lt(r),s=await n.getIdToken(e),o=mp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Bl(mm(o.auth_time)),issuedAtTime:Bl(mm(o.iat)),expirationTime:Bl(mm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function mm(r){return Number(r)*1e3}function mp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=TE(n);return o?JSON.parse(o):(Xc("Failed to decode base64 JWT payload"),null)}catch(o){return Xc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function L_(r){const e=mp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ai&&WR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function WR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await ao(r,ch(n,{idToken:s}));Ee(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?LE(u.providerUserInfo):[],m=e2(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Dm(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,w)}async function JR(r){const e=Lt(r);await hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function e2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function LE(r){return r.map(e=>{var{providerId:n}=e,s=hp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(r,e){const n=await VE(r,{},async()=>{const s=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await jE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&ta(r.emulatorConfig.host)&&(p.credentials="include"),ME.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function n2(r,e){return Ri(r,"POST","/v2/accounts:revokeToken",ur(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=L_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await t2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new no;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new no,this.toJSON())}_performRefresh(){return er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Hn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=hp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Dm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await ao(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return XR(this,e)}reload(){return JR(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await hh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(ir(this.auth));const e=await this.getIdToken();return await ao(this,$R(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,T;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,M=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,k=(f=n.photoURL)!==null&&f!==void 0?f:void 0,G=(m=n.tenantId)!==null&&m!==void 0?m:void 0,B=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(g=n.createdAt)!==null&&g!==void 0?g:void 0,ee=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:ie,emailVerified:ue,isAnonymous:ae,providerData:ve,stsTokenManager:O}=n;Ee(ie&&O,e,"internal-error");const R=no.fromJSON(this.name,O);Ee(typeof ie=="string",e,"internal-error"),Ur(w,e.name),Ur(S,e.name),Ee(typeof ue=="boolean",e,"internal-error"),Ee(typeof ae=="boolean",e,"internal-error"),Ur(M,e.name),Ur(k,e.name),Ur(G,e.name),Ur(B,e.name),Ur(Y,e.name),Ur(ee,e.name);const I=new Hn({uid:ie,auth:e,email:S,emailVerified:ue,displayName:w,isAnonymous:ae,photoURL:k,phoneNumber:M,tenantId:G,stsTokenManager:R,createdAt:Y,lastLoginAt:ee});return ve&&Array.isArray(ve)&&(I.providerData=ve.map(N=>Object.assign({},N))),B&&(I._redirectEventId=B),I}static async _fromIdTokenResponse(e,n,s=!1){const o=new no;o.updateFromServerResponse(n);const u=new Hn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await hh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?LE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new no;m.updateFromIdToken(s);const p=new Hn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Dm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=new Map;function tr(r){ar(r instanceof Function,"Expected a class definition");let e=U_.get(r);return e?(ar(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,U_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UE.type="NONE";const z_=UE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(r,e,n){return`firebase:${r}:${e}:${n}`}class io{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Wc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Wc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ch(this.auth,{idToken:e}).catch(()=>{});return n?Hn._fromGetAccountInfoResponse(this.auth,n,e):null}return Hn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new io(tr(z_),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||tr(z_);const f=Wc(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const T=await g._get(f);if(T){let w;if(typeof T=="string"){const S=await ch(e,{idToken:T}).catch(()=>{});if(!S)break;w=await Hn._fromGetAccountInfoResponse(e,S,T)}else w=Hn._fromJSON(e,T);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new io(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new io(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GE(e))return"Blackberry";if(QE(e))return"Webos";if(BE(e))return"Safari";if((e.includes("chrome/")||qE(e))&&!e.includes("edge/"))return"Chrome";if(FE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function zE(r=tn()){return/firefox\//i.test(r)}function BE(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qE(r=tn()){return/crios\//i.test(r)}function HE(r=tn()){return/iemobile/i.test(r)}function FE(r=tn()){return/android/i.test(r)}function GE(r=tn()){return/blackberry/i.test(r)}function QE(r=tn()){return/webos/i.test(r)}function pp(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function i2(r=tn()){var e;return pp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function r2(){return gA()&&document.documentMode===10}function KE(r=tn()){return pp(r)||FE(r)||QE(r)||GE(r)||/windows phone/i.test(r)||HE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(r,e=[]){let n;switch(r){case"Browser":n=B_(tn());break;case"Worker":n=`${B_(tn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${na}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(r,e={}){return Ri(r,"GET","/v2/passwordPolicy",ur(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=6;class l2{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:o2,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q_(this),this.idTokenSubscription=new q_(this),this.beforeStateQueue=new s2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=tr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await io.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ch(this,{idToken:e}),s=await Hn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Tn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(ir(this));const n=e?Lt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await a2(this),n=new l2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new su("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await n2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&tr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await io.create(this,[tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&LR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function rs(r){return Lt(r)}class q_{constructor(e){this.auth=e,this.observer=null,this.addObserver=SA(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function c2(r){kh=r}function $E(r){return kh.loadJS(r)}function h2(){return kh.recaptchaEnterpriseScript}function f2(){return kh.gapiScript}function d2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class m2{constructor(){this.enterprise=new p2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class p2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const g2="recaptcha-enterprise",XE="NO_RECAPTCHA";class y2{constructor(e){this.type=g2,this.auth=rs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{YR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new KR(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;j_(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(XE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new m2().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&j_(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=h2();p.length!==0&&(p+=m),$E(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function H_(r,e,n,s=!1,o=!1){const u=new y2(r);let f;if(o)f=XE;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function fh(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await H_(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await H_(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(r,e){const n=Ph(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ys(u,e??{}))return o;Qn(o,"already-initialized")}return n.initialize({options:e})}function _2(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(tr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function E2(r,e,n){const s=rs(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=WE(e),{host:f,port:m}=T2(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Ys(g,s.config.emulator)&&Ys(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,ta(f)?(ap(`${u}//${f}${p}`),op("Auth",!0)):b2()}function WE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function T2(r){const e=WE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:F_(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:F_(f)}}}function F_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function b2(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return er("not implemented")}_getIdTokenResponse(e){return er("not implemented")}_linkToIdToken(e,n){return er("not implemented")}_getReauthenticationResolver(e){return er("not implemented")}}async function w2(r,e){return Ri(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(r,e){return lu(r,"POST","/v1/accounts:signInWithPassword",ur(r,e))}async function ZE(r,e){return Ri(r,"POST","/v1/accounts:sendOobCode",ur(r,e))}async function A2(r,e){return ZE(r,e)}async function R2(r,e){return ZE(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(r,e){return lu(r,"POST","/v1/accounts:signInWithEmailLink",ur(r,e))}async function C2(r,e){return lu(r,"POST","/v1/accounts:signInWithEmailLink",ur(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends gp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new $l(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new $l(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fh(e,n,"signInWithPassword",S2);case"emailLink":return I2(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fh(e,s,"signUpPassword",w2);case"emailLink":return C2(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(r,e){return lu(r,"POST","/v1/accounts:signInWithIdp",ur(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="http://localhost";class Xs extends gp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=hp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Xs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ro(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ro(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ro(e,n)}buildRequest(){const e={requestUri:x2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=au(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function D2(r){const e=kl(Ml(r)).link,n=e?kl(Ml(e)).deep_link_id:null,s=kl(Ml(r)).deep_link_id;return(s?kl(Ml(s)).link:null)||s||n||e||r}class yp{constructor(e){var n,s,o,u,f,m;const p=kl(Ml(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,w=N2((o=p.mode)!==null&&o!==void 0?o:null);Ee(g&&T&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=D2(e);try{return new yp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){this.providerId=yo.PROVIDER_ID}static credential(e,n){return $l._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=yp.parseLink(n);return Ee(s,"argument-error"),$l._fromEmailAndCode(e,s.code,s.tenantId)}}yo.PROVIDER_ID="password";yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends JE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends uu{constructor(){super("facebook.com")}static credential(e){return Xs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.FACEBOOK_SIGN_IN_METHOD="facebook.com";Br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return qr.credential(n,s)}catch{return null}}}qr.GOOGLE_SIGN_IN_METHOD="google.com";qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends uu{constructor(){super("github.com")}static credential(e){return Xs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.GITHUB_SIGN_IN_METHOD="github.com";Hr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends uu{constructor(){super("twitter.com")}static credential(e,n){return Xs._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Fr.credential(n,s)}catch{return null}}}Fr.TWITTER_SIGN_IN_METHOD="twitter.com";Fr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(r,e){return lu(r,"POST","/v1/accounts:signUp",ur(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Hn._fromIdTokenResponse(e,s,o),f=G_(s);return new Ws({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=G_(s);return new Ws({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function G_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh extends Ai{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,dh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new dh(e,n,s,o)}}function eT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?dh._fromErrorAndOperation(r,u,e,s):u})}async function P2(r,e,n=!1){const s=await ao(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Ws._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(r,e,n=!1){const{auth:s}=r;if(Tn(s.app))return Promise.reject(ir(s));const o="reauthenticate";try{const u=await ao(r,eT(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const f=mp(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(r.uid===m,s,"user-mismatch"),Ws._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Qn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tT(r,e,n=!1){if(Tn(r.app))return Promise.reject(ir(r));const s="signIn",o=await eT(r,s,e),u=await Ws._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function M2(r,e){return tT(rs(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nT(r){const e=rs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function V2(r,e,n){const s=rs(r);await fh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",R2)}async function j2(r,e,n){if(Tn(r.app))return Promise.reject(ir(r));const s=rs(r),f=await fh(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",O2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&nT(r),p}),m=await Ws._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function L2(r,e,n){return Tn(r.app)?Promise.reject(ir(r)):M2(Lt(r),yo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&nT(r),s})}async function iT(r,e){const n=Lt(r),o={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:u}=await A2(n.auth,o);u!==r.email&&await r.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(r,e){return Ri(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Lt(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await ao(s,U2(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function B2(r,e,n,s){return Lt(r).onIdTokenChanged(e,n,s)}function q2(r,e,n){return Lt(r).beforeAuthStateChanged(e,n)}function H2(r){return Lt(r).signOut()}const mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mh,"1"),this.storage.removeItem(mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=1e3,G2=10;class sT extends rT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);r2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,G2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},F2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sT.type="LOCAL";const Q2=sT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT extends rT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}aT.type="SESSION";const oT=aT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Mh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await K2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=vp("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const S=w;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(){return window}function $2(r){gi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(){return typeof gi().WorkerGlobalScope<"u"&&typeof gi().importScripts=="function"}async function X2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function W2(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function Z2(){return lT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="firebaseLocalStorageDb",J2=1,ph="firebaseLocalStorage",cT="fbase_key";class cu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vh(r,e){return r.transaction([ph],e?"readwrite":"readonly").objectStore(ph)}function eI(){const r=indexedDB.deleteDatabase(uT);return new cu(r).toPromise()}function Om(){const r=indexedDB.open(uT,J2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ph,{keyPath:cT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ph)?e(s):(s.close(),await eI(),e(await Om()))})})}async function Q_(r,e,n){const s=Vh(r,!0).put({[cT]:e,value:n});return new cu(s).toPromise()}async function tI(r,e){const n=Vh(r,!1).get(e),s=await new cu(n).toPromise();return s===void 0?null:s.value}function K_(r,e){const n=Vh(r,!0).delete(e);return new cu(n).toPromise()}const nI=800,iI=3;class hT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Om(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>iI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance(Z2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await X2(),!this.activeServiceWorker)return;this.sender=new Y2(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||W2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Om();return await Q_(e,mh,"1"),await K_(e,mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Q_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>tI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>K_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Vh(o,!1).getAll();return new cu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hT.type="LOCAL";const rI=hT;new ou(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(r,e){return e?tr(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p extends gp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ro(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ro(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aI(r){return tT(r.auth,new _p(r),r.bypassAuthState)}function oI(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),k2(n,new _p(r),r.bypassAuthState)}async function lI(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),P2(n,new _p(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aI;case"linkViaPopup":case"linkViaRedirect":return lI;case"reauthViaPopup":case"reauthViaRedirect":return oI;default:Qn(this.auth,"internal-error")}}resolve(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=new ou(2e3,1e4);class to extends fT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const e=vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uI.get())};e()}}to.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="pendingRedirect",Zc=new Map;class hI extends fT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Zc.get(this.auth._key());if(!e){try{const s=await fI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Zc.set(this.auth._key(),e)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fI(r,e){const n=pI(e),s=mI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function dI(r,e){Zc.set(r._key(),e)}function mI(r){return tr(r._redirectPersistence)}function pI(r){return Wc(cI,r.config.apiKey,r.name)}async function gI(r,e,n=!1){if(Tn(r.app))return Promise.reject(ir(r));const s=rs(r),o=sI(s,e),f=await new hI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=10*60*1e3;class vI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_I(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!dT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(pi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Y_(e))}saveEventToCache(e){this.cachedEventUids.add(Y_(e)),this.lastProcessedEventTime=Date.now()}}function Y_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function dT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _I(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(r,e={}){return Ri(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bI=/^https?/;async function wI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await EI(r);for(const n of e)try{if(SI(n))return}catch{}Qn(r,"unauthorized-domain")}function SI(r){const e=Nm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!bI.test(n))return!1;if(TI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=new ou(3e4,6e4);function $_(){const r=gi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function RI(r){return new Promise((e,n)=>{var s,o,u;function f(){$_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$_(),n(pi(r,"network-request-failed"))},timeout:AI.get()})}if(!((o=(s=gi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=gi().gapi)===null||u===void 0)&&u.load)f();else{const m=d2("iframefcb");return gi()[m]=()=>{gapi.load?f():n(pi(r,"network-request-failed"))},$E(`${f2()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Jc=null,e})}let Jc=null;function II(r){return Jc=Jc||RI(r),Jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=new ou(5e3,15e3),xI="__/auth/iframe",NI="emulator/auth/iframe",DI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PI(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?dp(e,NI):`https://${r.config.authDomain}/${xI}`,s={apiKey:e.apiKey,appName:r.name,v:na},o=OI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${au(s).slice(1)}`}async function kI(r){const e=await II(r),n=gi().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:PI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=pi(r,"network-request-failed"),m=gi().setTimeout(()=>{u(f)},CI.get());function p(){gi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VI=500,jI=600,LI="_blank",UI="http://localhost";class X_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zI(r,e,n,s=VI,o=jI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},MI),{width:s.toString(),height:o.toString(),top:u,left:f}),g=tn().toLowerCase();n&&(m=qE(g)?LI:n),zE(g)&&(e=e||UI,p.scrollbars="yes");const T=Object.entries(p).reduce((S,[M,k])=>`${S}${M}=${k},`,"");if(i2(g)&&m!=="_self")return BI(e||"",m),new X_(null);const w=window.open(e||"",m,T);Ee(w,r,"popup-blocked");try{w.focus()}catch{}return new X_(w)}function BI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="__/auth/handler",HI="emulator/auth/handler",FI=encodeURIComponent("fac");async function W_(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:na,eventId:o};if(e instanceof JE){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",wA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,w]of Object.entries({}))f[T]=w}if(e instanceof uu){const T=e.getScopes().filter(w=>w!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),g=p?`#${FI}=${encodeURIComponent(p)}`:"";return`${GI(r)}?${au(m).slice(1)}${g}`}function GI({config:r}){return r.emulator?dp(r,HI):`https://${r.authDomain}/${qI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="webStorageSupport";class QI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oT,this._completeRedirectFn=gI,this._overrideRedirectResult=dI}async _openPopup(e,n,s,o){var u;ar((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await W_(e,n,s,Nm(),o);return zI(e,f,vp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await W_(e,n,s,Nm(),o);return $2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ar(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await kI(e),s=new vI(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pm,{type:pm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[pm];f!==void 0&&n(!!f),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return KE()||BE()||pp()}}const KI=QI;var Z_="@firebase/auth",J_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XI(r){$s(new Xr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YE(r)},g=new u2(s,o,u,p);return _2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),$s(new Xr("auth-internal",e=>{const n=rs(e.getProvider("auth").getImmediate());return(s=>new YI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mi(Z_,J_,$I(r)),mi(Z_,J_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=5*60,ZI=AE("authIdTokenMaxAge")||WI;let e0=null;const JI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ZI)return;const o=n==null?void 0:n.token;e0!==o&&(e0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function eC(r=cp()){const e=Ph(r,"auth");if(e.isInitialized())return e.getImmediate();const n=v2(r,{popupRedirectResolver:KI,persistence:[rI,Q2,oT]}),s=AE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=JI(u.toString());q2(n,f,()=>f(n.currentUser)),B2(n,m=>f(m))}}const o=bE("auth");return o&&E2(n,`http://${o}`),n}function tC(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}c2({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=pi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",tC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XI("Browser");var t0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yr,mT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function I(){}I.prototype=R.prototype,O.D=R.prototype,O.prototype=new I,O.prototype.constructor=O,O.C=function(N,V,L){for(var x=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)x[Ut-2]=arguments[Ut];return R.prototype[V].apply(N,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,I){I||(I=0);var N=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)N[V]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(V=0;16>V;++V)N[V]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=O.g[0],I=O.g[1],V=O.g[2];var L=O.g[3],x=R+(L^I&(V^L))+N[0]+3614090360&4294967295;R=I+(x<<7&4294967295|x>>>25),x=L+(V^R&(I^V))+N[1]+3905402710&4294967295,L=R+(x<<12&4294967295|x>>>20),x=V+(I^L&(R^I))+N[2]+606105819&4294967295,V=L+(x<<17&4294967295|x>>>15),x=I+(R^V&(L^R))+N[3]+3250441966&4294967295,I=V+(x<<22&4294967295|x>>>10),x=R+(L^I&(V^L))+N[4]+4118548399&4294967295,R=I+(x<<7&4294967295|x>>>25),x=L+(V^R&(I^V))+N[5]+1200080426&4294967295,L=R+(x<<12&4294967295|x>>>20),x=V+(I^L&(R^I))+N[6]+2821735955&4294967295,V=L+(x<<17&4294967295|x>>>15),x=I+(R^V&(L^R))+N[7]+4249261313&4294967295,I=V+(x<<22&4294967295|x>>>10),x=R+(L^I&(V^L))+N[8]+1770035416&4294967295,R=I+(x<<7&4294967295|x>>>25),x=L+(V^R&(I^V))+N[9]+2336552879&4294967295,L=R+(x<<12&4294967295|x>>>20),x=V+(I^L&(R^I))+N[10]+4294925233&4294967295,V=L+(x<<17&4294967295|x>>>15),x=I+(R^V&(L^R))+N[11]+2304563134&4294967295,I=V+(x<<22&4294967295|x>>>10),x=R+(L^I&(V^L))+N[12]+1804603682&4294967295,R=I+(x<<7&4294967295|x>>>25),x=L+(V^R&(I^V))+N[13]+4254626195&4294967295,L=R+(x<<12&4294967295|x>>>20),x=V+(I^L&(R^I))+N[14]+2792965006&4294967295,V=L+(x<<17&4294967295|x>>>15),x=I+(R^V&(L^R))+N[15]+1236535329&4294967295,I=V+(x<<22&4294967295|x>>>10),x=R+(V^L&(I^V))+N[1]+4129170786&4294967295,R=I+(x<<5&4294967295|x>>>27),x=L+(I^V&(R^I))+N[6]+3225465664&4294967295,L=R+(x<<9&4294967295|x>>>23),x=V+(R^I&(L^R))+N[11]+643717713&4294967295,V=L+(x<<14&4294967295|x>>>18),x=I+(L^R&(V^L))+N[0]+3921069994&4294967295,I=V+(x<<20&4294967295|x>>>12),x=R+(V^L&(I^V))+N[5]+3593408605&4294967295,R=I+(x<<5&4294967295|x>>>27),x=L+(I^V&(R^I))+N[10]+38016083&4294967295,L=R+(x<<9&4294967295|x>>>23),x=V+(R^I&(L^R))+N[15]+3634488961&4294967295,V=L+(x<<14&4294967295|x>>>18),x=I+(L^R&(V^L))+N[4]+3889429448&4294967295,I=V+(x<<20&4294967295|x>>>12),x=R+(V^L&(I^V))+N[9]+568446438&4294967295,R=I+(x<<5&4294967295|x>>>27),x=L+(I^V&(R^I))+N[14]+3275163606&4294967295,L=R+(x<<9&4294967295|x>>>23),x=V+(R^I&(L^R))+N[3]+4107603335&4294967295,V=L+(x<<14&4294967295|x>>>18),x=I+(L^R&(V^L))+N[8]+1163531501&4294967295,I=V+(x<<20&4294967295|x>>>12),x=R+(V^L&(I^V))+N[13]+2850285829&4294967295,R=I+(x<<5&4294967295|x>>>27),x=L+(I^V&(R^I))+N[2]+4243563512&4294967295,L=R+(x<<9&4294967295|x>>>23),x=V+(R^I&(L^R))+N[7]+1735328473&4294967295,V=L+(x<<14&4294967295|x>>>18),x=I+(L^R&(V^L))+N[12]+2368359562&4294967295,I=V+(x<<20&4294967295|x>>>12),x=R+(I^V^L)+N[5]+4294588738&4294967295,R=I+(x<<4&4294967295|x>>>28),x=L+(R^I^V)+N[8]+2272392833&4294967295,L=R+(x<<11&4294967295|x>>>21),x=V+(L^R^I)+N[11]+1839030562&4294967295,V=L+(x<<16&4294967295|x>>>16),x=I+(V^L^R)+N[14]+4259657740&4294967295,I=V+(x<<23&4294967295|x>>>9),x=R+(I^V^L)+N[1]+2763975236&4294967295,R=I+(x<<4&4294967295|x>>>28),x=L+(R^I^V)+N[4]+1272893353&4294967295,L=R+(x<<11&4294967295|x>>>21),x=V+(L^R^I)+N[7]+4139469664&4294967295,V=L+(x<<16&4294967295|x>>>16),x=I+(V^L^R)+N[10]+3200236656&4294967295,I=V+(x<<23&4294967295|x>>>9),x=R+(I^V^L)+N[13]+681279174&4294967295,R=I+(x<<4&4294967295|x>>>28),x=L+(R^I^V)+N[0]+3936430074&4294967295,L=R+(x<<11&4294967295|x>>>21),x=V+(L^R^I)+N[3]+3572445317&4294967295,V=L+(x<<16&4294967295|x>>>16),x=I+(V^L^R)+N[6]+76029189&4294967295,I=V+(x<<23&4294967295|x>>>9),x=R+(I^V^L)+N[9]+3654602809&4294967295,R=I+(x<<4&4294967295|x>>>28),x=L+(R^I^V)+N[12]+3873151461&4294967295,L=R+(x<<11&4294967295|x>>>21),x=V+(L^R^I)+N[15]+530742520&4294967295,V=L+(x<<16&4294967295|x>>>16),x=I+(V^L^R)+N[2]+3299628645&4294967295,I=V+(x<<23&4294967295|x>>>9),x=R+(V^(I|~L))+N[0]+4096336452&4294967295,R=I+(x<<6&4294967295|x>>>26),x=L+(I^(R|~V))+N[7]+1126891415&4294967295,L=R+(x<<10&4294967295|x>>>22),x=V+(R^(L|~I))+N[14]+2878612391&4294967295,V=L+(x<<15&4294967295|x>>>17),x=I+(L^(V|~R))+N[5]+4237533241&4294967295,I=V+(x<<21&4294967295|x>>>11),x=R+(V^(I|~L))+N[12]+1700485571&4294967295,R=I+(x<<6&4294967295|x>>>26),x=L+(I^(R|~V))+N[3]+2399980690&4294967295,L=R+(x<<10&4294967295|x>>>22),x=V+(R^(L|~I))+N[10]+4293915773&4294967295,V=L+(x<<15&4294967295|x>>>17),x=I+(L^(V|~R))+N[1]+2240044497&4294967295,I=V+(x<<21&4294967295|x>>>11),x=R+(V^(I|~L))+N[8]+1873313359&4294967295,R=I+(x<<6&4294967295|x>>>26),x=L+(I^(R|~V))+N[15]+4264355552&4294967295,L=R+(x<<10&4294967295|x>>>22),x=V+(R^(L|~I))+N[6]+2734768916&4294967295,V=L+(x<<15&4294967295|x>>>17),x=I+(L^(V|~R))+N[13]+1309151649&4294967295,I=V+(x<<21&4294967295|x>>>11),x=R+(V^(I|~L))+N[4]+4149444226&4294967295,R=I+(x<<6&4294967295|x>>>26),x=L+(I^(R|~V))+N[11]+3174756917&4294967295,L=R+(x<<10&4294967295|x>>>22),x=V+(R^(L|~I))+N[2]+718787259&4294967295,V=L+(x<<15&4294967295|x>>>17),x=I+(L^(V|~R))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(V+(x<<21&4294967295|x>>>11))&4294967295,O.g[2]=O.g[2]+V&4294967295,O.g[3]=O.g[3]+L&4294967295}s.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var I=R-this.blockSize,N=this.B,V=this.h,L=0;L<R;){if(V==0)for(;L<=I;)o(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<R;)if(N[V++]=O.charCodeAt(L++),V==this.blockSize){o(this,N),V=0;break}}else for(;L<R;)if(N[V++]=O[L++],V==this.blockSize){o(this,N),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var I=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=I&255,I/=256;for(this.u(O),O=Array(16),R=I=0;4>R;++R)for(var N=0;32>N;N+=8)O[I++]=this.g[R]>>>N&255;return O};function u(O,R){var I=m;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=R(O)}function f(O,R){this.h=R;for(var I=[],N=!0,V=O.length-1;0<=V;V--){var L=O[V]|0;N&&L==R||(I[V]=L,N=!1)}this.g=I}var m={};function p(O){return-128<=O&&128>O?u(O,function(R){return new f([R|0],0>R?-1:0)}):new f([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return w;if(0>O)return B(g(-O));for(var R=[],I=1,N=0;O>=I;N++)R[N]=O/I|0,I*=4294967296;return new f(R,0)}function T(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return B(T(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(R,8)),N=w,V=0;V<O.length;V+=8){var L=Math.min(8,O.length-V),x=parseInt(O.substring(V,V+L),R);8>L?(L=g(Math.pow(R,L)),N=N.j(L).add(g(x))):(N=N.j(I),N=N.add(g(x)))}return N}var w=p(0),S=p(1),M=p(16777216);r=f.prototype,r.m=function(){if(G(this))return-B(this).m();for(var O=0,R=1,I=0;I<this.g.length;I++){var N=this.i(I);O+=(0<=N?N:4294967296+N)*R,R*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(k(this))return"0";if(G(this))return"-"+B(this).toString(O);for(var R=g(Math.pow(O,6)),I=this,N="";;){var V=ue(I,R).g;I=Y(I,V.j(R));var L=((0<I.g.length?I.g[0]:I.h)>>>0).toString(O);if(I=V,k(I))return L+N;for(;6>L.length;)L="0"+L;N=L+N}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function k(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function G(O){return O.h==-1}r.l=function(O){return O=Y(this,O),G(O)?-1:k(O)?0:1};function B(O){for(var R=O.g.length,I=[],N=0;N<R;N++)I[N]=~O.g[N];return new f(I,~O.h).add(S)}r.abs=function(){return G(this)?B(this):this},r.add=function(O){for(var R=Math.max(this.g.length,O.g.length),I=[],N=0,V=0;V<=R;V++){var L=N+(this.i(V)&65535)+(O.i(V)&65535),x=(L>>>16)+(this.i(V)>>>16)+(O.i(V)>>>16);N=x>>>16,L&=65535,x&=65535,I[V]=x<<16|L}return new f(I,I[I.length-1]&-2147483648?-1:0)};function Y(O,R){return O.add(B(R))}r.j=function(O){if(k(this)||k(O))return w;if(G(this))return G(O)?B(this).j(B(O)):B(B(this).j(O));if(G(O))return B(this.j(B(O)));if(0>this.l(M)&&0>O.l(M))return g(this.m()*O.m());for(var R=this.g.length+O.g.length,I=[],N=0;N<2*R;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<O.g.length;V++){var L=this.i(N)>>>16,x=this.i(N)&65535,Ut=O.i(V)>>>16,lt=O.i(V)&65535;I[2*N+2*V]+=x*lt,ee(I,2*N+2*V),I[2*N+2*V+1]+=L*lt,ee(I,2*N+2*V+1),I[2*N+2*V+1]+=x*Ut,ee(I,2*N+2*V+1),I[2*N+2*V+2]+=L*Ut,ee(I,2*N+2*V+2)}for(N=0;N<R;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=R;N<2*R;N++)I[N]=0;return new f(I,0)};function ee(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function ie(O,R){this.g=O,this.h=R}function ue(O,R){if(k(R))throw Error("division by zero");if(k(O))return new ie(w,w);if(G(O))return R=ue(B(O),R),new ie(B(R.g),B(R.h));if(G(R))return R=ue(O,B(R)),new ie(B(R.g),R.h);if(30<O.g.length){if(G(O)||G(R))throw Error("slowDivide_ only works with positive integers.");for(var I=S,N=R;0>=N.l(O);)I=ae(I),N=ae(N);var V=ve(I,1),L=ve(N,1);for(N=ve(N,2),I=ve(I,2);!k(N);){var x=L.add(N);0>=x.l(O)&&(V=V.add(I),L=x),N=ve(N,1),I=ve(I,1)}return R=Y(O,V.j(R)),new ie(V,R)}for(V=w;0<=O.l(R);){for(I=Math.max(1,Math.floor(O.m()/R.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),L=g(I),x=L.j(R);G(x)||0<x.l(O);)I-=N,L=g(I),x=L.j(R);k(L)&&(L=S),V=V.add(L),O=Y(O,x)}return new ie(V,O)}r.A=function(O){return ue(this,O).h},r.and=function(O){for(var R=Math.max(this.g.length,O.g.length),I=[],N=0;N<R;N++)I[N]=this.i(N)&O.i(N);return new f(I,this.h&O.h)},r.or=function(O){for(var R=Math.max(this.g.length,O.g.length),I=[],N=0;N<R;N++)I[N]=this.i(N)|O.i(N);return new f(I,this.h|O.h)},r.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),I=[],N=0;N<R;N++)I[N]=this.i(N)^O.i(N);return new f(I,this.h^O.h)};function ae(O){for(var R=O.g.length+1,I=[],N=0;N<R;N++)I[N]=O.i(N)<<1|O.i(N-1)>>>31;return new f(I,O.h)}function ve(O,R){var I=R>>5;R%=32;for(var N=O.g.length-I,V=[],L=0;L<N;L++)V[L]=0<R?O.i(L+I)>>>R|O.i(L+I+1)<<32-R:O.i(L+I);return new f(V,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,mT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=T,Yr=f}).apply(typeof t0<"u"?t0:typeof self<"u"?self:typeof window<"u"?window:{});var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pT,Vl,gT,eh,Pm,yT,vT,_T;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qc=="object"&&qc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in _))break e;_=_[U]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,U={next:function(){if(!A&&_<c.length){var K=_++;return{value:y(K,c[K]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function T(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),c.apply(y,U)}}return function(){return c.apply(y,arguments)}}function S(c,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:w,S.apply(null,arguments)}function M(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function k(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,U,K){for(var se=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)se[Me-2]=arguments[Me];return y.prototype[U].apply(A,se)}}function G(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function B(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const U=c.length||0,K=A.length||0;c.length=U+K;for(let se=0;se<K;se++)c[U+se]=A[se]}else c.push(A)}}class Y{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ee(c){return/^[\s\xa0]*$/.test(c)}function ie(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ue(c){return ue[" "](c),c}ue[" "]=function(){};var ae=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function ve(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function O(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,y){let _,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(_ in A)c[_]=A[_];for(let K=0;K<I.length;K++)_=I[K],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function L(c){m.setTimeout(()=>{throw c},0)}function x(){var c=Be;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ut{constructor(){this.h=this.g=null}add(y,_){const A=lt.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var lt=new Y(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,me=!1,Be=new Ut,D=()=>{const c=m.Promise.resolve(void 0);oe=()=>{c.then(te)}};var te=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(_){L(_)}var y=lt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function xe(c,y){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ae){e:{try{ue(y.nodeName);var U=!0;break e}catch{}U=!1}U||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xe.aa.h.call(this)}}k(xe,re);var we={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),Je=0;function $n(c,y,_,A,U){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=U,this.key=++Je,this.da=this.fa=!1}function cr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ci(c){this.src=c,this.g={},this.h=0}Ci.prototype.add=function(c,y,_,A,U){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var se=ls(c,y,A,U);return-1<se?(y=c[se],_||(y.fa=!1)):(y=new $n(y,this.src,K,!!A,U),y.fa=_,c.push(y)),y};function os(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],U=Array.prototype.indexOf.call(A,y,void 0),K;(K=0<=U)&&Array.prototype.splice.call(A,U,1),K&&(cr(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ls(c,y,_,A){for(var U=0;U<c.length;++U){var K=c[U];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==A)return U}return-1}var us="closure_lm_"+(1e6*Math.random()|0),bo={};function gu(c,y,_,A,U){if(Array.isArray(y)){for(var K=0;K<y.length;K++)gu(c,y[K],_,A,U);return null}return _=yu(_),c&&c[Dt]?c.K(y,_,g(A)?!!A.capture:!1,U):wn(c,y,_,!1,A,U)}function wn(c,y,_,A,U,K){if(!y)throw Error("Invalid event type");var se=g(U)?!!U.capture:!!U,Me=aa(c);if(Me||(c[us]=Me=new Ci(c)),_=Me.add(y,_,A,se,K),_.proxy)return _;if(A=ef(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)pe||(U=se),U===void 0&&(U=!1),c.addEventListener(y.toString(),A,U);else if(c.attachEvent)c.attachEvent(cs(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ef(){function c(_){return y.call(c.src,c.listener,_)}const y=tf;return c}function wo(c,y,_,A,U){if(Array.isArray(y))for(var K=0;K<y.length;K++)wo(c,y[K],_,A,U);else A=g(A)?!!A.capture:!!A,_=yu(_),c&&c[Dt]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],_=ls(K,_,A,U),-1<_&&(cr(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=aa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ls(y,_,A,U)),(_=-1<c?y[c]:null)&&sa(_))}function sa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Dt])os(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(cs(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=aa(y))?(os(_,c),_.h==0&&(_.src=null,y[us]=null)):cr(c)}}}function cs(c){return c in bo?bo[c]:bo[c]="on"+c}function tf(c,y){if(c.da)c=!0;else{y=new xe(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&sa(c),c=_.call(A,y)}return c}function aa(c){return c=c[us],c instanceof Ci?c:null}var So="__closure_events_fn_"+(1e9*Math.random()>>>0);function yu(c){return typeof c=="function"?c:(c[So]||(c[So]=function(y){return c.handleEvent(y)}),c[So])}function ut(){le.call(this),this.i=new Ci(this),this.M=this,this.F=null}k(ut,le),ut.prototype[Dt]=!0,ut.prototype.removeEventListener=function(c,y,_,A){wo(this,c,y,_,A)};function Ge(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new re(y,c);else if(y instanceof re)y.target=y.target||c;else{var U=y;y=new re(A,c),N(y,U)}if(U=!0,_)for(var K=_.length-1;0<=K;K--){var se=y.g=_[K];U=fn(se,A,!0,y)&&U}if(se=y.g=c,U=fn(se,A,!0,y)&&U,U=fn(se,A,!1,y)&&U,_)for(K=0;K<_.length;K++)se=y.g=_[K],U=fn(se,A,!1,y)&&U}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)cr(_[A]);delete c.g[y],c.h--}}this.F=null},ut.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},ut.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function fn(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var U=!0,K=0;K<y.length;++K){var se=y[K];if(se&&!se.da&&se.capture==_){var Me=se.listener,St=se.ha||se.src;se.fa&&os(c.i,se),U=Me.call(St,A)!==!1&&U}}return U&&!A.defaultPrevented}function $t(c,y,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function vu(c){c.g=$t(()=>{c.g=null,c.i&&(c.i=!1,vu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class nf extends le{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:vu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(c){le.call(this),this.h=c,this.g={}}k(hs,le);var fs=[];function ds(c){ve(c.g,function(y,_){this.g.hasOwnProperty(_)&&sa(y)},c),c.g={}}hs.prototype.N=function(){hs.aa.N.call(this),ds(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=m.JSON.stringify,oa=m.JSON.parse,ms=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ao(){}Ao.prototype.h=null;function Ro(c){return c.h||(c.h=c.i())}function Io(){}var xi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ni(){re.call(this,"d")}k(Ni,re);function Co(){re.call(this,"c")}k(Co,re);var Xn={},xo=null;function hr(){return xo=xo||new ut}Xn.La="serverreachability";function la(c){re.call(this,Xn.La,c)}k(la,re);function fr(c){const y=hr();Ge(y,new la(y))}Xn.STAT_EVENT="statevent";function _u(c,y){re.call(this,Xn.STAT_EVENT,c),this.stat=y}k(_u,re);function nt(c){const y=hr();Ge(y,new _u(y,c))}Xn.Ma="timingevent";function wt(c,y){re.call(this,Xn.Ma,c),this.size=y}k(wt,re);function gt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Sn(){this.g=!0}Sn.prototype.xa=function(){this.g=!1};function No(c,y,_,A,U,K){c.info(function(){if(c.g)if(K)for(var se="",Me=K.split("&"),St=0;St<Me.length;St++){var Ve=Me[St].split("=");if(1<Ve.length){var Pt=Ve[0];Ve=Ve[1];var At=Pt.split("_");se=2<=At.length&&At[1]=="type"?se+(Pt+"="+Ve+"&"):se+(Pt+"=redacted&")}}else se=null;else se=K;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+y+`
`+_+`
`+se})}function rf(c,y,_,A,U,K,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+y+`
`+_+`
`+K+" "+se})}function dr(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ps(c,_)+(A?" "+A:"")})}function Eu(c,y){c.info(function(){return"TIMEOUT: "+y})}Sn.prototype.info=function(){};function ps(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var K=U[0];if(K!="noop"&&K!="stop"&&K!="close")for(var se=1;se<U.length;se++)U[se]=""}}}}return jn(_)}catch{return y}}var mr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function Zn(){}k(Zn,Ao),Zn.prototype.g=function(){return new XMLHttpRequest},Zn.prototype.i=function(){return{}},Wn=new Zn;function nn(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ft}function ft(){this.i=null,this.g="",this.h=!1}var Do={},ua={};function Ln(c,y,_){c.L=1,c.v=Es(dn(y)),c.m=_,c.P=!0,Oi(c,null)}function Oi(c,y){c.F=Date.now(),gs(c),c.A=dn(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),jo(_.i,"t",A),c.C=0,_=c.j.J,c.h=new ft,c.g=Vu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new nf(S(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(fs[0]=U.toString()),U=fs);for(var K=0;K<U.length;K++){var se=gu(_,U[K],A||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),fr(),No(c.i,c.u,c.A,c.l,c.R,c.m)}nn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Cn(c)==3?y.j():this.Y(c)},nn.prototype.Y=function(c){try{if(c==this.g)e:{const At=Cn(this.g);var y=this.g.Ba();const zi=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||Cu(this.g)))){this.J||At!=4||y==7||(y==8||0>=zi?fr(3):fr(2)),pr(this);var _=this.g.Z();this.X=_;t:if(Tu(this)){var A=Cu(this.g);c="";var U=A.length,K=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zt(this),Jn(this);var se="";break t}this.h.i=new m.TextDecoder}for(y=0;y<U;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(K&&y==U-1)});A.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,rf(this.i,this.u,this.A,this.l,this.R,At,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,St=this.g;if((Me=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(Me)){var Ve=Me;break t}}Ve=null}if(_=Ve)dr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ys(this,_);else{this.o=!1,this.s=3,nt(12),zt(this),Jn(this);break e}}if(this.P){_=!0;let Bt;for(;!this.J&&this.C<se.length;)if(Bt=bu(this,se),Bt==ua){At==4&&(this.s=4,nt(14),_=!1),dr(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==Do){this.s=4,nt(15),dr(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else dr(this.i,this.l,Bt,null),ys(this,Bt);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||se.length!=0||this.h.h||(this.s=1,nt(16),_=!1),this.o=this.o&&_,!_)dr(this.i,this.l,se,"[Invalid Chunked Response]"),zt(this),Jn(this);else if(0<se.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Cs(Pt),Pt.M=!0,nt(11))}}else dr(this.i,this.l,se,null),ys(this,se);At==4&&zt(this),this.o&&!this.J&&(At==4?Pu(this.j,this):(this.o=!1,gs(this)))}else uf(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),zt(this),Jn(this)}}}catch{}finally{}};function Tu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function bu(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?ua:(_=Number(y.substring(_,A)),isNaN(_)?Do:(A+=1,A+_>y.length?ua:(y=y.slice(A,A+_),c.C=A+_,y)))}nn.prototype.cancel=function(){this.J=!0,zt(this)};function gs(c){c.S=Date.now()+c.I,wu(c,c.I)}function wu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=gt(S(c.ba,c),y)}function pr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}nn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Eu(this.i,this.A),this.L!=2&&(fr(),nt(17)),zt(this),this.s=2,Jn(this)):wu(this,this.S-c)};function Jn(c){c.j.G==0||c.J||Pu(c.j,c)}function zt(c){pr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ds(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ys(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Oo(_.h,c))){if(!c.K&&Oo(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ta(_),_a(_);else break e;qo(_),nt(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=gt(S(_.Za,_),6e3));if(1>=ha(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ui(_,11)}else if((c.K||_.g==c)&&Ta(_),!ee(y))for(U=_.Da.g.parse(y),y=0;y<U.length;y++){let Ve=U[y];if(_.T=Ve[0],Ve=Ve[1],_.G==2)if(Ve[0]=="c"){_.K=Ve[1],_.ia=Ve[2];const Pt=Ve[3];Pt!=null&&(_.la=Pt,_.j.info("VER="+_.la));const At=Ve[4];At!=null&&(_.Aa=At,_.j.info("SVER="+_.Aa));const zi=Ve[5];zi!=null&&typeof zi=="number"&&0<zi&&(A=1.5*zi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Bt=c.g;if(Bt){const ai=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ai){var K=A.h;K.g||ai.indexOf("spdy")==-1&&ai.indexOf("quic")==-1&&ai.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(fa(K,K.h),K.h=null))}if(A.D){const Fo=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;Fo&&(A.ya=Fo,Ye(A.I,A.D,Fo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var se=c;if(A.qa=Mu(A,A.J?A.ia:null,A.W),se.K){rn(A.h,se);var Me=se,St=A.L;St&&(Me.I=St),Me.B&&(pr(Me),gs(Me)),A.g=se}else Du(A);0<_.i.length&&Ea(_)}else Ve[0]!="stop"&&Ve[0]!="close"||Ui(_,7);else _.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Ui(_,7):zo(_):Ve[0]!="noop"&&_.l&&_.l.ta(Ve),_.v=0)}}fr(4)}catch{}}var Su=class{constructor(c,y){this.g=c,this.map=y}};function Pi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ca(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ha(c){return c.h?1:c.g?c.g.size:0}function Oo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function fa(c,y){c.g?c.g.add(y):c.h=y}function rn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Pi.prototype.cancel=function(){if(this.i=Po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Po(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return G(c.i)}function sf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function da(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function ko(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=da(c),A=sf(c),U=A.length,K=0;K<U;K++)y.call(void 0,A[K],_&&_[K],c)}var vs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function af(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),U=null;if(0<=A){var K=c[_].substring(0,A);U=c[_].substring(A+1)}else K=c[_];y(K,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function yt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof yt){this.h=c.h,_s(this,c.j),this.o=c.o,this.g=c.g,gr(this,c.s),this.l=c.l;var y=c.i,_=new Mi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),ki(this,_),this.m=c.m}else c&&(y=String(c).match(vs))?(this.h=!1,_s(this,y[1]||"",!0),this.o=An(y[2]||""),this.g=An(y[3]||"",!0),gr(this,y[4]),this.l=An(y[5]||"",!0),ki(this,y[6]||"",!0),this.m=An(y[7]||"")):(this.h=!1,this.i=new Mi(null,this.h))}yt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ts(y,Mo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ts(y,Mo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ts(_,_.charAt(0)=="/"?of:Vo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ts(_,ma)),c.join("")};function dn(c){return new yt(c)}function _s(c,y,_){c.j=_?An(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function gr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ki(c,y,_){y instanceof Mi?(c.i=y,Ru(c.i,c.h)):(_||(y=Ts(y,lf)),c.i=new Mi(y,c.h))}function Ye(c,y,_){c.i.set(y,_)}function Es(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function An(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ts(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Au),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Au(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Mo=/[#\/\?@]/g,Vo=/[#\?:]/g,of=/[#\?]/g,lf=/[#\?@]/g,ma=/#/g;function Mi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Rn(c){c.g||(c.g=new Map,c.h=0,c.i&&af(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Mi.prototype,r.add=function(c,y){Rn(this),this.i=null,c=ei(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Vi(c,y){Rn(c),y=ei(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function ji(c,y){return Rn(c),y=ei(c,y),c.g.has(y)}r.forEach=function(c,y){Rn(this),this.g.forEach(function(_,A){_.forEach(function(U){c.call(y,U,A,this)},this)},this)},r.na=function(){Rn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const U=c[A];for(let K=0;K<U.length;K++)_.push(y[A])}return _},r.V=function(c){Rn(this);let y=[];if(typeof c=="string")ji(this,c)&&(y=y.concat(this.g.get(ei(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Rn(this),this.i=null,c=ei(this,c),ji(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function jo(c,y,_){Vi(c,y),0<_.length&&(c.i=null,c.g.set(ei(c,y),G(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const K=encodeURIComponent(String(A)),se=this.V(A);for(A=0;A<se.length;A++){var U=K;se[A]!==""&&(U+="="+encodeURIComponent(String(se[A]))),c.push(U)}}return this.i=c.join("&")};function ei(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ru(c,y){y&&!c.j&&(Rn(c),c.i=null,c.g.forEach(function(_,A){var U=A.toLowerCase();A!=U&&(Vi(this,A),jo(this,U,_))},c)),c.j=y}function bs(c,y){const _=new Sn;if(m.Image){const A=new Image;A.onload=M(In,_,"TestLoadImage: loaded",!0,y,A),A.onerror=M(In,_,"TestLoadImage: error",!1,y,A),A.onabort=M(In,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=M(In,_,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Un(c,y){const _=new Sn,A=new AbortController,U=setTimeout(()=>{A.abort(),In(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(K=>{clearTimeout(U),K.ok?In(_,"TestPingServer: ok",!0,y):In(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),In(_,"TestPingServer: error",!1,y)})}function In(c,y,_,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(_)}catch{}}function ws(){this.g=new ms}function ti(c,y,_){const A=_||"";try{ko(c,function(U,K){let se=U;g(U)&&(se=jn(U)),y.push(A+K+"="+encodeURIComponent(se))})}catch(U){throw y.push(A+"type="+encodeURIComponent("_badmap")),U}}function yr(c){this.l=c.Ub||null,this.j=c.eb||!1}k(yr,Ao),yr.prototype.g=function(){return new Li(this.l,this.j)},yr.prototype.i=function(c){return function(){return c}}({});function Li(c,y){ut.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Li,ut),r=Li.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ii(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ni(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ni(this):ii(this),this.readyState==3&&Lo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ni(this))},r.Qa=function(c){this.g&&(this.response=c,ni(this))},r.ga=function(){this.g&&ni(this)};function ni(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ii(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ii(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Li.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Uo(c){let y="";return ve(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Ot(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Uo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ye(c,y,_))}function He(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(He,ut);var pa=/^https?$/i,Ss=["POST","PUT"];r=He.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?Ro(this.o):Ro(Wn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Iu(this,K);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)_.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())_.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ss,y,void 0))||A||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of _)this.g.setRequestHeader(K,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{As(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Iu(this,K)}};function Iu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ga(c),ri(c)}function ga(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),ri(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ri(this,!0)),He.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ya(this):this.bb())},r.bb=function(){ya(this)};function ya(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Cn(c)!=4||c.Z()!=2)){if(c.u&&Cn(c)==4)$t(c.Ea,0,c);else if(Ge(c,"readystatechange"),Cn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=se===0){var U=String(c.D).match(vs)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),A=!pa.test(U?U.toLowerCase():"")}_=A}if(_)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var K=2<Cn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",ga(c)}}finally{ri(c)}}}}function ri(c,y){if(c.g){As(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ge(c,"ready");try{_.onreadystatechange=A}catch{}}}function As(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Cn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),oa(y)}};function Cu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function uf(c){const y={};c=(c.g&&2<=Cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ee(c[A]))continue;var _=V(c[A]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[U]||[];y[U]=K,K.push(_)}O(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function va(c){this.Aa=0,this.i=[],this.j=new Sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rs("baseRetryDelayMs",5e3,c),this.cb=Rs("retryDelaySeedMs",1e4,c),this.Wa=Rs("forwardChannelMaxRetries",2,c),this.wa=Rs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Pi(c&&c.concurrentRequestLimit),this.Da=new ws,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=va.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,A){nt(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Mu(this,null,this.W),Ea(this)};function zo(c){if(xu(c),c.G==3){var y=c.U++,_=dn(c.I);if(Ye(_,"SID",c.K),Ye(_,"RID",y),Ye(_,"TYPE","terminate"),Is(c,_),y=new nn(c,c.j,y),y.L=2,y.v=Es(dn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Vu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),gs(y)}ku(c)}function _a(c){c.g&&(Cs(c),c.g.cancel(),c.g=null)}function xu(c){_a(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ta(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ea(c){if(!ca(c.h)&&!c.s){c.s=!0;var y=c.Ga;oe||D(),me||(oe(),me=!0),Be.add(y,c),c.B=0}}function cf(c,y){return ha(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=gt(S(c.Ga,c,y),Ho(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new nn(this,this.j,c);let K=this.o;if(this.S&&(K?(K=R(K),N(K,this.S)):K=this.S),this.m!==null||this.O||(U.H=K,K=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Nu(this,U,y),_=dn(this.I),Ye(_,"RID",c),Ye(_,"CVER",22),this.D&&Ye(_,"X-HTTP-Session-Id",this.D),Is(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(Uo(K)))+"&"+y:this.m&&Ot(_,this.m,K)),fa(this.h,U),this.Ua&&Ye(_,"TYPE","init"),this.P?(Ye(_,"$req",y),Ye(_,"SID","null"),U.T=!0,Ln(U,_,null)):Ln(U,_,y),this.G=2}}else this.G==3&&(c?Bo(this,c):this.i.length==0||ca(this.h)||Bo(this))};function Bo(c,y){var _;y?_=y.l:_=c.U++;const A=dn(c.I);Ye(A,"SID",c.K),Ye(A,"RID",_),Ye(A,"AID",c.T),Is(c,A),c.m&&c.o&&Ot(A,c.m,c.o),_=new nn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Nu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),fa(c.h,_),Ln(_,A,y)}function Is(c,y){c.H&&ve(c.H,function(_,A){Ye(y,A,_)}),c.l&&ko({},function(_,A){Ye(y,A,_)})}function Nu(c,y,_){_=Math.min(c.i.length,_);var A=c.l?S(c.l.Na,c.l,c):null;e:{var U=c.i;let K=-1;for(;;){const se=["count="+_];K==-1?0<_?(K=U[0].g,se.push("ofs="+K)):K=0:se.push("ofs="+K);let Me=!0;for(let St=0;St<_;St++){let Ve=U[St].g;const Pt=U[St].map;if(Ve-=K,0>Ve)K=Math.max(0,U[St].g-100),Me=!1;else try{ti(Pt,se,"req"+Ve+"_")}catch{A&&A(Pt)}}if(Me){A=se.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function Du(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;oe||D(),me||(oe(),me=!0),Be.add(y,c),c.v=0}}function qo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=gt(S(c.Fa,c),Ho(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=gt(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),_a(this),Ou(this))};function Cs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Ou(c){c.g=new nn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=dn(c.qa);Ye(y,"RID","rpc"),Ye(y,"SID",c.K),Ye(y,"AID",c.T),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(y,"TO",c.ja),Ye(y,"TYPE","xmlhttp"),Is(c,y),c.m&&c.o&&Ot(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Es(dn(y)),_.m=null,_.P=!0,Oi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,_a(this),qo(this),nt(19))};function Ta(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Pu(c,y){var _=null;if(c.g==y){Ta(c),Cs(c),c.g=null;var A=2}else if(Oo(c.h,y))_=y.D,rn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var U=c.B;A=hr(),Ge(A,new wt(A,_)),Ea(c)}else Du(c);else if(U=y.s,U==3||U==0&&0<y.X||!(A==1&&cf(c,y)||A==2&&qo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),U){case 1:Ui(c,5);break;case 4:Ui(c,10);break;case 3:Ui(c,6);break;default:Ui(c,2)}}}function Ho(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Ui(c,y){if(c.j.info("Error code "+y),y==2){var _=S(c.fb,c),A=c.Xa;const U=!A;A=new yt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||_s(A,"https"),Es(A),U?bs(A.toString(),_):Un(A.toString(),_)}else nt(2);c.G=0,c.l&&c.l.sa(y),ku(c),xu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function ku(c){if(c.G=0,c.ka=[],c.l){const y=Po(c.h);(y.length!=0||c.i.length!=0)&&(B(c.ka,y),B(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function Mu(c,y,_){var A=_ instanceof yt?dn(_):new yt(_);if(A.g!="")y&&(A.g=y+"."+A.g),gr(A,A.s);else{var U=m.location;A=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;var K=new yt(null);A&&_s(K,A),y&&(K.g=y),U&&gr(K,U),_&&(K.l=_),A=K}return _=c.D,y=c.ya,_&&y&&Ye(A,_,y),Ye(A,"VER",c.la),Is(c,A),A}function Vu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new He(new yr({eb:_})):new He(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}r=ju.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ba(){}ba.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){ut.call(this),this.g=new va(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ee(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ee(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new si(this)}k(sn,ut),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){zo(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=jn(c),c=_);y.i.push(new Su(y.Ya++,c)),y.G==3&&Ea(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,sn.aa.N.call(this)};function Lu(c){Ni.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}k(Lu,Ni);function Uu(){Co.call(this),this.status=1}k(Uu,Co);function si(c){this.g=c}k(si,ju),si.prototype.ua=function(){Ge(this.g,"a")},si.prototype.ta=function(c){Ge(this.g,new Lu(c))},si.prototype.sa=function(c){Ge(this.g,new Uu)},si.prototype.ra=function(){Ge(this.g,"b")},ba.prototype.createWebChannel=ba.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,_T=function(){return new ba},vT=function(){return hr()},yT=Xn,Pm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mr.NO_ERROR=0,mr.TIMEOUT=8,mr.HTTP_ERROR=6,eh=mr,Di.COMPLETE="complete",gT=Di,Io.EventType=xi,xi.OPEN="a",xi.CLOSE="b",xi.ERROR="c",xi.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Vl=Io,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,pT=He}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});const n0="@firebase/firestore",i0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new lp("@firebase/firestore");function Wa(){return Zs.logLevel}function ce(r,...e){if(Zs.logLevel<=Pe.DEBUG){const n=e.map(Ep);Zs.debug(`Firestore (${vo}): ${r}`,...n)}}function or(r,...e){if(Zs.logLevel<=Pe.ERROR){const n=e.map(Ep);Zs.error(`Firestore (${vo}): ${r}`,...n)}}function Wr(r,...e){if(Zs.logLevel<=Pe.WARN){const n=e.map(Ep);Zs.warn(`Firestore (${vo}): ${r}`,...n)}}function Ep(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,ET(r,s,n)}function ET(r,e,n){let s=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw or(s),new Error(s)}function Fe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||ET(e,o,s)}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class iC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class rC{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new $r,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new $r)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new TT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class sC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new sC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new r0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new r0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=lC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ce(r,e){return r<e?-1:r>e?1:0}function km(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ce(s,o);{const u=bT(),f=uC(u.encode(s0(r,n)),u.encode(s0(e,n)));return f!==0?f:Ce(s,o)}}n+=s>65535?2:1}return Ce(r.length,e.length)}function s0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function uC(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ce(r[n],e[n]);return Ce(r.length,e.length)}function oo(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="__name__";class fi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return fi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=fi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ce(e.length,n.length)}static compareSegments(e,n){const s=fi.isNumericId(e),o=fi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?fi.extractNumericId(e).compare(fi.extractNumericId(n)):km(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yr.fromString(e.substring(4,e.length-2))}}class at extends fi{construct(e,n,s){return new at(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new at(n)}static emptyPath(){return new at([])}}const cC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends fi{construct(e,n,s){return new Qt(e,n,s)}static isValidIdentifier(e){return cC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a0}static keyField(){return new Qt([a0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new fe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(at.fromString(e))}static fromName(e){return new ge(at.fromString(e).popFirst(5))}static empty(){return new ge(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new at(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(r,e,n){if(!n)throw new fe(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function fC(r,e,n,s){if(e===!0&&s===!0)throw new fe(ne.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function o0(r){if(!ge.isDocumentKey(r))throw new fe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function wT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function bp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function Js(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new fe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bp(r);throw new fe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(r,e){const n={typeString:r};return e&&(n.value=e),n}function hu(r,e){if(!wT(r))throw new fe(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new fe(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=-62135596800,u0=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*u0);return new tt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<l0)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/u0}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hu(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-l0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:bt("string",tt._jsonSchemaVersion),seconds:bt("number"),nanoseconds:bt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new tt(0,0))}static max(){return new Se(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function dC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new tt(n+1,0):new tt(n,s));return new Zr(o,ge.empty(),e)}function mC(r){return new Zr(r.readTime,r.key,Xl)}class Zr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Zr(Se.min(),ge.empty(),Xl)}static max(){return new Zr(Se.max(),ge.empty(),Xl)}}function pC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Ce(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==gC)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(o=>o?J.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(T=>{f[g]=T,++m,m===u&&s(f)},T=>o(T))}})}static doWhile(e,n){return new J((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function vC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}jh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp=-1;function Lh(r){return r==null}function gh(r){return r===0&&1/r==-1/0}function _C(r){return typeof r=="number"&&Number.isInteger(r)&&!gh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="";function EC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=c0(e)),e=TC(r.get(n),e);return c0(e)}function TC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case ST:n+="";break;default:n+=u}}return n}function c0(r){return r+ST+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ss(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function AT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Gt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new f0(this.data.getIterator())}getIteratorFrom(e){return new f0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class f0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new bn([])}unionWith(e){let n=new Nt(Qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new RT("Invalid base64 string: "+u):u}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const bC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=bC.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(r.seconds),nanos:pt(r.nanos)}}function pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function es(r){return typeof r=="string"?Kt.fromBase64String(r):Kt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="server_timestamp",CT="__type__",xT="__previous_value__",NT="__local_write_time__";function Sp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[CT])===null||n===void 0?void 0:n.stringValue)===IT}function Uh(r){const e=r.mapValue.fields[xT];return Sp(e)?Uh(e):e}function Wl(r){const e=Jr(r.mapValue.fields[NT].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n,s,o,u,f,m,p,g,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=T}}const yh="(default)";class Zl{constructor(e,n){this.projectId=e,this.database=n||yh}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===yh}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="__type__",SC="__max__",Fc={mapValue:{}},OT="__vector__",vh="value";function ts(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Sp(r)?4:RC(r)?9007199254740991:AC(r)?10:11:Te(28295,{value:r})}function bi(r,e){if(r===e)return!0;const n=ts(r);if(n!==ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Wl(r).isEqual(Wl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Jr(o.timestampValue),m=Jr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return es(o.bytesValue).isEqual(es(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return pt(o.geoPointValue.latitude)===pt(u.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pt(o.integerValue)===pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pt(o.doubleValue),m=pt(u.doubleValue);return f===m?gh(f)===gh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return oo(r.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(h0(f)!==h0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!bi(f[p],m[p])))return!1;return!0}(r,e);default:return Te(52216,{left:r})}}function Jl(r,e){return(r.values||[]).find(n=>bi(n,e))!==void 0}function lo(r,e){if(r===e)return 0;const n=ts(r),s=ts(e);if(n!==s)return Ce(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=pt(u.integerValue||u.doubleValue),p=pt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return d0(r.timestampValue,e.timestampValue);case 4:return d0(Wl(r),Wl(e));case 5:return km(r.stringValue,e.stringValue);case 6:return function(u,f){const m=es(u),p=es(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const T=Ce(m[g],p[g]);if(T!==0)return T}return Ce(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ce(pt(u.latitude),pt(f.latitude));return m!==0?m:Ce(pt(u.longitude),pt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return m0(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,T;const w=u.fields||{},S=f.fields||{},M=(m=w[vh])===null||m===void 0?void 0:m.arrayValue,k=(p=S[vh])===null||p===void 0?void 0:p.arrayValue,G=Ce(((g=M==null?void 0:M.values)===null||g===void 0?void 0:g.length)||0,((T=k==null?void 0:k.values)===null||T===void 0?void 0:T.length)||0);return G!==0?G:m0(M,k)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Fc.mapValue&&f===Fc.mapValue)return 0;if(u===Fc.mapValue)return 1;if(f===Fc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let w=0;w<p.length&&w<T.length;++w){const S=km(p[w],T[w]);if(S!==0)return S;const M=lo(m[p[w]],g[T[w]]);if(M!==0)return M}return Ce(p.length,T.length)}(r.mapValue,e.mapValue);default:throw Te(23264,{le:n})}}function d0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ce(r,e);const n=Jr(r),s=Jr(e),o=Ce(n.seconds,s.seconds);return o!==0?o:Ce(n.nanos,s.nanos)}function m0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=lo(n[o],s[o]);if(u)return u}return Ce(n.length,s.length)}function uo(r){return Mm(r)}function Mm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Jr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return es(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ge.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Mm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Mm(n.fields[f])}`;return o+"}"}(r.mapValue):Te(61005,{value:r})}function th(r){switch(ts(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uh(r);return e?16+th(e):16;case 5:return 2*r.stringValue.length;case 6:return es(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+th(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ss(s.fields,(u,f)=>{o+=u.length+th(f)}),o}(r.mapValue);default:throw Te(13486,{value:r})}}function Vm(r){return!!r&&"integerValue"in r}function Ap(r){return!!r&&"arrayValue"in r}function p0(r){return!!r&&"nullValue"in r}function g0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function nh(r){return!!r&&"mapValue"in r}function AC(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[DT])===null||n===void 0?void 0:n.stringValue)===OT}function ql(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ss(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=ql(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ql(r.arrayValue.values[n]);return e}return Object.assign({},r)}function RC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===SC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!nh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(n)}setAll(e){let n=Qt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=ql(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ss(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new hn(ql(this.value))}}function PT(r){const e=[];return ss(r.fields,(n,s)=>{const o=new Qt([n]);if(nh(s)){const u=PT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new en(e,0,Se.min(),Se.min(),Se.min(),hn.empty(),0)}static newFoundDocument(e,n,s,o){return new en(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new en(e,2,n,Se.min(),Se.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Se.min(),Se.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n){this.position=e,this.inclusive=n}}function y0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=lo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function v0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!bi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n="asc"){this.field=e,this.dir=n}}function IC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{}class Ct extends kT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new xC(e,n,s):n==="array-contains"?new OC(e,s):n==="in"?new PC(e,s):n==="not-in"?new kC(e,s):n==="array-contains-any"?new MC(e,s):new Ct(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new NC(e,s):new DC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lo(n,this.value)):n!==null&&ts(this.value)===ts(n)&&this.matchesComparison(lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wi extends kT{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new wi(e,n)}matches(e){return MT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function MT(r){return r.op==="and"}function VT(r){return CC(r)&&MT(r)}function CC(r){for(const e of r.filters)if(e instanceof wi)return!1;return!0}function jm(r){if(r instanceof Ct)return r.field.canonicalString()+r.op.toString()+uo(r.value);if(VT(r))return r.filters.map(e=>jm(e)).join(",");{const e=r.filters.map(n=>jm(n)).join(",");return`${r.op}(${e})`}}function jT(r,e){return r instanceof Ct?function(s,o){return o instanceof Ct&&s.op===o.op&&s.field.isEqual(o.field)&&bi(s.value,o.value)}(r,e):r instanceof wi?function(s,o){return o instanceof wi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&jT(f,o.filters[m]),!0):!1}(r,e):void Te(19439)}function LT(r){return r instanceof Ct?function(n){return`${n.field.canonicalString()} ${n.op} ${uo(n.value)}`}(r):r instanceof wi?function(n){return n.op.toString()+" {"+n.getFilters().map(LT).join(" ,")+"}"}(r):"Filter"}class xC extends Ct{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class NC extends Ct{constructor(e,n){super(e,"in",n),this.keys=UT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class DC extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=UT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function UT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class OC extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ap(n)&&Jl(n.arrayValue,this.value)}}class PC extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class kC extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jl(this.value.arrayValue,n)}}class MC extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ap(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Jl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function _0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new VC(r,e,n,s,o,u,f)}function Rp(r){const e=Ae(r);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>jm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>uo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>uo(s)).join(",")),e.Pe=n}return e.Pe}function Ip(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!IC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!jT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!v0(r.startAt,e.startAt)&&v0(r.endAt,e.endAt)}function Lm(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function jC(r,e,n,s,o,u,f,m){return new zh(r,e,n,s,o,u,f,m)}function Cp(r){return new zh(r)}function E0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function LC(r){return r.collectionGroup!==null}function Hl(r){const e=Ae(r);if(e.Te===null){e.Te=[];const n=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Nt(Qt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Te.push(new Eh(u,s))}),n.has(Qt.keyField().canonicalString())||e.Te.push(new Eh(Qt.keyField(),s))}return e.Te}function yi(r){const e=Ae(r);return e.Ie||(e.Ie=UC(e,Hl(r))),e.Ie}function UC(r,e){if(r.limitType==="F")return _0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Eh(o.field,u)});const n=r.endAt?new _h(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new _h(r.startAt.position,r.startAt.inclusive):null;return _0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Um(r,e,n){return new zh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Bh(r,e){return Ip(yi(r),yi(e))&&r.limitType===e.limitType}function zT(r){return`${Rp(yi(r))}|lt:${r.limitType}`}function Za(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>LT(o)).join(", ")}]`),Lh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>uo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>uo(o)).join(",")),`Target(${s})`}(yi(r))}; limitType=${r.limitType})`}function qh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Hl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=y0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Hl(s),o)||s.endAt&&!function(f,m,p){const g=y0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Hl(s),o))}(r,e)}function zC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function BT(r){return(e,n)=>{let s=!1;for(const o of Hl(r)){const u=BC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function BC(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?lo(p,g):Te(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ss(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return AT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=new ot(ge.comparator);function lr(){return qC}const qT=new ot(ge.comparator);function jl(...r){let e=qT;for(const n of r)e=e.insert(n.key,n);return e}function HT(r){let e=qT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Gs(){return Fl()}function FT(){return Fl()}function Fl(){return new ia(r=>r.toString(),(r,e)=>r.isEqual(e))}const HC=new ot(ge.comparator),FC=new Nt(ge.comparator);function ke(...r){let e=FC;for(const n of r)e=e.add(n);return e}const GC=new Nt(Ce);function QC(){return GC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function GT(r){return{integerValue:""+r}}function KC(r,e){return _C(e)?GT(e):xp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(){this._=void 0}}function YC(r,e,n){return r instanceof Th?function(o,u){const f={fields:{[CT]:{stringValue:IT},[NT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Sp(u)&&(u=Uh(u)),u&&(f.fields[xT]=u),{mapValue:f}}(n,e):r instanceof eu?KT(r,e):r instanceof tu?YT(r,e):function(o,u){const f=QT(o,u),m=T0(f)+T0(o.Ee);return Vm(f)&&Vm(o.Ee)?GT(m):xp(o.serializer,m)}(r,e)}function $C(r,e,n){return r instanceof eu?KT(r,e):r instanceof tu?YT(r,e):n}function QT(r,e){return r instanceof bh?function(s){return Vm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Th extends Hh{}class eu extends Hh{constructor(e){super(),this.elements=e}}function KT(r,e){const n=$T(e);for(const s of r.elements)n.some(o=>bi(o,s))||n.push(s);return{arrayValue:{values:n}}}class tu extends Hh{constructor(e){super(),this.elements=e}}function YT(r,e){let n=$T(e);for(const s of r.elements)n=n.filter(o=>!bi(o,s));return{arrayValue:{values:n}}}class bh extends Hh{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function T0(r){return pt(r.integerValue||r.doubleValue)}function $T(r){return Ap(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function XC(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof eu&&o instanceof eu||s instanceof tu&&o instanceof tu?oo(s.elements,o.elements,bi):s instanceof bh&&o instanceof bh?bi(s.Ee,o.Ee):s instanceof Th&&o instanceof Th}(r.transform,e.transform)}class WC{constructor(e,n){this.version=e,this.transformResults=n}}class vi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vi}static exists(e){return new vi(void 0,e)}static updateTime(e){return new vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ih(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Fh{}function XT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new ZT(r.key,vi.none()):new fu(r.key,r.data,vi.none());{const n=r.data,s=hn.empty();let o=new Nt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new as(r.key,s,new bn(o.toArray()),vi.none())}}function ZC(r,e,n){r instanceof fu?function(o,u,f){const m=o.value.clone(),p=w0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof as?function(o,u,f){if(!ih(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=w0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(WT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Gl(r,e,n,s){return r instanceof fu?function(u,f,m,p){if(!ih(u.precondition,f))return m;const g=u.value.clone(),T=S0(u.fieldTransforms,p,f);return g.setAll(T),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof as?function(u,f,m,p){if(!ih(u.precondition,f))return m;const g=S0(u.fieldTransforms,p,f),T=f.data;return T.setAll(WT(u)),T.setAll(g),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,e,n,s):function(u,f,m){return ih(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function JC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=QT(s.transform,o||null);u!=null&&(n===null&&(n=hn.empty()),n.set(s.field,u))}return n||null}function b0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&oo(s,o,(u,f)=>XC(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class fu extends Fh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class as extends Fh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function WT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function w0(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,$C(f,m,n[o]))}return s}function S0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,YC(u,f,e))}return s}class ZT extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ex extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&ZC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Gl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Gl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=FT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=XT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,(n,s)=>b0(n,s))&&oo(this.baseMutations,e.baseMutations,(n,s)=>b0(n,s))}}class Np{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return HC}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Np(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Le;function rx(r){switch(r){case ne.OK:return Te(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function JT(r){if(r===void 0)return or("GRPC error has no .code"),ne.UNKNOWN;switch(r){case Tt.OK:return ne.OK;case Tt.CANCELLED:return ne.CANCELLED;case Tt.UNKNOWN:return ne.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return ne.INTERNAL;case Tt.UNAVAILABLE:return ne.UNAVAILABLE;case Tt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Tt.NOT_FOUND:return ne.NOT_FOUND;case Tt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Tt.ABORTED:return ne.ABORTED;case Tt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Tt.DATA_LOSS:return ne.DATA_LOSS;default:return Te(39323,{code:r})}}(Le=Tt||(Tt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=new Yr([4294967295,4294967295],0);function A0(r){const e=bT().encode(r),n=new mT;return n.update(e),new Uint8Array(n.digest())}function R0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Yr([n,s],0),new Yr([o,u],0)]}class Dp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ll(`Invalid padding: ${n}`);if(s<0)throw new Ll(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Yr.fromNumber(this.fe)}pe(e,n,s){let o=e.add(n.multiply(Yr.fromNumber(s)));return o.compare(sx)===1&&(o=new Yr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=A0(e),[s,o]=R0(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Dp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.fe===0)return;const n=A0(e),[s,o]=R0(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,du.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Gh(Se.min(),o,new ot(Ce),lr(),ke())}}class du{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new du(s,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.be=o}}class e1{constructor(e,n){this.targetId=e,this.De=n}}class t1{constructor(e,n,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class I0{constructor(){this.ve=0,this.Ce=C0(),this.Fe=Kt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ke(),n=ke(),s=ke();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}}),new du(this.Fe,this.Me,e,n,s)}ke(){this.xe=!1,this.Ce=C0()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class ax{constructor(e){this.We=e,this.Ge=new Map,this.ze=lr(),this.je=Gc(),this.Je=Gc(),this.He=new ot(Ce)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const s=this.tt(n);switch(e.state){case 0:this.nt(n)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((s,o)=>{this.nt(o)&&n(o)})}it(e){const n=e.targetId,s=e.De.count,o=this.st(n);if(o){const u=o.target;if(Lm(u))if(s===0){const f=new ge(u.path);this.Xe(n,f,en.newNoDocument(f,Se.min()))}else Fe(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const m=this._t(e),p=m?this.ut(m,e,f):1;if(p!==0){this.rt(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,g)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=es(s).toUint8Array()}catch(p){if(p instanceof RT)return Wr("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Dp(f,o,u)}catch(p){return Wr(p instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,n,s){return n.De.count===s-this.ht(e,n.targetId)?0:2}ht(e,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(n,u,null),o++)}),o}Pt(e){const n=new Map;this.Ge.forEach((u,f)=>{const m=this.st(f);if(m){if(u.current&&Lm(m.target)){const p=new ge(m.target.path);this.Tt(p).has(f)||this.It(f,p)||this.Xe(f,p,en.newNoDocument(p,e))}u.Ne&&(n.set(f,u.Le()),u.ke())}});let s=ke();this.Je.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ze.forEach((u,f)=>f.setReadTime(e));const o=new Gh(e,n,this.He,this.ze,s);return this.ze=lr(),this.je=Gc(),this.Je=Gc(),this.He=new ot(Ce),o}Ze(e,n){if(!this.nt(e))return;const s=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new I0,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Nt(Ce),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Nt(Ce),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new I0),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Gc(){return new ot(ge.comparator)}function C0(){return new ot(ge.comparator)}const ox={asc:"ASCENDING",desc:"DESCENDING"},lx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ux={and:"AND",or:"OR"};class cx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zm(r,e){return r.useProto3Json||Lh(e)?e:{value:e}}function wh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function n1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function hx(r,e){return wh(r,e.toTimestamp())}function _i(r){return Fe(!!r,49232),Se.fromTimestamp(function(n){const s=Jr(n);return new tt(s.seconds,s.nanos)}(r))}function Op(r,e){return Bm(r,e).canonicalString()}function Bm(r,e){const n=function(o){return new at(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function i1(r){const e=at.fromString(r);return Fe(l1(e),10190,{key:e.toString()}),e}function qm(r,e){return Op(r.databaseId,e.path)}function gm(r,e){const n=i1(e);if(n.get(1)!==r.databaseId.projectId)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(s1(n))}function r1(r,e){return Op(r.databaseId,e)}function fx(r){const e=i1(r);return e.length===4?at.emptyPath():s1(e)}function Hm(r){return new at(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function s1(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function x0(r,e,n){return{name:qm(r,e),fields:n.value.mapValue.fields}}function dx(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,T){return g.useProto3Json?(Fe(T===void 0||typeof T=="string",58123),Kt.fromBase64String(T||"")):(Fe(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Kt.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const T=g.code===void 0?ne.UNKNOWN:JT(g.code);return new fe(T,g.message||"")}(f);n=new t1(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=gm(r,s.document.name),u=_i(s.document.updateTime),f=s.document.createTime?_i(s.document.createTime):Se.min(),m=new hn({mapValue:{fields:s.document.fields}}),p=en.newFoundDocument(o,u,f,m),g=s.targetIds||[],T=s.removedTargetIds||[];n=new rh(g,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=gm(r,s.document),u=s.readTime?_i(s.readTime):Se.min(),f=en.newNoDocument(o,u),m=s.removedTargetIds||[];n=new rh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=gm(r,s.document),u=s.removedTargetIds||[];n=new rh([],u,o,null)}else{if(!("filter"in e))return Te(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new ix(o,u),m=s.targetId;n=new e1(m,f)}}return n}function mx(r,e){let n;if(e instanceof fu)n={update:x0(r,e.key,e.value)};else if(e instanceof ZT)n={delete:qm(r,e.key)};else if(e instanceof as)n={update:x0(r,e.key,e.data),updateMask:wx(e.fieldMask)};else{if(!(e instanceof ex))return Te(16599,{Rt:e.type});n={verify:qm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Th)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof eu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof tu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof bh)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw Te(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:hx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)}(r,e.precondition)),n}function px(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?_i(o.updateTime):_i(u);return f.isEqual(Se.min())&&(f=_i(u)),new WC(f,o.transformResults||[])}(n,e))):[]}function gx(r,e){return{documents:[r1(r,e.path)]}}function yx(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=r1(r,o);const u=function(g){if(g.length!==0)return o1(wi.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(T=>function(S){return{field:Ja(S.field),direction:Ex(S.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=zm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:n,parent:o}}function vx(r){let e=fx(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=function(w){const S=a1(w);return S instanceof wi&&VT(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(S=>function(k){return new Eh(eo(k.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(w){let S;return S=typeof w=="object"?w.value:w,Lh(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(w){const S=!!w.before,M=w.values||[];return new _h(M,S)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const S=!w.before,M=w.values||[];return new _h(M,S)}(n.endAt)),jC(e,o,f,u,m,"F",p,g)}function _x(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function a1(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=eo(n.unaryFilter.field);return Ct.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=eo(n.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=eo(n.unaryFilter.field);return Ct.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=eo(n.unaryFilter.field);return Ct.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(r):r.fieldFilter!==void 0?function(n){return Ct.create(eo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return wi.create(n.compositeFilter.filters.map(s=>a1(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(r):Te(30097,{filter:r})}function Ex(r){return ox[r]}function Tx(r){return lx[r]}function bx(r){return ux[r]}function Ja(r){return{fieldPath:r.canonicalString()}}function eo(r){return Qt.fromServerFormat(r.fieldPath)}function o1(r){return r instanceof Ct?function(n){if(n.op==="=="){if(g0(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NAN"}};if(p0(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(g0(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NAN"}};if(p0(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(n.field),op:Tx(n.op),value:n.value}}}(r):r instanceof wi?function(n){const s=n.getFilters().map(o=>o1(o));return s.length===1?s[0]:{compositeFilter:{op:bx(n.op),filters:s}}}(r):Te(54877,{filter:r})}function wx(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function l1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Gr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this.gt=e}}function Ax(r){const e=vx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Um(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(){this.Dn=new Ix}addToCollectionParentIndex(e,n){return this.Dn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Zr.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class Ix{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Nt(at.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Nt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},u1=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(u1,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new co(0)}static ur(){return new co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="LruGarbageCollector",Cx=1048576;function O0([r,e],[n,s]){const o=Ce(r,n);return o===0?Ce(e,s):o}class xx{constructor(e){this.Tr=e,this.buffer=new Nt(O0),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();O0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Nx{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ce(D0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Eo(n)?ce(D0,"Ignoring IndexedDB error during garbage collection: ",n):await _o(n)}await this.Rr(3e5)})}}class Dx{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(jh.ue);const s=new xx(n);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(N0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N0):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let s,o,u,f,m,p,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),Wa()<=Pe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function Ox(r,e){return new Dx(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this.changes=new ia(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Gl(s.mutation,o,bn.empty(),tt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ke()){const o=Gs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=jl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Gs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ke()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=lr();const f=Fl(),m=function(){return Fl()}();return n.forEach((p,g)=>{const T=s.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof as)?u=u.insert(g.key,g):T!==void 0?(f.set(g.key,T.mutation.getFieldMask()),Gl(T.mutation,g,T.mutation.getFieldMask(),tt.now())):f.set(g.key,bn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,T)=>f.set(g,T)),n.forEach((g,T)=>{var w;return m.set(g,new kx(T,(w=f.get(g))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Fl();let o=new ot((f,m)=>f-m),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let T=s.get(p)||bn.empty();T=m.applyToLocalView(g,T),s.set(p,T);const w=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,T=p.value,w=FT();T.forEach(S=>{if(!u.has(S)){const M=XT(n.get(S),s.get(S));M!==null&&w.set(S,M),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return J.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(Gs());let m=Xl,p=u;return f.next(g=>J.forEach(g,(T,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(T)?J.resolve():this.remoteDocumentCache.getEntry(e,T).next(S=>{p=p.insert(T,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,ke())).next(T=>({batchId:m,changes:HT(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let o=jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=jl();return this.indexManager.getCollectionParents(e,u).next(m=>J.forEach(m,p=>{const g=function(w,S){return new zh(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(T=>{T.forEach((w,S)=>{f=f.insert(w,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const T=g.getKey();f.get(T)===null&&(f=f.insert(T,en.newInvalidDocument(T)))});let m=jl();return f.forEach((p,g)=>{const T=u.get(p);T!==void 0&&Gl(T.mutation,g,bn.empty(),tt.now()),qh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return J.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(o){return{id:o.id,version:o.version,createTime:_i(o.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(o){return{name:o.name,query:Ax(o.bundledQuery),readTime:_i(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this.overlays=new ot(ge.comparator),this.kr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Gs();return J.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.wt(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=Gs(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ot((g,T)=>g-T);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let T=u.get(g.largestBatchId);T===null&&(T=Gs(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=Gs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,T)=>m.set(g,T)),!(m.size()>=o)););return J.resolve(m)}wt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new nx(n,s));let u=this.kr.get(n);u===void 0&&(u=ke(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(){this.qr=new Nt(jt.Qr),this.$r=new Nt(jt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Wr(new jt(e,n))}Gr(e,n){e.forEach(s=>this.removeReference(s,n))}zr(e){const n=new ge(new at([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.$r.forEachInRange([s,o],f=>{this.Wr(f),u.push(f.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new ge(new at([])),s=new jt(n,e),o=new jt(n,e+1);let u=ke();return this.$r.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new jt(e,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ge.comparator(e.key,n.key)||Ce(e.Hr,n.Hr)}static Ur(e,n){return Ce(e.Hr,n.Hr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Nt(jt.Qr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new tx(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Yr=this.Yr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?wp:this.er-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],f=>{const m=this.Zr(f.Hr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Nt(Ce);return n.forEach(o=>{const u=new jt(o,0),f=new jt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],m=>{s=s.add(m.Hr)})}),J.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new jt(new ge(u),0);let m=new Nt(Ce);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)},f),J.resolve(this.ei(m))}ei(e){const n=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Fe(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return J.forEach(n.mutations,o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,n){const s=new jt(n,0),o=this.Yr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.ni=e,this.docs=function(){return new ot(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=lr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=lr();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||pC(mC(T),s)<=0||(o.has(T.key)||qh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}ri(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new Bx(this)}getSize(e){return J.resolve(this.size)}}class Bx extends Px{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.persistence=e,this.ii=new ia(n=>Rp(n),Ip),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.si=0,this.oi=new Pp,this.targetCount=0,this._i=co.ar()}forEachTarget(e,n){return this.ii.forEach((s,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),J.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new co(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.hr(n),J.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ii.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.ii.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.oi.Kr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.oi.Jr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n){this.ai={},this.overlays={},this.ui=new jh(0),this.ci=!1,this.ci=!0,this.li=new Lx,this.referenceDelegate=e(this),this.hi=new qx(this),this.indexManager=new Rx,this.remoteDocumentCache=function(o){return new zx(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new Sx(n),this.Ti=new Vx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ai[e.toKey()];return s||(s=new Ux(n,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new Hx(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,n){return J.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,n)))}}class Hx extends yC{constructor(e){super(),this.currentSequenceNumber=e}}class kp{constructor(e){this.persistence=e,this.Ai=new Pp,this.Ri=null}static Vi(e){return new kp(e)}get mi(){if(this.Ri)return this.Ri;throw Te(60996)}addReference(e,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.mi,s=>{const o=ge.fromPath(s);return this.fi(e,o).next(u=>{u||n.removeEntry(o,Se.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return J.or([()=>J.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Sh{constructor(e,n){this.persistence=e,this.gi=new ia(s=>EC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Ox(this,n)}static Vi(e,n){return new Sh(e,n)}Ii(){}di(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}yr(e){let n=0;return this.gr(e,s=>{n++}).next(()=>n)}gr(e,n){return J.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(u=>u?J.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,f=>this.Sr(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),J.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=th(e.data.value)),n}Sr(e,n,s){return J.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.gi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Is=s,this.ds=o}static Es(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Mp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return yA()?8:vC(tn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ps(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ys(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new Fx;return this.ws(e,n,f).next(m=>{if(u.result=m,this.Rs)return this.Ss(e,n,f,m.size)})}).next(()=>u.result)}Ss(e,n,s,o){return s.documentReadCount<this.Vs?(Wa()<=Pe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Wa()<=Pe.DEBUG&&ce("QueryEngine","Query:",Za(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(Wa()<=Pe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(n))):J.resolve())}ps(e,n){if(E0(n))return J.resolve(null);let s=yi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Um(n,null,"F"),s=yi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=ke(...u);return this.gs.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.bs(n,m);return this.Ds(n,g,f,p.readTime)?this.ps(e,Um(n,null,"F")):this.vs(e,g,n,p)}))})))}ys(e,n,s,o){return E0(n)||o.isEqual(Se.min())?J.resolve(null):this.gs.getDocuments(e,s).next(u=>{const f=this.bs(n,u);return this.Ds(n,f,s,o)?J.resolve(null):(Wa()<=Pe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(n)),this.vs(e,f,n,dC(o,Xl)).next(m=>m))})}bs(e,n){let s=new Nt(BT(e));return n.forEach((o,u)=>{qh(e,u)&&(s=s.add(u))}),s}Ds(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,n,s){return Wa()<=Pe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Za(n)),this.gs.getDocumentsMatchingQuery(e,n,Zr.min(),s)}vs(e,n,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="LocalStore",Qx=3e8;class Kx{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.Fs=new ot(Ce),this.Ms=new ia(u=>Rp(u),Ip),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Mx(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function Yx(r,e,n,s){return new Kx(r,e,n,s)}async function h1(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ns(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=ke();for(const g of o){f.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of u){m.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Bs:g,removedBatchIds:f,addedBatchIds:m}))})})}function $x(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return function(m,p,g,T){const w=g.batch,S=w.keys();let M=J.resolve();return S.forEach(k=>{M=M.next(()=>T.getEntry(p,k)).next(G=>{const B=g.docVersions.get(k);Fe(B!==null,48541),G.version.compareTo(B)<0&&(w.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),T.addEntry(G)))})}),M.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function f1(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function Xx(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];e.targetChanges.forEach((T,w)=>{const S=o.get(w);if(!S)return;m.push(n.hi.removeMatchingKeys(u,T.removedDocuments,w).next(()=>n.hi.addMatchingKeys(u,T.addedDocuments,w)));let M=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?M=M.withResumeToken(Kt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):T.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(T.resumeToken,s)),o=o.insert(w,M),function(G,B,Y){return G.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=Qx?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(S,M,T)&&m.push(n.hi.updateTargetData(u,M))});let p=lr(),g=ke();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(Wx(u,f,e.documentUpdates).next(T=>{p=T.Ls,g=T.ks})),!s.isEqual(Se.min())){const T=n.hi.getLastRemoteSnapshotVersion(u).next(w=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return J.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Fs=o,u))}function Wx(r,e,n){let s=ke(),o=ke();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=lr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ce(Vp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Ls:f,ks:o}})}function Zx(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=wp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Jx(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.hi.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):n.hi.allocateTargetId(s).next(f=>(o=new Gr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(e,s.targetId)),s})}async function Fm(r,e,n){const s=Ae(r),o=s.Fs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Eo(f))throw f;ce(Vp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function P0(r,e,n){const s=Ae(r);let o=Se.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,T){const w=Ae(p),S=w.Ms.get(T);return S!==void 0?J.resolve(w.Fs.get(S)):w.hi.getTargetData(g,T)}(s,f,yi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:ke())).next(m=>(eN(s,zC(e),m),{documents:m,qs:u})))}function eN(r,e,n){let s=r.xs.get(e)||Se.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.xs.set(e,s)}class k0{constructor(){this.activeTargetIds=QC()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tN{constructor(){this.Fo=new k0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,s){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new k0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="ConnectivityMonitor";class V0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ce(M0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ce(M0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc=null;function Gm(){return Qc===null?Qc=function(){return 268435456+Math.round(2147483648*Math.random())}():Qc++,"0x"+Qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="RestConnection",iN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rN{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===yh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=Gm(),m=this.Go(e,n.toUriEncodedString());ce(ym,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),T=ta(g);return this.jo(e,m,p,s,T).then(w=>(ce(ym,`Received RPC '${e}' ${f}: `,w),w),w=>{throw Wr(ym,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",s),w})}Jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}zo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}Go(e,n){const s=iN[e];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class aN extends rN{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,s,o,u){const f=Gm();return new Promise((m,p)=>{const g=new pT;g.setWithCredentials(!0),g.listenOnce(gT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case eh.NO_ERROR:const w=g.getResponseJson();ce(Zt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case eh.TIMEOUT:ce(Zt,`RPC '${e}' ${f} timed out`),p(new fe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const S=g.getStatus();if(ce(Zt,`RPC '${e}' ${f} failed with status:`,S,"response text:",g.getResponseText()),S>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const k=M==null?void 0:M.error;if(k&&k.status&&k.message){const G=function(Y){const ee=Y.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(ee)>=0?ee:ne.UNKNOWN}(k.status);p(new fe(G,k.message))}else p(new fe(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new fe(ne.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{c_:e,streamId:f,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ce(Zt,`RPC '${e}' ${f} completed.`)}});const T=JSON.stringify(o);ce(Zt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",T,s,15)})}P_(e,n,s){const o=Gm(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=_T(),m=vT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");ce(Zt,`Creating RPC '${e}' stream ${o}: ${T}`,p);const w=f.createWebChannel(T,p);this.T_(w);let S=!1,M=!1;const k=new sN({Ho:B=>{M?ce(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(S||(ce(Zt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),S=!0),ce(Zt,`RPC '${e}' stream ${o} sending:`,B),w.send(B))},Yo:()=>w.close()}),G=(B,Y,ee)=>{B.listen(Y,ie=>{try{ee(ie)}catch(ue){setTimeout(()=>{throw ue},0)}})};return G(w,Vl.EventType.OPEN,()=>{M||(ce(Zt,`RPC '${e}' stream ${o} transport opened.`),k.s_())}),G(w,Vl.EventType.CLOSE,()=>{M||(M=!0,ce(Zt,`RPC '${e}' stream ${o} transport closed`),k.__(),this.I_(w))}),G(w,Vl.EventType.ERROR,B=>{M||(M=!0,Wr(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),k.__(new fe(ne.UNAVAILABLE,"The operation could not be completed")))}),G(w,Vl.EventType.MESSAGE,B=>{var Y;if(!M){const ee=B.data[0];Fe(!!ee,16349);const ie=ee,ue=(ie==null?void 0:ie.error)||((Y=ie[0])===null||Y===void 0?void 0:Y.error);if(ue){ce(Zt,`RPC '${e}' stream ${o} received error:`,ue);const ae=ue.status;let ve=function(I){const N=Tt[I];if(N!==void 0)return JT(N)}(ae),O=ue.message;ve===void 0&&(ve=ne.INTERNAL,O="Unknown error status: "+ae+" with message "+ue.message),M=!0,k.__(new fe(ve,O)),w.close()}else ce(Zt,`RPC '${e}' stream ${o} received:`,ee),k.a_(ee)}}),G(m,yT.STAT_EVENT,B=>{B.stat===Pm.PROXY?ce(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===Pm.NOPROXY&&ce(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.o_()},0),k}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(r){return new cx(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="PersistentStream";class m1{constructor(e,n,s,o,u,f,m,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new d1(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(or(n.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===n&&this.W_(s,o)},s=>{e(()=>{const o=new fe(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,n){const s=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ce(j0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(ce(j0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oN extends m1{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=dx(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?_i(f.readTime):Se.min()}(e);return this.listener.J_(n,s)}H_(e){const n={};n.database=Hm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Lm(p)?{documents:gx(u,p)}:{query:yx(u,p).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=n1(u,f.resumeToken);const g=zm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=wh(u,f.snapshotVersion.toTimestamp());const g=zm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=_x(this.serializer,e);s&&(n.labels=s),this.k_(n)}Y_(e){const n={};n.database=Hm(this.serializer),n.removeTarget=e,this.k_(n)}}class lN extends m1{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=px(e.writeResults,e.commitTime),s=_i(e.commitTime);return this.listener.ta(s,n)}na(){const e={};e.database=Hm(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>mx(this.serializer,s))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{}class cN extends uN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Wo(e,Bm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ne.UNKNOWN,u.toString())})}Jo(e,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Jo(e,Bm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(ne.UNKNOWN,f.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class hN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(or(n),this._a=!1):ce("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="RemoteStore";class fN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(f=>{s.enqueueAndForget(async()=>{ra(this)&&(ce(ea,"Restarting streams for network reachability change."),await async function(p){const g=Ae(p);g.Ia.add(4),await mu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await Kh(g)}(this))})}),this.Aa=new hN(s,o)}}async function Kh(r){if(ra(r))for(const e of r.da)await e(!0)}async function mu(r){for(const e of r.da)await e(!1)}function p1(r,e){const n=Ae(r);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),zp(n)?Up(n):To(n).x_()&&Lp(n,e))}function jp(r,e){const n=Ae(r),s=To(n);n.Ta.delete(e),s.x_()&&g1(n,e),n.Ta.size===0&&(s.x_()?s.B_():ra(n)&&n.Aa.set("Unknown"))}function Lp(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}To(r).H_(e)}function g1(r,e){r.Ra.$e(e),To(r).Y_(e)}function Up(r){r.Ra=new ax({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),To(r).start(),r.Aa.aa()}function zp(r){return ra(r)&&!To(r).M_()&&r.Ta.size>0}function ra(r){return Ae(r).Ia.size===0}function y1(r){r.Ra=void 0}async function dN(r){r.Aa.set("Online")}async function mN(r){r.Ta.forEach((e,n)=>{Lp(r,e)})}async function pN(r,e){y1(r),zp(r)?(r.Aa.la(e),Up(r)):r.Aa.set("Unknown")}async function gN(r,e,n){if(r.Aa.set("Online"),e instanceof t1&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ta.delete(m),o.Ra.removeTarget(m))}(r,e)}catch(s){ce(ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ah(r,s)}else if(e instanceof rh?r.Ra.Ye(e):e instanceof e1?r.Ra.it(e):r.Ra.et(e),!n.isEqual(Se.min()))try{const s=await f1(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ta.get(g);T&&u.Ta.set(g,T.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const T=u.Ta.get(p);if(!T)return;u.Ta.set(p,T.withResumeToken(Kt.EMPTY_BYTE_STRING,T.snapshotVersion)),g1(u,p);const w=new Gr(T.target,p,g,T.sequenceNumber);Lp(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ce(ea,"Failed to raise snapshot:",s),await Ah(r,s)}}async function Ah(r,e,n){if(!Eo(e))throw e;r.Ia.add(1),await mu(r),r.Aa.set("Offline"),n||(n=()=>f1(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ce(ea,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await Kh(r)})}function v1(r,e){return e().catch(n=>Ah(r,n,e))}async function Yh(r){const e=Ae(r),n=ns(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:wp;for(;yN(e);)try{const o=await Zx(e.localStore,s);if(o===null){e.Pa.length===0&&n.B_();break}s=o.batchId,vN(e,o)}catch(o){await Ah(e,o)}_1(e)&&E1(e)}function yN(r){return ra(r)&&r.Pa.length<10}function vN(r,e){r.Pa.push(e);const n=ns(r);n.x_()&&n.Z_&&n.X_(e.mutations)}function _1(r){return ra(r)&&!ns(r).M_()&&r.Pa.length>0}function E1(r){ns(r).start()}async function _N(r){ns(r).na()}async function EN(r){const e=ns(r);for(const n of r.Pa)e.X_(n.mutations)}async function TN(r,e,n){const s=r.Pa.shift(),o=Np.from(s,e,n);await v1(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Yh(r)}async function bN(r,e){e&&ns(r).Z_&&await async function(s,o){if(function(f){return rx(f)&&f!==ne.ABORTED}(o.code)){const u=s.Pa.shift();ns(s).N_(),await v1(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Yh(s)}}(r,e),_1(r)&&E1(r)}async function L0(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),ce(ea,"RemoteStore received new credentials");const s=ra(n);n.Ia.add(3),await mu(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Kh(n)}async function wN(r,e){const n=Ae(r);e?(n.Ia.delete(2),await Kh(n)):e||(n.Ia.add(2),await mu(n),n.Aa.set("Unknown"))}function To(r){return r.Va||(r.Va=function(n,s,o){const u=Ae(n);return u.ia(),new oN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:dN.bind(null,r),e_:mN.bind(null,r),n_:pN.bind(null,r),J_:gN.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),zp(r)?Up(r):r.Aa.set("Unknown")):(await r.Va.stop(),y1(r))})),r.Va}function ns(r){return r.ma||(r.ma=function(n,s,o){const u=Ae(n);return u.ia(),new lN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:_N.bind(null,r),n_:bN.bind(null,r),ea:EN.bind(null,r),ta:TN.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await Yh(r)):(await r.ma.stop(),r.Pa.length>0&&(ce(ea,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Bp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qp(r,e){if(or("AsyncQueue",`${e}: ${r}`),Eo(r))return new fe(ne.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{static emptySet(e){return new so(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=jl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof so)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new so;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(){this.fa=new ot(ge.comparator)}track(e){const n=e.doc.key,s=this.fa.get(n);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(n,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(n):e.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Te(63341,{At:e,ga:s}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,s)=>{e.push(s)}),e}}class ho{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new ho(e,n,so.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class AN{constructor(){this.queries=z0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=z0(),u.forEach((f,m)=>{for(const p of m.wa)p.onError(s)})})(this,new fe(ne.ABORTED,"Firestore shutting down"))}}function z0(){return new ia(r=>zT(r),Bh)}async function RN(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new SN,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=qp(f,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.wa.push(e),e.va(n.onlineState),u.ya&&e.Ca(u.ya)&&Hp(n)}async function IN(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.wa.indexOf(e);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function CN(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.wa)m.Ca(o)&&(s=!0);f.ya=o}}s&&Hp(n)}function xN(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(e)}function Hp(r){r.Da.forEach(e=>{e.next()})}var Qm,B0;(B0=Qm||(Qm={})).Fa="default",B0.Cache="cache";class NN{constructor(e,n,s){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ho(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Qm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){this.key=e}}class b1{constructor(e){this.key=e}}class DN{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ke(),this.mutatedKeys=ke(),this.Xa=BT(e),this.eu=new so(this.Xa)}get tu(){return this.Ha}nu(e,n){const s=n?n.ru:new U0,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,w)=>{const S=o.get(T),M=qh(this.query,w)?w:null,k=!!S&&this.mutatedKeys.has(S.key),G=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let B=!1;S&&M?S.data.isEqual(M.data)?k!==G&&(s.track({type:3,doc:M}),B=!0):this.iu(S,M)||(s.track({type:2,doc:M}),B=!0,(p&&this.Xa(M,p)>0||g&&this.Xa(M,g)<0)&&(m=!0)):!S&&M?(s.track({type:0,doc:M}),B=!0):S&&!M&&(s.track({type:1,doc:S}),B=!0,(p||g)&&(m=!0)),B&&(M?(f=f.add(M),u=G?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{eu:f,ru:s,Ds:m,mutatedKeys:u}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const f=e.ru.pa();f.sort((T,w)=>function(M,k){const G=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{At:B})}};return G(M)-G(k)}(T.type,w.type)||this.Xa(T.doc,w.doc)),this.su(s),o=o!=null&&o;const m=n&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,f.length!==0||g?{snapshot:new ho(this.query,e.eu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new U0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ke(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const n=[];return e.forEach(s=>{this.Za.has(s)||n.push(new b1(s))}),this.Za.forEach(s=>{e.has(s)||n.push(new T1(s))}),n}uu(e){this.Ha=e.qs,this.Za=ke();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return ho.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Fp="SyncEngine";class ON{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class PN{constructor(e){this.key=e,this.lu=!1}}class kN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new ia(m=>zT(m),Bh),this.Tu=new Map,this.Iu=new Set,this.du=new ot(ge.comparator),this.Eu=new Map,this.Au=new Pp,this.Ru={},this.Vu=new Map,this.mu=co.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function MN(r,e,n=!0){const s=C1(r);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await w1(s,e,n,!0),o}async function VN(r,e){const n=C1(r);await w1(n,e,!0,!1)}async function w1(r,e,n,s){const o=await Jx(r.localStore,yi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await jN(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&p1(r.remoteStore,o),m}async function jN(r,e,n,s,o){r.gu=(w,S,M)=>async function(G,B,Y,ee){let ie=B.view.nu(Y);ie.Ds&&(ie=await P0(G.localStore,B.query,!1).then(({documents:O})=>B.view.nu(O,ie)));const ue=ee&&ee.targetChanges.get(B.targetId),ae=ee&&ee.targetMismatches.get(B.targetId)!=null,ve=B.view.applyChanges(ie,G.isPrimaryClient,ue,ae);return H0(G,B.targetId,ve._u),ve.snapshot}(r,w,S,M);const u=await P0(r.localStore,e,!0),f=new DN(e,u.qs),m=f.nu(u.documents),p=du.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);H0(r,n,g._u);const T=new ON(e,n,f);return r.Pu.set(e,T),r.Tu.has(n)?r.Tu.get(n).push(e):r.Tu.set(n,[e]),g.snapshot}async function LN(r,e,n){const s=Ae(r),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(f=>!Bh(f,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Fm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&jp(s.remoteStore,o.targetId),Km(s,o.targetId)}).catch(_o)):(Km(s,o.targetId),await Fm(s.localStore,o.targetId,!0))}async function UN(r,e){const n=Ae(r),s=n.Pu.get(e),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),jp(n.remoteStore,s.targetId))}async function zN(r,e,n){const s=KN(r);try{const o=await function(f,m){const p=Ae(f),g=tt.now(),T=m.reduce((M,k)=>M.add(k.key),ke());let w,S;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let k=lr(),G=ke();return p.Os.getEntries(M,T).next(B=>{k=B,k.forEach((Y,ee)=>{ee.isValidDocument()||(G=G.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,k)).next(B=>{w=B;const Y=[];for(const ee of m){const ie=JC(ee,w.get(ee.key).overlayedDocument);ie!=null&&Y.push(new as(ee.key,ie,PT(ie.value.mapValue),vi.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,Y,m)}).next(B=>{S=B;const Y=B.applyToLocalDocumentSet(w,G);return p.documentOverlayCache.saveOverlays(M,B.batchId,Y)})}).then(()=>({batchId:S.batchId,changes:HT(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Ru[f.currentUser.toKey()];g||(g=new ot(Ce)),g=g.insert(m,p),f.Ru[f.currentUser.toKey()]=g}(s,o.batchId,n),await pu(s,o.changes),await Yh(s.remoteStore)}catch(o){const u=qp(o,"Failed to persist write");n.reject(u)}}async function S1(r,e){const n=Ae(r);try{const s=await Xx(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?Fe(f.lu,14607):o.removedDocuments.size>0&&(Fe(f.lu,42227),f.lu=!1))}),await pu(n,s,e)}catch(s){await _o(s)}}function q0(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ae(f);p.onlineState=m;let g=!1;p.queries.forEach((T,w)=>{for(const S of w.wa)S.va(m)&&(g=!0)}),g&&Hp(p)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function BN(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new ot(ge.comparator);f=f.insert(u,en.newNoDocument(u,Se.min()));const m=ke().add(u),p=new Gh(Se.min(),new Map,new ot(Ce),f,m);await S1(s,p),s.du=s.du.remove(u),s.Eu.delete(e),Gp(s)}else await Fm(s.localStore,e,!1).then(()=>Km(s,e,n)).catch(_o)}async function qN(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await $x(n.localStore,e);R1(n,s,null),A1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await pu(n,o)}catch(o){await _o(o)}}async function HN(r,e,n){const s=Ae(r);try{const o=await function(f,m){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let T;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>(Fe(w!==null,37113),T=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T)).next(()=>p.localDocuments.getDocuments(g,T))})}(s.localStore,e);R1(s,e,n),A1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await pu(s,o)}catch(o){await _o(o)}}function A1(r,e){(r.Vu.get(e)||[]).forEach(n=>{n.resolve()}),r.Vu.delete(e)}function R1(r,e,n){const s=Ae(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function Km(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(s=>{r.Au.containsKey(s)||I1(r,s)})}function I1(r,e){r.Iu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(jp(r.remoteStore,n),r.du=r.du.remove(e),r.Eu.delete(n),Gp(r))}function H0(r,e,n){for(const s of n)s instanceof T1?(r.Au.addReference(s.key,e),FN(r,s)):s instanceof b1?(ce(Fp,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||I1(r,s.key)):Te(19791,{yu:s})}function FN(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(ce(Fp,"New document in limbo: "+n),r.Iu.add(s),Gp(r))}function Gp(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const n=new ge(at.fromString(e)),s=r.mu.next();r.Eu.set(s,new PN(n)),r.du=r.du.insert(n,s),p1(r.remoteStore,new Gr(yi(Cp(n.path)),s,"TargetPurposeLimboResolution",jh.ue))}}async function pu(r,e,n){const s=Ae(r),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach((m,p)=>{f.push(s.gu(p,e,n).then(g=>{var T;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Mp.Es(p.targetId,g);u.push(w)}}))}),await Promise.all(f),s.hu.J_(o),await async function(p,g){const T=Ae(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>J.forEach(g,S=>J.forEach(S.Is,M=>T.persistence.referenceDelegate.addReference(w,S.targetId,M)).next(()=>J.forEach(S.ds,M=>T.persistence.referenceDelegate.removeReference(w,S.targetId,M)))))}catch(w){if(!Eo(w))throw w;ce(Vp,"Failed to update sequence numbers: "+w)}for(const w of g){const S=w.targetId;if(!w.fromCache){const M=T.Fs.get(S),k=M.snapshotVersion,G=M.withLastLimboFreeSnapshotVersion(k);T.Fs=T.Fs.insert(S,G)}}}(s.localStore,u))}async function GN(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){ce(Fp,"User change. New user:",e.toKey());const s=await h1(n.localStore,e);n.currentUser=e,function(u,f){u.Vu.forEach(m=>{m.forEach(p=>{p.reject(new fe(ne.CANCELLED,f))})}),u.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await pu(n,s.Bs)}}function QN(r,e){const n=Ae(r),s=n.Eu.get(e);if(s&&s.lu)return ke().add(s.key);{let o=ke();const u=n.Tu.get(e);if(!u)return o;for(const f of u){const m=n.Pu.get(f);o=o.unionWith(m.view.tu)}return o}}function C1(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=S1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BN.bind(null,e),e.hu.J_=CN.bind(null,e.eventManager),e.hu.pu=xN.bind(null,e.eventManager),e}function KN(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HN.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return Yx(this.persistence,new Gx,e.initialUser,this.serializer)}Du(e){return new c1(kp.Vi,this.serializer)}bu(e){return new tN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class YN extends Rh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Fe(this.persistence.referenceDelegate instanceof Sh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Nx(s,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new c1(s=>Sh.Vi(s,n),this.serializer)}}class Ym{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>q0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=GN.bind(null,this.syncEngine),await wN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AN}()}createDatastore(e){const n=Qh(e.databaseInfo.databaseId),s=function(u){return new aN(u)}(e.databaseInfo);return function(u,f,m,p){return new cN(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new fN(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>q0(this.syncEngine,n,0),function(){return V0.C()?new V0:new nN}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,T){const w=new kN(o,u,f,m,p,g);return T&&(w.fu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ae(o);ce(ea,"RemoteStore shutting down."),u.Ia.add(5),await mu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ym.provider={build:()=>new Ym};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="FirestoreClient";class XN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=Tp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ce(is,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ce(is,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=qp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function _m(r,e){r.asyncQueue.verifyOperationInProgress(),ce(is,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await h1(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{Wr("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{ce("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Wr("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function F0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await WN(r);ce(is,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>L0(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>L0(e.remoteStore,o)),r._onlineComponents=e}async function WN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(is,"Using user provided OfflineComponentProvider");try{await _m(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Wr("Error using user provided cache. Falling back to memory cache: "+n),await _m(r,new Rh)}}else ce(is,"Using default OfflineComponentProvider"),await _m(r,new YN(void 0));return r._offlineComponents}async function x1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(is,"Using user provided OnlineComponentProvider"),await F0(r,r._uninitializedComponentsProvider._online)):(ce(is,"Using default OnlineComponentProvider"),await F0(r,new Ym))),r._onlineComponents}function ZN(r){return x1(r).then(e=>e.syncEngine)}async function JN(r){const e=await x1(r),n=e.eventManager;return n.onListen=MN.bind(null,e.syncEngine),n.onUnlisten=LN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=UN.bind(null,e.syncEngine),n}function e4(r,e,n={}){const s=new $r;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const T=new $N({next:S=>{T.Ou(),f.enqueueAndForget(()=>IN(u,w));const M=S.docs.has(m);!M&&S.fromCache?g.reject(new fe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&S.fromCache&&p&&p.source==="server"?g.reject(new fe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),w=new NN(Cp(m.path),T,{includeMetadataChanges:!0,ka:!0});return RN(u,w)}(await JN(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="firestore.googleapis.com",Q0=!0;class K0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=D1,this.ssl=Q0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Q0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=u1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Cx)throw new fe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=N1((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qp{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new nC;switch(s.type){case"firstParty":return new aC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=G0.get(n);s&&(ce("ComponentProvider","Removing Datastore"),G0.delete(n),s.terminate())}(this),Promise.resolve()}}function t4(r,e,n,s={}){var o;r=Js(r,Qp);const u=ta(e),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u&&(ap(`https://${p}`),op("Firestore",!0)),f.host!==D1&&f.host!==p&&Wr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!Ys(g,m)&&(r._setSettings(g),s.mockUserToken)){let T,w;if(typeof s.mockUserToken=="string")T=s.mockUserToken,w=Jt.MOCK_USER;else{T=RE(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new fe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Jt(S)}r._authCredentials=new iC(new TT(T,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Kp(this.firestore,e,this._query)}}class xt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(hu(n,xt._jsonSchema))return new xt(e,s||null,new ge(at.fromString(n.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:bt("string",xt._jsonSchemaVersion),referencePath:bt("string")};class nu extends Kp{constructor(e,n,s){super(e,n,Cp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new ge(e))}withConverter(e){return new nu(this.firestore,e,this._path)}}function $m(r,e,...n){if(r=Lt(r),arguments.length===1&&(e=Tp.newId()),hC("doc","path",e),r instanceof Qp){const s=at.fromString(e,...n);return o0(s),new xt(r,null,new ge(s))}{if(!(r instanceof xt||r instanceof nu))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(at.fromString(e,...n));return o0(s),new xt(r.firestore,r instanceof nu?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="AsyncQueue";class $0{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new d1(this,"async_queue_retry"),this.oc=()=>{const s=vm();s&&ce(Y0,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const n=vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new $r;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Eo(e))throw e;ce(Y0,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,or("INTERNAL UNHANDLED ERROR: ",X0(s)),s}).then(s=>(this.nc=!1,s))));return this._c=n,n}enqueueAfterDelay(e,n,s){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const o=Bp.createAndSchedule(this,e,n,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Te(47125,{hc:X0(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function X0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class $h extends Qp{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new $0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $0(e),this._firestoreClient=void 0,await e}}}function n4(r,e){const n=typeof r=="object"?r:cp(),s=typeof r=="string"?r:yh,o=Ph(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=wE("firestore");u&&t4(o,...u)}return o}function O1(r){if(r._terminated)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||i4(r),r._firestoreClient}function i4(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,g,T){return new wC(m,p,g,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,N1(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new XN(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(Kt.fromBase64String(e))}catch(n){throw new fe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hu(e,Vn._jsonSchema))return Vn.fromBase64String(e.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:bt("string",Vn._jsonSchemaVersion),bytes:bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ei._jsonSchemaVersion}}static fromJSON(e){if(hu(e,Ei._jsonSchema))return new Ei(e.latitude,e.longitude)}}Ei._jsonSchemaVersion="firestore/geoPoint/1.0",Ei._jsonSchema={type:bt("string",Ei._jsonSchemaVersion),latitude:bt("number"),longitude:bt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hu(e,Ti._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ti(e.vectorValues);throw new fe(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ti._jsonSchemaVersion="firestore/vectorValue/1.0",Ti._jsonSchema={type:bt("string",Ti._jsonSchemaVersion),vectorValues:bt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=/^__.*__$/;class s4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new as(e,this.data,this.fieldMask,n,this.fieldTransforms):new fu(e,this.data,n,this.fieldTransforms)}}class P1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new as(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function k1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ec:r})}}class $p{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new $p(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Ih(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(k1(this.Ec)&&r4.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class a4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Qh(e)}Dc(e,n,s,o=!1){return new $p({Ec:e,methodName:n,bc:s,path:Qt.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function M1(r){const e=r._freezeSettings(),n=Qh(r._databaseId);return new a4(r._databaseId,!!e.ignoreUndefinedProperties,n)}function o4(r,e,n,s,o,u={}){const f=r.Dc(u.merge||u.mergeFields?2:0,e,n,o);Xp("Data must be an object, but it was:",f,s);const m=V1(s,f);let p,g;if(u.merge)p=new bn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const w of u.mergeFields){const S=Xm(e,w,n);if(!f.contains(S))throw new fe(ne.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);L1(T,S)||T.push(S)}p=new bn(T),g=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=f.fieldTransforms;return new s4(new hn(m),p,g)}class Wh extends Yp{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wh}}function l4(r,e,n,s){const o=r.Dc(1,e,n);Xp("Data must be an object, but it was:",o,s);const u=[],f=hn.empty();ss(s,(p,g)=>{const T=Wp(e,p,n);g=Lt(g);const w=o.gc(T);if(g instanceof Wh)u.push(T);else{const S=Zh(g,w);S!=null&&(u.push(T),f.set(T,S))}});const m=new bn(u);return new P1(f,m,o.fieldTransforms)}function u4(r,e,n,s,o,u){const f=r.Dc(1,e,n),m=[Xm(e,s,n)],p=[o];if(u.length%2!=0)throw new fe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Xm(e,u[S])),p.push(u[S+1]);const g=[],T=hn.empty();for(let S=m.length-1;S>=0;--S)if(!L1(g,m[S])){const M=m[S];let k=p[S];k=Lt(k);const G=f.gc(M);if(k instanceof Wh)g.push(M);else{const B=Zh(k,G);B!=null&&(g.push(M),T.set(M,B))}}const w=new bn(g);return new P1(T,w,f.fieldTransforms)}function Zh(r,e){if(j1(r=Lt(r)))return Xp("Unsupported field value:",e,r),V1(r,e);if(r instanceof Yp)return function(s,o){if(!k1(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Zh(m,o.yc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Lt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return KC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=tt.fromDate(s);return{timestampValue:wh(o.serializer,u)}}if(s instanceof tt){const u=new tt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:wh(o.serializer,u)}}if(s instanceof Ei)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Vn)return{bytesValue:n1(o.serializer,s._byteString)};if(s instanceof xt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Op(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ti)return function(f,m){return{mapValue:{fields:{[DT]:{stringValue:OT},[vh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return xp(m.serializer,g)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${bp(s)}`)}(r,e)}function V1(r,e){const n={};return AT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ss(r,(s,o)=>{const u=Zh(o,e.Vc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function j1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof tt||r instanceof Ei||r instanceof Vn||r instanceof xt||r instanceof Yp||r instanceof Ti)}function Xp(r,e,n){if(!j1(n)||!wT(n)){const s=bp(n);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function Xm(r,e,n){if((e=Lt(e))instanceof Xh)return e._internalPath;if(typeof e=="string")return Wp(r,e);throw Ih("Field path arguments must be of type string or ",r,!1,void 0,n)}const c4=new RegExp("[~\\*/\\[\\]]");function Wp(r,e,n){if(e.search(c4)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Xh(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ih(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new fe(ne.INVALID_ARGUMENT,m+r+p)}function L1(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new h4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(z1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class h4 extends U1{data(){return super.data()}}function z1(r,e){return typeof e=="string"?Wp(r,e):e instanceof Xh?e._internalPath:e._delegate._internalPath}class f4{convertValue(e,n="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ss(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[vh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>pt(f.doubleValue));return new Ti(u)}convertGeoPoint(e){return new Ei(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Uh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const n=Jr(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=at.fromString(e);Fe(l1(s),9688,{name:e});const o=new Zl(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||or(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Ul{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qs extends U1{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(z1("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qs._jsonSchema={type:bt("string",Qs._jsonSchemaVersion),bundleSource:bt("string","DocumentSnapshot"),bundleName:bt("string"),bundle:bt("string")};class sh extends Qs{data(e={}){return super.data(e)}}class Ql{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ul(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new sh(this._firestore,this._userDataWriter,s.key,s,new Ul(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ul(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ul(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:m4(m.type),doc:p,oldIndex:g,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ql._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Tp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function m4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(r){r=Js(r,xt);const e=Js(r.firestore,$h);return e4(O1(e),r._key).then(n=>_4(e,r,n))}Ql._jsonSchemaVersion="firestore/querySnapshot/1.0",Ql._jsonSchema={type:bt("string",Ql._jsonSchemaVersion),bundleSource:bt("string","QuerySnapshot"),bundleName:bt("string"),bundle:bt("string")};class g4 extends f4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}}function y4(r,e,n){r=Js(r,xt);const s=Js(r.firestore,$h),o=d4(r.converter,e);return B1(s,[o4(M1(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,vi.none())])}function v4(r,e,n,...s){r=Js(r,xt);const o=Js(r.firestore,$h),u=M1(o);let f;return f=typeof(e=Lt(e))=="string"||e instanceof Xh?u4(u,"updateDoc",r._key,e,n,s):l4(u,"updateDoc",r._key,e),B1(o,[f.toMutation(r._key,vi.exists(!0))])}function B1(r,e){return function(s,o){const u=new $r;return s.asyncQueue.enqueueAndForget(async()=>zN(await ZN(s),o,u)),u.promise}(O1(r),e)}function _4(r,e,n){const s=n.docs.get(e._key),o=new g4(r);return new Qs(r,o,e._key,s,new Ul(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){vo=o})(na),$s(new Xr("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new $h(new rC(s.getProvider("auth-internal")),new oC(f,s.getProvider("app-check-internal")),function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(g.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),mi(n0,i0,e),mi(n0,i0,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="firebasestorage.googleapis.com",E4="storageBucket",T4=2*60*1e3,b4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends Ai{constructor(e,n,s=0){super(Em(e),`Firebase Storage: ${n} (${Em(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ii.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Em(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Si;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Si||(Si={}));function Em(r){return"storage/"+r}function w4(){const r="An unknown error occurred, please check the error payload for server response.";return new Ii(Si.UNKNOWN,r)}function S4(){return new Ii(Si.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function A4(){return new Ii(Si.CANCELED,"User canceled the upload/download.")}function R4(r){return new Ii(Si.INVALID_URL,"Invalid URL '"+r+"'.")}function I4(r){return new Ii(Si.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function W0(r){return new Ii(Si.INVALID_ARGUMENT,r)}function H1(){return new Ii(Si.APP_DELETED,"The Firebase app was deleted.")}function C4(r){return new Ii(Si.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Fn.makeFromUrl(e,n)}catch{return new Fn(e,"")}if(s.path==="")return s;throw I4(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function g(ue){ue.path_=decodeURIComponent(ue.path)}const T="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",M=new RegExp(`^https?://${w}/${T}/b/${o}/o${S}`,"i"),k={bucket:1,path:3},G=n===q1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,B="([^?#]*)",Y=new RegExp(`^https?://${G}/${o}/${B}`,"i"),ie=[{regex:m,indices:p,postModify:u},{regex:M,indices:k,postModify:g},{regex:Y,indices:{bucket:1,path:2},postModify:g}];for(let ue=0;ue<ie.length;ue++){const ae=ie[ue],ve=ae.regex.exec(e);if(ve){const O=ve[ae.indices.bucket];let R=ve[ae.indices.path];R||(R=""),s=new Fn(O,R),ae.postModify(s);break}}if(s==null)throw R4(e);return s}}class x4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(r,e,n){let s=1,o=null,u=null,f=!1,m=0;function p(){return m===2}let g=!1;function T(...B){g||(g=!0,e.apply(null,B))}function w(B){o=setTimeout(()=>{o=null,r(M,p())},B)}function S(){u&&clearTimeout(u)}function M(B,...Y){if(g){S();return}if(B){S(),T.call(null,B,...Y);return}if(p()||f){S(),T.call(null,B,...Y);return}s<64&&(s*=2);let ie;m===1?(m=2,ie=0):ie=(s+Math.random())*1e3,w(ie)}let k=!1;function G(B){k||(k=!0,S(),!g&&(o!==null?(B||(m=2),clearTimeout(o),w(0)):B||(m=1)))}return w(0),u=setTimeout(()=>{f=!0,G(!0)},n),G}function D4(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(r){return r!==void 0}function Z0(r,e,n,s){if(s<e)throw W0(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw W0(`Invalid value for '${r}'. Expected ${n} or less.`)}function P4(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Ch;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Ch||(Ch={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n,s,o,u,f,m,p,g,T,w,S=!0,M=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=T,this.connectionFactory_=w,this.retry=S,this.isUsingEmulator=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,G)=>{this.resolve_=k,this.reject_=G,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Kc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===Ch.NO_ERROR,p=u.getStatus();if(!m||k4(p,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===Ch.ABORT;s(!1,new Kc(!1,null,T));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Kc(g,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());O4(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=w4();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(o.canceled){const p=this.appDelete_?H1():A4();f(p)}else{const p=S4();f(p)}};this.canceled_?n(!1,new Kc(!1,null,!0)):this.backoffId_=N4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&D4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Kc{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function V4(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function j4(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function L4(r,e){e&&(r["X-Firebase-GMPID"]=e)}function U4(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function z4(r,e,n,s,o,u,f=!0,m=!1){const p=P4(r.urlParams),g=r.url+p,T=Object.assign({},r.headers);return L4(T,e),V4(T,n),j4(T,u),U4(T,s),new M4(g,r.method,T,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,f,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function q4(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this._service=e,n instanceof Fn?this._location=n:this._location=Fn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new xh(e,n)}get root(){const e=new Fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return q4(this._location.path)}get storage(){return this._service}get parent(){const e=B4(this._location.path);if(e===null)return null;const n=new Fn(this._location.bucket,e);return new xh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw C4(e)}}function J0(r,e){const n=e==null?void 0:e[E4];return n==null?null:Fn.makeFromBucketSpec(n,r)}function H4(r,e,n,s={}){r.host=`${e}:${n}`;const o=ta(e);o&&(ap(`https://${r.host}/b`),op("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:RE(u,r.app.options.projectId))}class F4{constructor(e,n,s,o,u,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=q1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=T4,this._maxUploadRetryTime=b4,this._requests=new Set,o!=null?this._bucket=Fn.makeFromBucketSpec(o,this._host):this._bucket=J0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Fn.makeFromBucketSpec(this._url,e):this._bucket=J0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Z0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Z0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xh(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new x4(H1());{const f=z4(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const eE="@firebase/storage",tE="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="storage";function G4(r=cp(),e){r=Lt(r);const s=Ph(r,F1).getImmediate({identifier:e}),o=wE("storage");return o&&Q4(s,...o),s}function Q4(r,e,n,s={}){H4(r,e,n,s)}function K4(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new F4(n,s,o,e,na)}function Y4(){$s(new Xr(F1,K4,"PUBLIC").setMultipleInstances(!0)),mi(eE,tE,""),mi(eE,tE,"esm2017")}Y4();const $4={apiKey:"AIzaSyAQmvtKebPux-xqc1MrxVLXVutC3x9M5M0",authDomain:"msp-trade-locator.firebaseapp.com",projectId:"msp-trade-locator",storageBucket:"msp-trade-locator.firebasestorage.app",messagingSenderId:"1097476622606",appId:"1:1097476622606:web:a4434ba33f5cdb2cd72f5f"},Zp=xE($4),Ks=eC(Zp),Wm=n4(Zp);G4(Zp);const G1=Q.createContext({user:null,loading:!0}),X4=({children:r})=>{const[e,n]=Q.useState(Ks.currentUser),[s,o]=Q.useState(!0);return Q.useEffect(()=>Ks.onAuthStateChanged(async f=>{f?(await f.reload(),n(Ks.currentUser)):n(null),o(!1)}),[]),v.jsx(G1.Provider,{value:{user:e,loading:s},children:r})},zr=({children:r})=>{const{user:e,loading:n}=Jh(),s=Yt();return n?v.jsx("div",{children:"Loading..."}):e?e.emailVerified?v.jsx(v.Fragment,{children:r}):v.jsxs("div",{className:"container py-5 text-center",children:[v.jsx("h2",{children:"Please verify your email address"}),v.jsx("p",{children:"Check your inbox for a verification email before accessing this page."})]}):v.jsx(yS,{to:"/login",state:{from:s},replace:!0})};function Jh(){return Q.useContext(G1)}const W4=({})=>{const[r,e]=Q.useState(!1),{user:n,loading:s}=Jh(),o=go(),u=()=>{window.innerWidth<992&&e(!1)},f=async()=>{await H2(Ks),o("/login")},m=n&&n.emailVerified;return s?null:v.jsx("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:v.jsxs("div",{className:"container",children:[v.jsx(Ue,{className:"navbar-brand",to:"/",children:"MSP"}),v.jsx("button",{className:"navbar-toggler",type:"button","aria-controls":"main-navbar","aria-expanded":r,"aria-label":"Toggle navigation",onClick:()=>e(p=>!p),children:v.jsx("span",{className:"navbar-toggler-icon"})}),v.jsxs("div",{className:`collapse navbar-collapse${r?" show":""}`,id:"main-navbar",children:[v.jsx("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:m&&n?v.jsxs(v.Fragment,{children:[v.jsx("li",{className:"nav-item",children:v.jsx(Ue,{to:"/services",className:"nav-link",onClick:u,children:"Services"})}),v.jsx("li",{className:"nav-item",children:v.jsx(Ue,{to:"/carpentry",className:"nav-link",onClick:u,children:"Carpentry"})}),v.jsx("li",{className:"nav-item",children:v.jsx(Ue,{to:"/electrical",className:"nav-link",onClick:u,children:"Electrical"})}),v.jsx("li",{className:"nav-item",children:v.jsx(Ue,{to:"/engineering",className:"nav-link",onClick:u,children:"Engineering"})}),v.jsx("li",{className:"nav-item",children:v.jsx(Ue,{to:"/garden",className:"nav-link",onClick:u,children:"Garden"})}),v.jsx("li",{className:"nav-item",children:v.jsx(Ue,{to:"/masonry",className:"nav-link",onClick:u,children:"Masonry"})}),v.jsx("li",{className:"nav-item",children:v.jsx(Ue,{to:"/plumbing",className:"nav-link",onClick:u,children:"Plumbing"})})]}):v.jsxs(v.Fragment,{children:[v.jsx("li",{className:"nav-item",children:v.jsx(Ue,{to:"/specials",className:"nav-link",onClick:u,children:"Specials"})}),v.jsx("li",{className:"nav-item",children:v.jsx(Ue,{to:"/pricing",className:"nav-link",onClick:u,children:"Pricing"})}),v.jsx("li",{className:"nav-item",children:v.jsx(Ue,{to:"/faqs",className:"nav-link",onClick:u,children:"FAQs"})}),v.jsx("li",{className:"nav-item",children:v.jsx(Ue,{to:"/about",className:"nav-link",onClick:u,children:"About"})}),v.jsx("li",{className:"nav-item",children:v.jsx(Ue,{to:"/quote",className:"nav-link",onClick:u,children:"Instant Quote"})})]})}),v.jsx("div",{className:"d-flex",children:m?v.jsxs(v.Fragment,{children:[v.jsxs("span",{className:"navbar-text text-light me-2 d-flex align-items-center",children:[n.displayName||n.email,v.jsx(Ue,{to:"/account-settings",className:"ms-2 text-light",title:"Account Settings",style:{fontSize:"1.2rem"},children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-gear",viewBox:"0 0 16 16",children:[v.jsx("path",{d:"M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492M5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0"}),v.jsx("path",{d:"M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115z"})]})})]}),v.jsx("button",{className:"btn btn-outline-light",onClick:f,children:"Log out"})]}):v.jsxs(v.Fragment,{children:[v.jsx(Ue,{to:"/login",className:"btn btn-outline-light me-2",onClick:u,children:"Login"}),v.jsx(Ue,{to:"/sign-up",className:"btn btn-warning",onClick:u,children:"Sign-Up"})]})})]})]})})},Z4=({title:r,slogan:e})=>v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"p-3 bg-primary text-white text-center",children:[v.jsx("h1",{children:r}),v.jsx("p",{children:e||"Slogan goes here"})]}),v.jsx(W4,{})]}),J4=({title:r})=>v.jsxs("footer",{className:"p-4 bg-dark text-white text-center",role:"contentinfo",children:[v.jsxs("span",{children:[" ",new Date().getFullYear()," ",r]}),v.jsxs("nav",{"aria-label":"Social media",className:"d-inline-block ms-3",children:[v.jsx("a",{href:"https://twitter.com/","aria-label":"Twitter",target:"_blank",rel:"noopener noreferrer",style:{margin:"0 10px"},children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-twitter-x",viewBox:"0 0 16 16",children:v.jsx("path",{d:"M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865z"})})}),v.jsx("a",{href:"https://facebook.com/","aria-label":"Facebook",target:"_blank",rel:"noopener noreferrer",style:{margin:"0 10px"},children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-facebook",viewBox:"0 0 16 16",children:v.jsx("path",{d:"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951"})})}),v.jsx("a",{href:"https://whatsapp.com/","aria-label":"WhatsApp",target:"_blank",rel:"noopener noreferrer",style:{margin:"0 10px"},children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-whatsapp",viewBox:"0 0 16 16",children:v.jsx("path",{d:"M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.9 7.9 0 0 0 13.6 2.326zM7.994 14.521a6.6 6.6 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654s.71 1.916.81 2.049c.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232"})})}),v.jsx("a",{href:"mailto:info@example.com","aria-label":"Email",style:{margin:"0 10px"},children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-envelope",viewBox:"0 0 16 16",children:v.jsx("path",{d:"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1zm13 2.383-4.708 2.825L15 11.105zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741M1 11.105l4.708-2.897L1 5.383z"})})}),v.jsx("a",{href:"tel:+1234567890","aria-label":"Phone",style:{margin:"0 10px"},children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-telephone",viewBox:"0 0 16 16",children:v.jsx("path",{d:"M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.6 17.6 0 0 0 4.168 6.608 17.6 17.6 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.68.68 0 0 0-.58-.122l-2.19.547a1.75 1.75 0 0 1-1.657-.459L5.482 8.062a1.75 1.75 0 0 1-.46-1.657l.548-2.19a.68.68 0 0 0-.122-.58zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877z"})})})]})]}),eD=({id:r})=>v.jsxs("div",{id:r,style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[v.jsx(Z4,{title:"MSP Trade Locator"}),v.jsx("div",{style:{flex:1},children:v.jsx("div",{className:"container mt-5",children:v.jsx(vS,{})})}),v.jsx(J4,{title:"Powered by MSP Software Solutions"})]}),nE=({})=>v.jsx("div",{id:"home-page",className:"container py-5",children:v.jsxs("div",{className:"text-center",children:[v.jsx("h1",{className:"mb-4",children:"Welcome to Trade Locator"}),v.jsx("p",{className:"lead mb-4",children:"This is a placeholder home page. Use the navigation menu to explore services, get instant quotes, or sign up for an account."}),v.jsxs("div",{className:"d-flex justify-content-center gap-3",children:[v.jsx("a",{href:"/trade-locator/specials",className:"btn btn-primary",children:"View Specials"}),v.jsx(Ue,{to:"/quote",className:"btn btn-outline-secondary",children:"Get a Quote"})]})]})}),tD=({className:r})=>{const e=Yt();return v.jsxs("div",{className:`container py-5 ${r||""}`,id:"carpentry-page",children:[v.jsx("h1",{className:"mb-4 text-center",children:"Carpentry Services"}),v.jsx("div",{className:"row mb-4",children:v.jsx("div",{className:"col-12",children:v.jsxs("div",{className:"alert alert-danger text-center",role:"alert",children:[v.jsx("strong",{children:"Emergency Carpentry Help"}),v.jsx("br",{}),"Broken door? Damaged structure? ",v.jsx("br",{}),v.jsx(Ue,{to:"/services",className:"btn btn-danger mt-2",state:{fromPage:e.pathname},children:"Request Emergency Carpenter"}),v.jsx("div",{className:"mt-2 small text-muted",children:"Available 24/7 in your area"})]})})}),v.jsxs("div",{className:"row mb-4",children:[v.jsx("div",{className:"col-md-6 mb-3",children:v.jsx("div",{className:"card shadow-sm h-100",children:v.jsxs("div",{className:"card-body",children:[v.jsx("h5",{className:"card-title",children:"General Inquiries"}),v.jsx("p",{className:"card-text",children:"Need advice or want to schedule a carpentry project? Our skilled carpenters can help with repairs, installations, and custom work."}),v.jsx("button",{className:"btn btn-primary",children:"Book a Carpenter"})]})})}),v.jsx("div",{className:"col-md-6 mb-3",children:v.jsx("div",{className:"card shadow-sm h-100",children:v.jsxs("div",{className:"card-body",children:[v.jsx("h5",{className:"card-title",children:"Quote & Pricing"}),v.jsx("p",{className:"card-text",children:"Get an instant quote for your carpentry needs. Transparent pricing, no hidden fees."}),v.jsx(Ue,{to:"/quote",state:{fromPage:e.pathname},className:"btn btn-outline-primary",children:"Get Instant Quote"})]})})})]}),v.jsx("div",{className:"row",children:v.jsx("div",{className:"col-12",children:v.jsx("div",{className:"card shadow-sm",children:v.jsxs("div",{className:"card-body",children:[v.jsx("h5",{className:"card-title",children:"How It Works"}),v.jsxs("ol",{children:[v.jsx("li",{children:"Choose your service (emergency, general, or quote)."}),v.jsx("li",{children:"Book instantly or request a callback."}),v.jsx("li",{children:"A qualified carpenter will be dispatched to your location."}),v.jsx("li",{children:"Track your carpenter in real-time and rate your experience!"})]})]})})})})]})},nD=({className:r})=>{const e=Yt();return v.jsxs("div",{className:`container py-5 ${r||""}`,id:"plumbing-page",children:[v.jsx("h1",{className:"mb-4 text-center",children:"Plumbing Services"}),v.jsx("div",{className:"row mb-4",children:v.jsx("div",{className:"col-12",children:v.jsxs("div",{className:"alert alert-danger text-center",role:"alert",children:[v.jsx("strong",{children:"Emergency Plumbing Help"}),v.jsx("br",{}),"Burst pipe? Major leak? ",v.jsx("br",{}),v.jsx(Ue,{to:"/services",className:"btn btn-danger mt-2",state:{fromPage:e.pathname},children:"Request Emergency Plumber"}),v.jsx("div",{className:"mt-2 small text-muted",children:"Available 24/7 in your area"})]})})}),v.jsxs("div",{className:"row mb-4",children:[v.jsx("div",{className:"col-md-6 mb-3",children:v.jsx("div",{className:"card shadow-sm h-100",children:v.jsxs("div",{className:"card-body",children:[v.jsx("h5",{className:"card-title",children:"General Inquiries"}),v.jsx("p",{className:"card-text",children:"Need advice or want to schedule a routine plumbing job? Our team is ready to help with installations, maintenance, and more."}),v.jsx("button",{className:"btn btn-primary",children:"Book a Plumber"})]})})}),v.jsx("div",{className:"col-md-6 mb-3",children:v.jsx("div",{className:"card shadow-sm h-100",children:v.jsxs("div",{className:"card-body",children:[v.jsx("h5",{className:"card-title",children:"Quote & Pricing"}),v.jsx("p",{className:"card-text",children:"Get an instant quote for your plumbing needs. Transparent pricing, no hidden fees."}),v.jsx(Ue,{to:"/quote",state:{fromPage:e.pathname},className:"btn btn-outline-primary",children:"Get Instant Quote"})]})})})]}),v.jsx("div",{className:"row",children:v.jsx("div",{className:"col-12",children:v.jsx("div",{className:"card shadow-sm",children:v.jsxs("div",{className:"card-body",children:[v.jsx("h5",{className:"card-title",children:"How It Works"}),v.jsxs("ol",{children:[v.jsx("li",{children:"Choose your service (emergency, general, or quote)."}),v.jsx("li",{children:"Book instantly or request a callback."}),v.jsx("li",{children:"A qualified plumber will be dispatched to your location."}),v.jsx("li",{children:"Track your plumber in real-time and rate your experience!"})]})]})})})})]})},iD=({className:r})=>{const e=Yt();return v.jsxs("div",{className:`container py-5 ${r||""}`,id:"masonry-page",children:[v.jsx("h1",{className:"mb-4 text-center",children:"Masonry Services"}),v.jsx("div",{className:"row mb-4",children:v.jsx("div",{className:"col-12",children:v.jsxs("div",{className:"alert alert-danger text-center",role:"alert",children:[v.jsx("strong",{children:"Emergency Masonry Help"}),v.jsx("br",{}),"Structural crack? Wall collapse? ",v.jsx("br",{}),v.jsx(Ue,{to:"/services",className:"btn btn-danger mt-2",state:{fromPage:e.pathname},children:"Request Emergency Mason"}),v.jsx("div",{className:"mt-2 small text-muted",children:"Available 24/7 in your area"})]})})}),v.jsxs("div",{className:"row mb-4",children:[v.jsx("div",{className:"col-md-6 mb-3",children:v.jsx("div",{className:"card shadow-sm h-100",children:v.jsxs("div",{className:"card-body",children:[v.jsx("h5",{className:"card-title",children:"General Inquiries"}),v.jsx("p",{className:"card-text",children:"Need advice or want to schedule a masonry project? Our experts can help with repairs, installations, and more."}),v.jsx("button",{className:"btn btn-primary",children:"Book a Mason"})]})})}),v.jsx("div",{className:"col-md-6 mb-3",children:v.jsx("div",{className:"card shadow-sm h-100",children:v.jsxs("div",{className:"card-body",children:[v.jsx("h5",{className:"card-title",children:"Quote & Pricing"}),v.jsx("p",{className:"card-text",children:"Get an instant quote for your masonry needs. Transparent pricing, no hidden fees."}),v.jsx(Ue,{to:"/quote",state:{fromPage:e.pathname},className:"btn btn-outline-primary",children:"Get Instant Quote"})]})})})]}),v.jsx("div",{className:"row",children:v.jsx("div",{className:"col-12",children:v.jsx("div",{className:"card shadow-sm",children:v.jsxs("div",{className:"card-body",children:[v.jsx("h5",{className:"card-title",children:"How It Works"}),v.jsxs("ol",{children:[v.jsx("li",{children:"Choose your service (emergency, general, or quote)."}),v.jsx("li",{children:"Book instantly or request a callback."}),v.jsx("li",{children:"A qualified mason will be dispatched to your location."}),v.jsx("li",{children:"Track your mason in real-time and rate your experience!"})]})]})})})})]})},rD=({className:r})=>{const e=Yt();return v.jsxs("div",{className:`container py-5 ${r||""}`,id:"engineering-page",children:[v.jsx("h1",{className:"mb-4 text-center",children:"Engineering Services"}),v.jsx("div",{className:"row mb-4",children:v.jsx("div",{className:"col-12",children:v.jsxs("div",{className:"alert alert-danger text-center",role:"alert",children:[v.jsx("strong",{children:"Emergency Engineering Help"}),v.jsx("br",{}),"Structural failure? Urgent inspection needed? ",v.jsx("br",{}),v.jsx(Ue,{to:"/services",className:"btn btn-danger mt-2",state:{fromPage:e.pathname},children:"Request Emergency Engineer"}),v.jsx("div",{className:"mt-2 small text-muted",children:"Available 24/7 for critical issues"})]})})}),v.jsxs("div",{className:"row mb-4",children:[v.jsx("div",{className:"col-md-6 mb-3",children:v.jsx("div",{className:"card shadow-sm h-100",children:v.jsxs("div",{className:"card-body",children:[v.jsx("h5",{className:"card-title",children:"General Inquiries"}),v.jsx("p",{className:"card-text",children:"Need advice or want to schedule an engineering consultation? Our network includes civil, structural, and mechanical engineers for assessments, reports, and project planning."}),v.jsx(Ue,{to:"/quote",className:"btn btn-outline-primary",children:"Get a Quote"})]})})}),v.jsx("div",{className:"col-md-6 mb-3",children:v.jsx("div",{className:"card shadow-sm h-100",children:v.jsxs("div",{className:"card-body",children:[v.jsx("h5",{className:"card-title",children:"Quote & Pricing"}),v.jsx("p",{className:"card-text",children:"Get an instant quote for engineering services. Transparent pricing, no hidden fees."}),v.jsx(Ue,{to:"/quote",state:{fromPage:e.pathname},className:"btn btn-outline-primary",children:"Get Instant Quote"})]})})})]}),v.jsx("div",{className:"row",children:v.jsx("div",{className:"col-12",children:v.jsx("div",{className:"card shadow-sm",children:v.jsxs("div",{className:"card-body",children:[v.jsx("h5",{className:"card-title",children:"How It Works"}),v.jsxs("ol",{children:[v.jsx("li",{children:"Choose your service (emergency, general, or quote)."}),v.jsx("li",{children:"Book instantly or request a callback."}),v.jsx("li",{children:"A qualified engineer will be assigned to your project or issue."}),v.jsx("li",{children:"Track your engineer and receive detailed reports and updates."})]})]})})})})]})},sD=({className:r})=>v.jsx("div",{className:r,id:"notFound-page",children:"NotFound"}),aD=({className:r})=>{const{user:e}=Jh();return v.jsxs("div",{className:`container py-5 ${r||""}`,id:"specials-page",children:[v.jsx("h1",{className:"mb-4 text-center",children:"Special Offers"}),v.jsx("p",{className:"lead text-center mb-5",children:"Check back soon for our latest deals and special offers!"}),v.jsx("div",{className:"d-flex justify-content-center",children:v.jsx("div",{className:"card shadow-sm",style:{maxWidth:400},children:v.jsxs("div",{className:"card-body text-center",children:[v.jsx("h5",{className:"card-title",children:"No specials available right now"}),v.jsx("p",{className:"card-text",children:"Sign up for our newsletter to be the first to know about new promotions."}),!e&&v.jsx(Ue,{to:"/sign-up",className:"btn btn-primary",children:"Sign Up for Updates"})]})})})]})},oD=({className:r})=>v.jsxs("main",{className:`container py-5 ${r||""}`,id:"pricing-page",children:[v.jsx("h1",{className:"mb-4 text-center",children:"Pricing"}),v.jsx("p",{className:"lead text-center mb-5",children:"Transparent and competitive pricing for all our services. Please contact us for a custom quote or check back soon for updated pricing information."}),v.jsxs("section",{"aria-labelledby":"pricing-table-title",className:"mx-auto",style:{maxWidth:600},children:[v.jsx("h2",{id:"pricing-table-title",className:"h5 mb-3 text-center",children:"Services"}),v.jsxs("table",{className:"table table-bordered table-striped","aria-describedby":"pricing-table-desc",children:[v.jsx("caption",{id:"pricing-table-desc",className:"visually-hidden",children:"List of available services. Pricing will be published soon."}),v.jsx("thead",{className:"table-dark",children:v.jsxs("tr",{children:[v.jsx("th",{scope:"col",children:"Service"}),v.jsx("th",{scope:"col",children:"Pricing"})]})}),v.jsxs("tbody",{children:[v.jsxs("tr",{children:[v.jsx("td",{children:"Plumbing"}),v.jsx("td",{children:"Contact us for pricing"})]}),v.jsxs("tr",{children:[v.jsx("td",{children:"Carpentry"}),v.jsx("td",{children:"Contact us for pricing"})]}),v.jsxs("tr",{children:[v.jsx("td",{children:"Masonry"}),v.jsx("td",{children:"Contact us for pricing"})]}),v.jsxs("tr",{children:[v.jsx("td",{children:"Engineering Consultation"}),v.jsx("td",{children:"Contact us for pricing"})]})]})]})]}),v.jsx("div",{className:"text-center mt-4",children:v.jsx(Ue,{to:"/quote",className:"btn btn-primary","aria-label":"Request a custom quote",children:"Request a Custom Quote"})})]}),lD=({className:r})=>{const[e,n]=Q.useState(!1),s=o=>{o.preventDefault(),n(!0)};return v.jsxs("main",{className:`container py-5 ${r||""}`,id:"faqs-page",children:[v.jsx("h1",{className:"mb-4 text-center",id:"faqs-title",children:"Frequently Asked Questions"}),v.jsx("p",{className:"lead text-center mb-5",children:"Have questions? We're here to help! Check back soon for answers to our most common questions."}),v.jsx("div",{className:"d-flex justify-content-center mb-4",children:v.jsx("div",{className:"card shadow-sm",style:{maxWidth:500},children:v.jsxs("div",{className:"card-body text-center",children:[v.jsx("h2",{className:"card-title h5",children:"No FAQs available yet"}),v.jsx("p",{className:"card-text",children:"If you have a question, please contact our support team or use the form below."})]})})}),v.jsx("div",{className:"d-flex justify-content-center",children:v.jsxs("form",{className:"w-100",style:{maxWidth:500},onSubmit:s,"aria-labelledby":"faq-form-title",children:[v.jsx("h2",{className:"mb-3 text-center h5",id:"faq-form-title",children:"Submit a Question"}),v.jsxs("div",{className:"mb-3",children:[v.jsx("label",{htmlFor:"faq-name",className:"form-label",children:"Name"}),v.jsx("input",{type:"text",className:"form-control",id:"faq-name",placeholder:"Your name",required:!0,disabled:e,autoComplete:"name"})]}),v.jsxs("div",{className:"mb-3",children:[v.jsx("label",{htmlFor:"faq-email",className:"form-label",children:"Email"}),v.jsx("input",{type:"email",className:"form-control",id:"faq-email",placeholder:"Your email",required:!0,disabled:e,autoComplete:"email"})]}),v.jsxs("div",{className:"mb-3",children:[v.jsx("label",{htmlFor:"faq-question",className:"form-label",children:"Your Question"}),v.jsx("textarea",{className:"form-control",id:"faq-question",rows:3,placeholder:"Type your question here...",required:!0,disabled:e})]}),v.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:e,"aria-disabled":e,children:e?"Submitted":"Submit Question"}),v.jsx("div",{className:"mt-3","aria-live":"polite","aria-atomic":"true",children:e&&v.jsx("div",{className:"alert alert-success",role:"alert",children:"Thank you! Your question has been submitted."})})]})})]})},uD=({className:r})=>v.jsxs("main",{className:`container py-5 ${r||""}`,id:"about-page",children:[v.jsx("h1",{className:"mb-4 text-center",children:"About Us"}),v.jsx("p",{className:"lead text-center mb-4",children:"We provide world-class services at your fingertips, bringing comfort and convenience to your home."}),v.jsx("div",{className:"text-center",children:v.jsx("div",{style:{width:120,height:120,background:"#e9ecef",borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",color:"#6c757d",marginBottom:"1rem"},"aria-label":"Team photo placeholder",children:v.jsx("span",{children:"Our Team"})})}),v.jsxs("section",{className:"mx-auto",style:{maxWidth:600},children:[v.jsx("p",{children:"At Trade Locator, our mission is to connect you with trusted professionals for all your home and business needs. Whether you need plumbing, carpentry, masonry, or engineering services, our platform makes it easy to find and book the right expert."}),v.jsx("p",{children:"We are committed to quality, transparency, and customer satisfaction. Thank you for choosing us!"})]})]}),di=({id:r,label:e,type:n,placeholder:s,value:o,onChange:u,autoComplete:f,disabled:m})=>v.jsxs("div",{className:"w-100",children:[v.jsx("label",{htmlFor:r,className:"form-label",children:e}),v.jsx("input",{id:r,className:"form-control",type:n,placeholder:s,value:o,onChange:u,autoComplete:f,disabled:m})]}),cD=({className:r})=>{var w;const[e,n]=Q.useState(null),s=Q.useRef(null),o=Yt(),u=["application/pdf","image/png","image/jpeg","image/gif","image/webp"],f=5*1024*1024,m=((w=o.state)==null?void 0:w.fromPage)||document.referrer||o.pathname,[p,g]=Q.useState(m&&m!=="/quote"?`[From: ${m}] `:""),T=S=>{var k;const M=(k=S.target.files)==null?void 0:k[0];if(M){if(!u.includes(M.type)){alert("Only PDF and image files are allowed."),S.target.value="",n(null);return}if(M.size>f){alert("File is too large. Maximum size is 5MB."),S.target.value="",n(null);return}n(M.name)}else n(null)};return v.jsxs("div",{className:`container py-5 ${r||""}`,id:"quote-page",children:[v.jsx("h1",{className:"mb-4 text-center",children:"Get an Instant Quote"}),v.jsx("p",{className:"lead text-center mb-5",children:"Fill out the form below and well get back to you with a personalized quote as soon as possible."}),v.jsxs("form",{className:"mx-auto",style:{maxWidth:400},children:[v.jsx("div",{className:"mb-3",children:v.jsx(di,{id:"name",label:"Your Name",type:"text",placeholder:"Enter your name",value:"",onChange:()=>{},autoComplete:"name",disabled:!0})}),v.jsx("div",{className:"mb-3",children:v.jsx(di,{id:"email",label:"Email address",type:"email",placeholder:"Enter your email",value:"",onChange:()=>{},autoComplete:"email",disabled:!0})}),v.jsxs("div",{className:"mb-3",children:[v.jsx("label",{htmlFor:"details",className:"form-label",children:"Project Details"}),v.jsx("textarea",{className:"form-control",id:"details",rows:3,placeholder:"Describe your project",value:p,onChange:S=>g(S.target.value),disabled:!0})]}),v.jsxs("div",{className:"mb-3",children:[v.jsx("label",{htmlFor:"file",className:"form-label",children:"Attach PDF or Image"}),v.jsx("input",{type:"file",className:"form-control",id:"file",ref:s,accept:".pdf,image/*",onChange:T,disabled:!0}),e&&v.jsxs("div",{className:"form-text",children:["Selected file: ",e]})]}),v.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:!0,children:"Submit (Coming Soon)"})]})]})};function Tm(r){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)}function bm(r){return r.length>=8&&/[A-Za-z]/.test(r)&&/\d/.test(r)}const hD=({className:r})=>{const[e,n]=Q.useState(""),[s,o]=Q.useState(""),[u,f]=Q.useState(""),[m,p]=Q.useState(""),[g,T]=Q.useState(!1),[w,S]=Q.useState(!1),[M,k]=Q.useState(!1),[G,B]=Q.useState(null),Y=Q.useRef(null),ee=go(),ie=async ae=>{ae.preventDefault(),B(null);const ve=u===m&&u.length>0,O=Tm(s),R=bm(u);if(!ve||!O||!R){O||S(!0),R||k(!0);return}try{const N=(await j2(Ks,s,u)).user;await z2(N,{displayName:e}),await iT(N),alert("A verification email has been sent to your email address. Please verify your email before logging in."),await y4($m(Wm,"users",N.uid),{email:N.email,displayName:e,createdAt:new Date}),ee("/login")}catch(I){I.code==="auth/email-already-in-use"?B("This email address is already in use. Please use a different email or log in."):B(I.message||"Sign up failed. Please try again."),console.error(I)}},ue=()=>{n(""),o(""),f(""),p(""),S(!1),k(!1),setTimeout(()=>{var ae;(ae=Y.current)==null||ae.focus()},0)};return v.jsx("div",{className:`d-flex justify-content-center align-items-center ${r||""}`,id:"sign-up-page",style:{minHeight:"300px"},children:v.jsxs("form",{onSubmit:ie,className:"d-flex flex-column align-items-center gap-3 bg-light p-4 rounded shadow",style:{minWidth:340,width:370,maxWidth:"100%"},"aria-labelledby":"signup-title",children:[v.jsx("h2",{id:"signup-title",className:"mb-3",children:"Sign Up"}),v.jsx(di,{id:"username",label:"Username",type:"text",placeholder:"Username",value:e,onChange:ae=>n(ae.target.value),autoComplete:"username"}),v.jsx(di,{id:"email",label:"Email",type:"email",placeholder:"Email",value:s,onChange:ae=>o(ae.target.value),autoComplete:"email"}),w&&!Tm(s)&&v.jsx("div",{id:"email-error",className:"text-danger small w-100 text-start","aria-live":"polite",children:"Please enter a valid email address."}),v.jsx(di,{id:"password",label:"Password",type:g?"text":"password",placeholder:"Password",value:u,onChange:ae=>f(ae.target.value),autoComplete:"new-password"}),M&&!bm(u)&&v.jsx("div",{id:"password-error",className:"text-danger small w-100 text-start","aria-live":"polite",children:"Password must be at least 8 characters and contain both a letter and a number."}),v.jsx(di,{id:"confirm-password",label:"Confirm Password",type:g?"text":"password",placeholder:"Confirm Password",value:m,onChange:ae=>p(ae.target.value),autoComplete:"new-password"}),u!==m&&m.length>0&&v.jsx("div",{className:"text-danger small w-100 text-start","aria-live":"polite",children:"Passwords do not match"}),G&&v.jsx("div",{className:"text-danger small w-100 text-center mb-2","aria-live":"polite",children:G}),v.jsxs("div",{className:"d-flex w-100 gap-2 mt-2",children:[v.jsx("button",{className:"btn btn-primary flex-grow-1",type:"submit",disabled:u!==m||!Tm(s)||!bm(u),children:"Sign Up"}),v.jsx("button",{type:"button",className:"btn btn-light px-2",title:"Clear",onClick:ue,style:{fontSize:"1.2rem",lineHeight:1},"aria-label":"Clear all fields",children:""})]})]})})};function iE(r){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)}const fD=({className:r,placeholder1:e="Username",placeholder2:n="Password",type1:s="text",type2:o="password",button1Label:u="Login",button2Label:f="Cancel",onSubmit:m})=>{const[p,g]=Q.useState(""),[T,w]=Q.useState(""),[S,M]=Q.useState(!1),[k,G]=Q.useState(null),[B,Y]=Q.useState(null),[ee,ie]=Q.useState(!1),[ue,ae]=Q.useState(""),ve=go(),O=async I=>{if(I.preventDefault(),G(null),!p||!T){G("Please fill in both fields.");return}if(s==="email"&&!iE(p)){G("Please enter a valid email address.");return}M(!0);try{const N=await L2(Ks,p,T),V=N.user;if(await V.reload(),!V.emailVerified){await iT(V),G("Please verify your email address. We've sent you a new verification email.");return}m&&m(p,T),ve("/",{state:{userEmail:N.user.email}})}catch(N){G(N.message||"Login failed"),console.log("Login failed:",N)}finally{M(!1)}},R=async I=>{if(I.preventDefault(),Y(null),G(null),!ue||!iE(ue)){G("Please enter a valid email address to reset your password.");return}M(!0);try{await V2(Ks,ue),Y("A password reset email has been sent. Please check your inbox.")}catch(N){G(N.message||"Failed to send password reset email.")}finally{M(!1)}};return v.jsx("div",{className:`inputbox-container d-flex justify-content-center align-items-center ${r||""}`,style:{minHeight:"300px"},children:ee?v.jsxs("form",{className:"d-flex flex-column align-items-center gap-3 bg-light p-4 rounded shadow",style:{minWidth:300},onSubmit:R,children:[v.jsx("h2",{className:"mb-3",children:"Reset Password"}),v.jsx(di,{id:"reset-email",label:"Email for password reset",type:"email",placeholder:"Enter your email",value:ue,onChange:I=>ae(I.target.value),autoComplete:"email",disabled:!!B}),k&&v.jsx("div",{className:"text-danger small w-100 text-center","aria-live":"polite",children:k}),B&&v.jsx("div",{className:"text-success small w-100 text-center","aria-live":"polite",children:B}),v.jsx("button",{className:"btn btn-secondary w-100 mt-2",type:"submit",disabled:S||!!B,children:S?"Sending...":"Send Password Reset Email"}),v.jsx("button",{type:"button",className:"btn btn-link p-0 small",style:{textDecoration:"underline"},onClick:()=>{ie(!1),Y(null),G(null)},children:"Back to Login"})]}):v.jsxs("form",{onSubmit:O,className:"d-flex flex-column align-items-center gap-3 bg-light p-4 rounded shadow",style:{minWidth:300},"aria-labelledby":"login-title",children:[v.jsx("h2",{id:"login-title",className:"mb-3",children:"Login"}),v.jsx(di,{id:"login-username",label:s==="email"?"Email":"Username",type:s,placeholder:e,value:p,onChange:I=>g(I.target.value),autoComplete:"username"}),v.jsx(di,{id:"login-password",label:"Password",type:o,placeholder:n,value:T,onChange:I=>w(I.target.value),autoComplete:"current-password"}),k&&v.jsx("div",{className:"text-danger small w-100 text-center","aria-live":"polite",children:k}),B&&v.jsx("div",{className:"text-success small w-100 text-center","aria-live":"polite",children:B}),v.jsxs("div",{className:"d-flex gap-2 w-100 justify-content-center",children:[v.jsx("button",{className:"btn btn-primary",type:"submit",disabled:S,children:S?"Logging in...":u}),v.jsx("button",{className:"btn btn-warning",type:"button",disabled:S,children:f})]}),v.jsx("div",{className:"w-100 text-end",children:v.jsx("button",{type:"button",className:"btn btn-link p-0 small",style:{textDecoration:"underline"},onClick:()=>ie(!0),tabIndex:0,children:"Forgot password?"})})]})})},dD=()=>{const{user:r}=Jh(),[e,n]=Q.useState(""),[s,o]=Q.useState(!0),[u,f]=Q.useState(null),[m,p]=Q.useState(null),g=go();Q.useEffect(()=>{r&&(async()=>{try{const S=await p4($m(Wm,"users",r.uid));S.exists()&&n(S.data().displayName||"")}catch{p("Failed to load user data.")}finally{o(!1)}})()},[r]);const T=async w=>{if(w.preventDefault(),p(null),f(null),!!r)try{await v4($m(Wm,"users",r.uid),{displayName:e}),f("Profile updated!"),setTimeout(()=>{g("/")},1200)}catch{p("Failed to update profile.")}};return s?v.jsx("div",{children:"Loading..."}):v.jsxs("div",{className:"container py-5",style:{maxWidth:500},children:[v.jsx("h2",{className:"mb-4",children:"Account Settings"}),v.jsxs("form",{onSubmit:T,children:[v.jsx(di,{id:"displayName",label:"Display Name",type:"text",placeholder:"Enter your display name",value:e,onChange:w=>n(w.target.value)}),v.jsx("button",{className:"btn btn-primary mt-3",type:"submit",children:"Save Changes"}),u&&v.jsx("div",{className:"alert alert-success mt-3",children:u}),m&&v.jsx("div",{className:"alert alert-danger mt-3",children:m})]})]})},mD=({className:r})=>{const e=Yt();return v.jsxs("div",{className:`container py-5 ${r||""}`,id:"electrical-page",children:[v.jsx("h1",{className:"mb-4 text-center",children:"Electrical Services"}),v.jsx("div",{className:"row mb-4",children:v.jsx("div",{className:"col-12",children:v.jsxs("div",{className:"alert alert-danger text-center",role:"alert",children:[v.jsx("strong",{children:"Emergency Electrical Help"}),v.jsx("br",{}),"Power outage? Exposed wires? Electrical fire risk?",v.jsx("br",{}),v.jsx(Ue,{to:"/services",className:"btn btn-danger mt-2",state:{fromPage:e.pathname},children:"Request Emergency Electrician"}),v.jsx("div",{className:"mt-2 small text-muted",children:"Available 24/7 for urgent electrical issues"})]})})}),v.jsxs("div",{className:"row mb-4",children:[v.jsx("div",{className:"col-md-6 mb-3",children:v.jsx("div",{className:"card shadow-sm h-100",children:v.jsxs("div",{className:"card-body",children:[v.jsx("h5",{className:"card-title",children:"General Inquiries"}),v.jsx("p",{className:"card-text",children:"Need help with installations, repairs, or upgrades? Our certified electricians can assist with lighting, wiring, and more."}),v.jsx("button",{className:"btn btn-primary",children:"Book an Electrician"})]})})}),v.jsx("div",{className:"col-md-6 mb-3",children:v.jsx("div",{className:"card shadow-sm h-100",children:v.jsxs("div",{className:"card-body",children:[v.jsx("h5",{className:"card-title",children:"Quote & Pricing"}),v.jsx("p",{className:"card-text",children:"Get an instant quote for your electrical needs. Transparent pricing, no hidden fees."}),v.jsx(Ue,{to:"/quote",state:{fromPage:e.pathname},className:"btn btn-outline-primary",children:"Get Instant Quote"})]})})})]}),v.jsx("div",{className:"row",children:v.jsx("div",{className:"col-12",children:v.jsx("div",{className:"card shadow-sm",children:v.jsxs("div",{className:"card-body",children:[v.jsx("h5",{className:"card-title",children:"How It Works"}),v.jsxs("ol",{children:[v.jsx("li",{children:"Choose your service (emergency, general, or quote)."}),v.jsx("li",{children:"Book instantly or request a callback."}),v.jsx("li",{children:"A qualified electrician will be dispatched to your location."}),v.jsx("li",{children:"Track your electrician in real-time and rate your experience!"})]})]})})})})]})},pD=({className:r})=>{const e=Yt();return v.jsxs("div",{className:`container py-5 ${r||""}`,id:"garden-page",children:[v.jsx("h1",{className:"mb-4 text-center",children:"Garden & Landscaping Services"}),v.jsx("div",{className:"row mb-4",children:v.jsx("div",{className:"col-12",children:v.jsxs("div",{className:"alert alert-success text-center",role:"alert",children:[v.jsx("strong",{children:"Need Urgent Garden Help?"}),v.jsx("br",{}),"Storm damage? Fallen tree? Broken irrigation?",v.jsx("br",{}),v.jsx(Ue,{to:"/services",className:"btn btn-danger mt-2",state:{fromPage:e.pathname},children:"Request Emergency Gardener"}),v.jsx("div",{className:"mt-2 small text-muted",children:"Available 7 days a week for urgent garden issues"})]})})}),v.jsxs("div",{className:"row mb-4",children:[v.jsx("div",{className:"col-md-6 mb-3",children:v.jsx("div",{className:"card shadow-sm h-100",children:v.jsxs("div",{className:"card-body",children:[v.jsx("h5",{className:"card-title",children:"General Inquiries"}),v.jsx("p",{className:"card-text",children:"Need regular maintenance, landscaping, or advice? Our gardeners can help with mowing, planting, design, and more."}),v.jsx("button",{className:"btn btn-primary",children:"Book a Gardener"})]})})}),v.jsx("div",{className:"col-md-6 mb-3",children:v.jsx("div",{className:"card shadow-sm h-100",children:v.jsxs("div",{className:"card-body",children:[v.jsx("h5",{className:"card-title",children:"Quote & Pricing"}),v.jsx("p",{className:"card-text",children:"Get an instant quote for your garden or landscaping project. Transparent pricing, no hidden fees."}),v.jsx(Ue,{to:"/quote",state:{fromPage:e.pathname},className:"btn btn-outline-primary",children:"Get Instant Quote"})]})})})]}),v.jsx("div",{className:"row",children:v.jsx("div",{className:"col-12",children:v.jsx("div",{className:"card shadow-sm",children:v.jsxs("div",{className:"card-body",children:[v.jsx("h5",{className:"card-title",children:"How It Works"}),v.jsxs("ol",{children:[v.jsx("li",{children:"Choose your service (emergency, general, or quote)."}),v.jsx("li",{children:"Book instantly or request a callback."}),v.jsx("li",{children:"A qualified gardener will be dispatched to your location."}),v.jsx("li",{children:"Track your gardener in real-time and rate your experience!"})]})]})})})})]})},rE=[{id:"plumbing",name:"Emergency Plumbing",description:"Burst pipes, leaks, or blocked drains? Get a plumber to your door fast.",image:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=400&q=80",available:!0,eta:"20-30 min",reviews:{score:4.8,count:134}},{id:"plumbing",name:"Toilet Overflow",description:"Overflowing or clogged toilet? Rapid response for urgent repairs.",image:"https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=400&q=80",available:!0,eta:"25-35 min",reviews:{score:4.7,count:98}},{id:"electrical",name:"Emergency Electrical",description:"Power outage or exposed wires? Certified electricians available 24/7.",image:"https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=400&q=80",available:!0,eta:"25-40 min",reviews:{score:4.9,count:210}},{id:"electrical",name:"Circuit Breaker Failure",description:"Breaker tripped or panel issues? Get safe, fast help now.",image:"https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=400&q=80",available:!0,eta:"30-45 min",reviews:{score:4.6,count:75}},{id:"masonry",name:"Emergency Masonry",description:"Wall collapse or structural cracks? Skilled masons on call.",image:"https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=400&q=80",available:!1,eta:"Unavailable",reviews:{score:4.5,count:32}},{id:"masonry",name:"Falling Bricks",description:"Loose or falling bricks? Prevent further damage with urgent repairs.",image:"https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?auto=format&fit=crop&w=400&q=80",available:!0,eta:"40-60 min",reviews:{score:4.7,count:41}},{id:"carpentry",name:"Emergency Carpentry",description:"Broken doors, windows, or urgent repairs? Carpenters ready to help.",image:"https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?auto=format&fit=crop&w=400&q=80",available:!0,eta:"30-45 min",reviews:{score:4.8,count:88}},{id:"carpentry",name:"Board Up Service",description:"Broken window or door? Secure your property quickly.",image:"https://images.unsplash.com/photo-1503389152951-9c3d8b6e9c94?auto=format&fit=crop&w=400&q=80",available:!0,eta:"35-50 min",reviews:{score:4.6,count:54}},{id:"garden",name:"Emergency Garden",description:"Storm damage or fallen trees? Gardeners available for urgent needs.",image:"https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=400&q=80",available:!0,eta:"40-60 min",reviews:{score:4.7,count:61}},{id:"garden",name:"Flooded Garden",description:"Flooding or drainage issues? Get help restoring your garden.",image:"https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=400&q=80",available:!1,eta:"Unavailable",reviews:{score:4.4,count:19}},{id:"engineering",name:"Emergency Engineering",description:"Urgent inspections or structural issues? Engineers on standby.",image:"https://images.unsplash.com/photo-1503389152951-9c3d8b6e9c94?auto=format&fit=crop&w=400&q=80",available:!1,eta:"Unavailable",reviews:{score:4.5,count:12}},{id:"engineering",name:"Structural Assessment",description:"Immediate assessment for building safety after damage or disaster.",image:"https://images.unsplash.com/photo-1503389152951-9c3d8b6e9c94?auto=format&fit=crop&w=400&q=80",available:!0,eta:"60-90 min",reviews:{score:4.9,count:27}}],gD=({className:r})=>{var T;const e=Yt(),[n,s]=Q.useState("grid"),[o,u]=Q.useState(""),f=(T=e.state)==null?void 0:T.fromPage,m={"/plumbing":"plumbing","/carpentry":"carpentry","/masonry":"masonry","/electrical":"electrical","/garden":"garden","/engineering":"engineering"},p=f&&m[f]?m[f]:null,g=(p?rE.filter(w=>w.id===p):rE).filter(w=>w.name.toLowerCase().includes(o.trim().toLowerCase()));return v.jsxs("div",{className:`container py-5 ${r||""}`,id:"emergency-page",children:[v.jsx("h1",{className:"mb-4 text-center",children:"Services"}),v.jsx("div",{className:"mb-4",children:v.jsxs("div",{className:"d-flex flex-column flex-md-row align-items-center justify-content-between mb-2",children:[v.jsxs("div",{className:"d-flex align-items-center flex-grow-1",style:{minWidth:0},children:[v.jsx("input",{type:"text",className:"form-control",placeholder:"Search services...",style:{maxWidth:260,minWidth:0},value:o,onChange:w=>u(w.target.value)}),p&&v.jsx("span",{style:{width:16}}),p&&v.jsxs("span",{className:"ms-0 ms-md-3 alert alert-info mb-0 py-1 px-2",children:["Showing all ",v.jsx("strong",{children:p.charAt(0).toUpperCase()+p.slice(1)})," providers"]})]}),v.jsxs("span",{className:"mt-3 mt-md-0 ms-md-3",children:[v.jsx("button",{type:"button",className:`btn btn-outline-primary me-2${n==="grid"?" active":""}`,onClick:()=>s("grid"),"aria-label":"Grid View",style:{display:"inline-flex",alignItems:"center",justifyContent:"center"},children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-grid",viewBox:"0 0 16 16",children:v.jsx("path",{d:"M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5zM2.5 2a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5zm6.5.5A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5zM1 10.5A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5zm6.5.5A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5z"})})}),v.jsx("button",{type:"button",className:`btn btn-outline-primary${n==="list"?" active":""}`,onClick:()=>s("list"),"aria-label":"List View",style:{display:"inline-flex",alignItems:"center",justifyContent:"center"},children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-list",viewBox:"0 0 16 16",children:v.jsx("path",{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"})})})]})]})}),n==="grid"?v.jsx("div",{className:"row g-4",children:g.map((w,S)=>v.jsx("div",{className:"col-12 col-md-6 col-lg-4",children:v.jsxs("div",{className:"card h-100 shadow-sm",children:[v.jsx("img",{src:w.image,alt:w.name,className:"card-img-top",style:{height:180,objectFit:"cover"}}),v.jsxs("div",{className:"card-body d-flex flex-column",children:[v.jsx("h5",{className:"card-title",children:w.name}),v.jsx("p",{className:"card-text flex-grow-1",children:w.description}),v.jsx("div",{className:"mb-2",children:w.reviews&&v.jsxs("span",{className:"text-warning",title:`${w.reviews.score} stars`,children:[v.jsx("svg",{width:"16",height:"16",fill:"currentColor",style:{marginRight:2,marginBottom:2},viewBox:"0 0 16 16",children:v.jsx("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.32-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.63.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})}),w.reviews.score," ",v.jsxs("span",{className:"text-muted",style:{fontSize:"0.95em"},children:["(",w.reviews.count,")"]})]})}),v.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[v.jsx("span",{className:`badge ${w.available?"bg-success":"bg-secondary"}`,children:w.available?`ETA: ${w.eta}`:"Unavailable"}),v.jsx("button",{className:"btn btn-primary",disabled:!w.available,children:w.available?"Request Now":"Unavailable"})]})]})]})},w.id+S))}):v.jsx("div",{className:"list-group",children:g.map((w,S)=>v.jsx("div",{className:"list-group-item list-group-item-action mb-3",children:v.jsxs("div",{className:"d-flex align-items-center",children:[v.jsx("img",{src:w.image,alt:w.name,style:{width:80,height:80,objectFit:"cover",borderRadius:8,marginRight:20}}),v.jsxs("div",{className:"flex-grow-1",children:[v.jsx("h5",{className:"mb-1",children:w.name}),v.jsx("p",{className:"mb-1",children:w.description}),w.reviews&&v.jsxs("span",{className:"text-warning",title:`${w.reviews.score} stars`,children:[v.jsx("svg",{width:"16",height:"16",fill:"currentColor",style:{marginRight:2,marginBottom:2},viewBox:"0 0 16 16",children:v.jsx("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.32-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.63.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})}),w.reviews.score," ",v.jsxs("span",{className:"text-muted",style:{fontSize:"0.95em"},children:["(",w.reviews.count,")"]})]}),v.jsx("div",{children:v.jsx("span",{className:`badge ${w.available?"bg-success":"bg-secondary"} ms-1`,children:w.available?`ETA: ${w.eta}`:"Unavailable"})})]}),v.jsx("button",{className:"btn btn-primary ms-3",disabled:!w.available,children:w.available?"Request Now":"Unavailable"})]})},w.id+S))})]})};function yD(){return v.jsx(X4,{children:v.jsx(FS,{basename:"/trade-locator/",children:v.jsx(ES,{children:v.jsxs(Et,{element:v.jsx(eD,{id:"base-layout"}),children:[v.jsx(Et,{path:"/",element:v.jsx(nE,{})}),v.jsx(Et,{path:"/carpentry",element:v.jsx(zr,{children:v.jsx(tD,{})})}),v.jsx(Et,{path:"/engineering",element:v.jsx(zr,{children:v.jsx(rD,{})})}),v.jsx(Et,{path:"/electrical",element:v.jsx(zr,{children:v.jsx(mD,{})})}),v.jsx(Et,{path:"/services",element:v.jsx(zr,{children:v.jsx(gD,{})})}),v.jsx(Et,{path:"/garden",element:v.jsx(zr,{children:v.jsx(pD,{})})}),v.jsx(Et,{path:"/masonry",element:v.jsx(zr,{children:v.jsx(iD,{})})}),v.jsx(Et,{path:"/plumbing",element:v.jsx(nD,{})}),v.jsx(Et,{path:"/specials",element:v.jsx(aD,{})}),v.jsx(Et,{path:"/pricing",element:v.jsx(oD,{})}),v.jsx(Et,{path:"/faqs",element:v.jsx(lD,{})}),v.jsx(Et,{path:"/about",element:v.jsx(uD,{})}),v.jsx(Et,{path:"/quote",element:v.jsx(cD,{})}),v.jsx(Et,{path:"/login",element:v.jsx(fD,{})}),v.jsx(Et,{path:"/sign-up",element:v.jsx(hD,{})}),v.jsx(Et,{path:"/",element:v.jsx(zr,{children:v.jsx(nE,{})})}),v.jsx(Et,{path:"account-settings",element:v.jsx(zr,{children:v.jsx(dD,{})})}),v.jsx(Et,{path:"*",element:v.jsx(sD,{})})]})})})})}Aw.createRoot(document.getElementById("root")).render(v.jsx(Q.StrictMode,{children:v.jsx(yD,{})}));
